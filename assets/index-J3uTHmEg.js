(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function PE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Ab(){if(Uv)return jl;Uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var zv;function bb(){return zv||(zv=1,pm.exports=Ab()),pm.exports}var w=bb(),gm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function wb(){if(jv)return Ae;jv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function ne(P,Z,oe){this.props=P,this.context=Z,this.refs=U,this.updater=oe||k}ne.prototype.isReactComponent={},ne.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ee(){}ee.prototype=ne.prototype;function V(P,Z,oe){this.props=P,this.context=Z,this.refs=U,this.updater=oe||k}var re=V.prototype=new ee;re.constructor=V,B(re,ne.prototype),re.isPureReactComponent=!0;var ue=Array.isArray;function de(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(P,Z,oe){var ce=oe.ref;return{$$typeof:r,type:P,key:Z,ref:ce!==void 0?ce:null,props:oe}}function L(P,Z){return N(P.type,Z,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function j(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return Z[oe]})}var x=/\/+/g;function Be(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?j(""+P.key):Z.toString(36)}function Ye(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(de,de):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function $(P,Z,oe,ce,Te){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var ze=!1;if(P===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(P.$$typeof){case r:case e:ze=!0;break;case _:return ze=P._init,$(ze(P._payload),Z,oe,ce,Te)}}if(ze)return Te=Te(P),ze=ce===""?"."+Be(P,0):ce,ue(Te)?(oe="",ze!=null&&(oe=ze.replace(x,"$&/")+"/"),$(Te,Z,oe,"",function(vs){return vs})):Te!=null&&(O(Te)&&(Te=L(Te,oe+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(x,"$&/")+"/")+ze)),Z.push(Te)),1;ze=0;var Pt=ce===""?".":ce+":";if(ue(P))for(var ot=0;ot<P.length;ot++)ce=P[ot],Ce=Pt+Be(ce,ot),ze+=$(ce,Z,oe,Ce,Te);else if(ot=C(P),typeof ot=="function")for(P=ot.call(P),ot=0;!(ce=P.next()).done;)ce=ce.value,Ce=Pt+Be(ce,ot++),ze+=$(ce,Z,oe,Ce,Te);else if(Ce==="object"){if(typeof P.then=="function")return $(Ye(P),Z,oe,ce,Te);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ae(P,Z,oe){if(P==null)return P;var ce=[],Te=0;return $(P,ce,"","",function(Ce){return Z.call(oe,Ce,Te++)}),ce}function pe(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var Oe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},qe={map:ae,forEach:function(P,Z,oe){ae(P,function(){Z.apply(this,arguments)},oe)},count:function(P){var Z=0;return ae(P,function(){Z++}),Z},toArray:function(P){return ae(P,function(Z){return Z})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ae.Activity=T,Ae.Children=qe,Ae.Component=ne,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=V,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Ae.cache=function(P){return function(){return P.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(P,Z,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=B({},P.props),Te=P.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!R.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ce[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=oe;else if(1<Ce){for(var ze=Array(Ce),Pt=0;Pt<Ce;Pt++)ze[Pt]=arguments[Pt+2];ce.children=ze}return N(P.type,Te,ce)},Ae.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ae.createElement=function(P,Z,oe){var ce,Te={},Ce=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ce=""+Z.key),Z)R.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=Z[ce]);var ze=arguments.length-2;if(ze===1)Te.children=oe;else if(1<ze){for(var Pt=Array(ze),ot=0;ot<ze;ot++)Pt[ot]=arguments[ot+2];Te.children=Pt}if(P&&P.defaultProps)for(ce in ze=P.defaultProps,ze)Te[ce]===void 0&&(Te[ce]=ze[ce]);return N(P,Ce,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(P){return{$$typeof:g,render:P}},Ae.isValidElement=O,Ae.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:pe}},Ae.memo=function(P,Z){return{$$typeof:p,type:P,compare:Z===void 0?null:Z}},Ae.startTransition=function(P){var Z=I.T,oe={};I.T=oe;try{var ce=P(),Te=I.S;Te!==null&&Te(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(de,Oe)}catch(Ce){Oe(Ce)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),I.T=Z}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(P){return I.H.use(P)},Ae.useActionState=function(P,Z,oe){return I.H.useActionState(P,Z,oe)},Ae.useCallback=function(P,Z){return I.H.useCallback(P,Z)},Ae.useContext=function(P){return I.H.useContext(P)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(P,Z){return I.H.useDeferredValue(P,Z)},Ae.useEffect=function(P,Z){return I.H.useEffect(P,Z)},Ae.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(P,Z,oe){return I.H.useImperativeHandle(P,Z,oe)},Ae.useInsertionEffect=function(P,Z){return I.H.useInsertionEffect(P,Z)},Ae.useLayoutEffect=function(P,Z){return I.H.useLayoutEffect(P,Z)},Ae.useMemo=function(P,Z){return I.H.useMemo(P,Z)},Ae.useOptimistic=function(P,Z){return I.H.useOptimistic(P,Z)},Ae.useReducer=function(P,Z,oe){return I.H.useReducer(P,Z,oe)},Ae.useRef=function(P){return I.H.useRef(P)},Ae.useState=function(P){return I.H.useState(P)},Ae.useSyncExternalStore=function(P,Z,oe){return I.H.useSyncExternalStore(P,Z,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.4",Ae}var Bv;function gp(){return Bv||(Bv=1,gm.exports=wb()),gm.exports}var G=gp();const Dt=PE(G);var ym={exports:{}},Bl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Rb(){return qv||(qv=1,(function(r){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var Oe=pe-1>>>1,qe=$[Oe];if(0<o(qe,ae))$[Oe]=ae,$[pe]=qe,pe=Oe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var Oe=0,qe=$.length,P=qe>>>1;Oe<P;){var Z=2*(Oe+1)-1,oe=$[Z],ce=Z+1,Te=$[ce];if(0>o(oe,pe))ce<qe&&0>o(Te,oe)?($[Oe]=Te,$[ce]=pe,Oe=ce):($[Oe]=oe,$[Z]=pe,Oe=Z);else if(ce<qe&&0>o(Te,pe))$[Oe]=Te,$[ce]=pe,Oe=ce;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],p=[],_=1,T=null,S=3,C=!1,k=!1,B=!1,U=!1,ne=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function re($){for(var ae=n(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=$)s(p),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=n(p)}}function ue($){if(B=!1,re($),!k)if(n(m)!==null)k=!0,de||(de=!0,j());else{var ae=n(p);ae!==null&&Ye(ue,ae.startTime-$)}}var de=!1,I=-1,R=5,N=-1;function L(){return U?!0:!(r.unstable_now()-N<R)}function O(){if(U=!1,de){var $=r.unstable_now();N=$;var ae=!0;try{e:{k=!1,B&&(B=!1,ee(I),I=-1),C=!0;var pe=S;try{t:{for(re($),T=n(m);T!==null&&!(T.expirationTime>$&&L());){var Oe=T.callback;if(typeof Oe=="function"){T.callback=null,S=T.priorityLevel;var qe=Oe(T.expirationTime<=$);if($=r.unstable_now(),typeof qe=="function"){T.callback=qe,re($),ae=!0;break t}T===n(m)&&s(m),re($)}else s(m);T=n(m)}if(T!==null)ae=!0;else{var P=n(p);P!==null&&Ye(ue,P.startTime-$),ae=!1}}break e}finally{T=null,S=pe,C=!1}ae=void 0}}finally{ae?j():de=!1}}}var j;if(typeof V=="function")j=function(){V(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Be=x.port2;x.port1.onmessage=O,j=function(){Be.postMessage(null)}}else j=function(){ne(O,0)};function Ye($,ae){I=ne(function(){$(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var pe=S;S=ae;try{return $()}finally{S=pe}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=S;S=$;try{return ae()}finally{S=pe}},r.unstable_scheduleCallback=function($,ae,pe){var Oe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,$){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=pe+qe,$={id:_++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:qe,sortIndex:-1},pe>Oe?($.sortIndex=pe,e(p,$),n(m)===null&&$===n(p)&&(B?(ee(I),I=-1):B=!0,Ye(ue,pe-Oe))):($.sortIndex=qe,e(m,$),k||C||(k=!0,de||(de=!0,j()))),$},r.unstable_shouldYield=L,r.unstable_wrapCallback=function($){var ae=S;return function(){var pe=S;S=ae;try{return $.apply(this,arguments)}finally{S=pe}}}})(vm)),vm}var Hv;function Cb(){return Hv||(Hv=1,_m.exports=Rb()),_m.exports}var Em={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Ib(){if(Fv)return en;Fv=1;var r=gp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,_)},en.flushSync=function(m){var p=h.T,_=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=p,s.p=_,s.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=g(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=g(_,p.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=g(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},en.requestFormReset=function(m){s.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,_){return h.H.useFormState(m,p,_)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.4",en}var Gv;function Nb(){if(Gv)return Em.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=Ib(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function xb(){if(Qv)return Bl;Qv=1;var r=Cb(),e=gp(),n=Nb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,A=f.child;A;){if(A===a){v=!0,a=f,l=d;break}if(A===l){v=!0,l=f,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=f;break}if(A===l){v=!0,l=d,a=f;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),V=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case ne:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case V:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Be(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Be(t(i))}catch{}}return null}var Ye=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],qe=-1;function P(t){return{current:t}}function Z(t){0>qe||(t.current=Oe[qe],Oe[qe]=null,qe--)}function oe(t,i){qe++,Oe[qe]=t.current,t.current=i}var ce=P(null),Te=P(null),Ce=P(null),ze=P(null);function Pt(t,i){switch(oe(Ce,i),oe(Te,t),oe(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ov(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ov(i),t=lv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),oe(ce,t)}function ot(){Z(ce),Z(Te),Z(Ce)}function vs(t){t.memoizedState!==null&&oe(ze,t);var i=ce.current,a=lv(i,t.type);i!==a&&(oe(Te,t),oe(ce,a))}function da(t){Te.current===t&&(Z(ce),Z(Te)),ze.current===t&&(Z(ze),Pl._currentValue=pe)}var ma,pa;function ui(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Po=!1;function Es(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var Q=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){Q=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var D=v.split(`
`),F=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Lo(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Es(t.type,!1);case 11:return Es(t.type.render,!1);case 1:return Es(t.type,!0);case 31:return ui("Activity");default:return""}}function Uo(t){try{var i="",a=null;do i+=Lo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Lt=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Nu=r.unstable_requestPaint,on=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,zo=r.unstable_ImmediatePriority,jo=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,_f=r.unstable_LowPriority,xu=r.unstable_IdlePriority,Du=r.log,Ou=r.unstable_setDisableYieldValue,Qn=null,Gt=null;function Dn(t){if(typeof Du=="function"&&Ou(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,t)}catch{}}var gt=Math.clz32?Math.clz32:Vu,Mu=Math.log,ga=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(Mu(t)/ga|0)|0}var ci=256,Ss=262144,St=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=hi(l):(v&=A,v!==0?f=hi(v):a||(a=A&~t,a!==0&&(f=hi(a))))):(A=l&~d,A!==0?f=hi(A):v!==0?f=hi(v):a||(a=l&~t,a!==0&&(f=hi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-gt(a),te=1<<X;A[X]=0,D[X]=-1;var Q=F[X];if(Q!==null)for(F[X]=null,X=0;X<Q.length;X++){var Y=Q[X];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&bs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function bs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-gt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function qo(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Dv(t.type))}function Yn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var $n=Math.random().toString(36).slice(2),At="__reactFiber$"+$n,Bt="__reactProps$"+$n,mi="__reactContainer$"+$n,ya="__reactEvents$"+$n,Tf="__reactListeners$"+$n,Lu="__reactHandles$"+$n,Uu="__reactResources$"+$n,pi="__reactMarker$"+$n;function _a(t){delete t[At],delete t[Bt],delete t[ya],delete t[Tf],delete t[Lu]}function gi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[At])return a;t=pv(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[At]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[pi]=!0}var Ho=new Set,Fo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function zu(t){return Tt.call(Ko,t)?!0:Tt.call(Qo,t)?!1:Go.test(t)?Ko[t]=!0:(Qo[t]=!0,!1)}function va(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function cn(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,f,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+qt(i)):t.value!==""+qt(i)&&(t.value=""+qt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$o(t,v,qt(i)):a!=null?$o(t,v,qt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+qt(A):t.removeAttribute("name")}function ju(t,i,a,l,f,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function $o(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Bu(t,i,a){if(i!=null&&(i=""+qt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+qt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Wo=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Ti=null;function Is(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Bt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rs(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var Aa=!1;function Ar(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var l=t(i);return l}finally{if(Aa=!1,(Sr!==null||Ti!==null)&&(Pc(),Sr&&(i=Sr,t=Ti,Ti=Sr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Vn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ns=!1}var Si=null,Zo=null,xs=null;function el(){if(xs)return xs;var t,i=Zo,a=i.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return xs=f.slice(t,1<l?1-l:void 0)}function Ds(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ji(){return!0}function Wn(){return!1}function Qt(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ji:Wn,this.isPropagationStopped=Wn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qt(Bi),br=T({},Bi,{view:0,detail:0}),tl=Qt(br),wr,ba,bi,wa=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(wr=t.screenX-bi.screenX,ba=t.screenY-bi.screenY):ba=wr=0,bi=t),wr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),nl=Qt(wa),Os=T({},wa,{dataTransfer:0}),Fu=Qt(Os),Gu=T({},br,{relatedTarget:0}),Ms=Qt(Gu),il=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=Qt(il),Ra=T({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Qt(Ra),Yu=T({},Bi,{data:0}),wi=Qt(Yu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function Rr(){return Wu}var ln=T({},br,{key:function(t){if(t.key){var i=$u[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Qt(ln),ec=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Qt(ec),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),y=Qt(c),E=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qt(E),q=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Qt(q),se=T({},Bi,{newState:0,oldState:0}),we=Qt(se),yt=[9,13,27,32],Ge=Vn&&"CompositionEvent"in window,lt=null;Vn&&"documentMode"in document&&(lt=document.documentMode);var kn=Vn&&"TextEvent"in window&&!lt,Ri=Vn&&(!Ge||lt&&8<lt&&11>=lt),Zn=" ",ei=!1;function Vs(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function KS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(ei=!0,Zn);case"textInput":return t=i.data,t===Zn&&ei?null:t;default:return null}}function YS(t,i){if(Ia)return t==="compositionend"||!Ge&&Vs(t,i)?(t=el(),xs=Zo=Si=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$S[t.type]:i==="textarea"}function vg(t,i,a,l){Sr?Ti?Ti.push(l):Ti=[l]:Sr=l,i=Hc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function XS(t){tv(t,0)}function tc(t){var i=vn(t);if(Rs(i))return t}function Eg(t,i){if(t==="change")return i}var Tg=!1;if(Vn){var Sf;if(Vn){var Af="oninput"in document;if(!Af){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Af=typeof Sg.oninput=="function"}Sf=Af}else Sf=!1;Tg=Sf&&(!document.documentMode||9<document.documentMode)}function Ag(){rl&&(rl.detachEvent("onpropertychange",bg),sl=rl=null)}function bg(t){if(t.propertyName==="value"&&tc(sl)){var i=[];vg(i,sl,t,Mn(t)),Ar(XS,i)}}function JS(t,i,a){t==="focusin"?(Ag(),rl=i,sl=a,rl.attachEvent("onpropertychange",bg)):t==="focusout"&&Ag()}function WS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(sl)}function ZS(t,i){if(t==="click")return tc(i)}function eA(t,i){if(t==="input"||t==="change")return tc(i)}function tA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:tA;function al(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(i,f)||!Tn(t[f],i[f]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,i){var a=wg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nA=Vn&&"documentMode"in document&&11>=document.documentMode,Na=null,wf=null,ol=null,Rf=!1;function Ng(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Na==null||Na!==Ei(l)||(l=Na,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Hc(wf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Cf={},xg={};Vn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ps(t){if(Cf[t])return Cf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return Cf[t]=i[a];return t}var Dg=Ps("animationend"),Og=Ps("animationiteration"),Mg=Ps("animationstart"),iA=Ps("transitionrun"),rA=Ps("transitionstart"),sA=Ps("transitioncancel"),Vg=Ps("transitionend"),kg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function ti(t,i){kg.set(t,i),_i(i,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Da=0,Nf=0;function ic(){for(var t=Da,i=Nf=Da=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Pg(a,f,d)}}function rc(t,i,a,l){Pn[Da++]=t,Pn[Da++]=i,Pn[Da++]=a,Pn[Da++]=l,Nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return rc(t,i,a,l),sc(t)}function Ls(t,i){return rc(t,null,null,i),sc(t)}function Pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-gt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(t){if(50<Nl)throw Nl=0,zd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function aA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,a,l){return new aA(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=Sn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ac(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")Df(t)&&(v=1);else if(typeof t=="string")v=hb(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Sn(31,a,i,f),t.elementType=N,t.lanes=d,t;case B:return Us(a.children,f,d,i);case U:v=8,f|=24;break;case ne:return t=Sn(12,a,i,f|2),t.elementType=ne,t.lanes=d,t;case ue:return t=Sn(13,a,i,f),t.elementType=ue,t.lanes=d,t;case de:return t=Sn(19,a,i,f),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:v=10;break e;case ee:v=9;break e;case re:v=11;break e;case I:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Sn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=Sn(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=Sn(6,t,null,i),t.lanes=a,t}function Ug(t){var i=Sn(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var zg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Uo(i)},zg.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var Ma=[],Va=0,oc=null,ll=0,Un=[],zn=0,Cr=null,Ci=1,Ii="";function Fi(t,i){Ma[Va++]=ll,Ma[Va++]=oc,oc=t,ll=i}function jg(t,i,a){Un[zn++]=Ci,Un[zn++]=Ii,Un[zn++]=Cr,Cr=t;var l=Ci;t=Ii;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ci=1<<32-gt(i)+f|a<<f|l,Ii=d+t}else Ci=1<<d|a<<f|l,Ii=t}function Vf(t){t.return!==null&&(Fi(t,1),jg(t,1,0))}function kf(t){for(;t===oc;)oc=Ma[--Va],Ma[Va]=null,ll=Ma[--Va],Ma[Va]=null;for(;t===Cr;)Cr=Un[--zn],Un[zn]=null,Ii=Un[--zn],Un[zn]=null,Ci=Un[--zn],Un[zn]=null}function Bg(t,i){Un[zn++]=Ci,Un[zn++]=Ii,Un[zn++]=Cr,Ci=i.id,Ii=i.overflow,Cr=t}var Kt=null,rt=null,Ue=!1,Ir=null,jn=!1,Pf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Ln(i,t)),Pf}function qg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Bt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)xe(Dl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||sv(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||Nr(t,!0)}function Hg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Kt=Kt.return}}function ka(t){if(t!==Kt)return!1;if(!Ue)return Hg(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&rt&&Nr(t),Hg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=mv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=mv(t)}else i===27?(i=rt,Hr(t.type)?(t=sm,sm=null,rt=t):rt=i):rt=Kt?qn(t.stateNode.nextSibling):null;return!0}function zs(){rt=Kt=null,Ue=!1}function Lf(){var t=Ir;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ir=null),t}function ul(t){Ir===null?Ir=[t]:Ir.push(t)}var Uf=P(null),js=null,Gi=null;function xr(t,i,a){oe(Uf,i._currentValue),i._currentValue=a}function Qi(t){t._currentValue=Uf.current,Z(Uf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),zf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Pa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=f.type;Tn(f.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(f===ze.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&jf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){js=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Fg(js,t)}function uc(t,i){return js===null&&Bs(t),Fg(t,i)}function Fg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var oA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},lA=r.unstable_scheduleCallback,uA=r.unstable_NormalPriority,Rt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new oA,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&lA(uA,function(){t.controller.abort()})}var hl=null,qf=0,La=0,Ua=null;function cA(t,i){if(hl===null){var a=hl=[];qf=0,La=Gd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(Gg,Gg),i}function Gg(){if(--qf===0&&hl!==null){Ua!==null&&(Ua.status="fulfilled");var t=hl;hl=null,La=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=$.S;$.S=function(t,i){N_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&cA(t,i),Qg!==null&&Qg(t,i)};var qs=P(null);function Hf(){var t=qs.current;return t!==null?t:nt.pooledCache}function cc(t,i){i===null?oe(qs,qs.current):oe(qs,i.pool)}function Kg(){var t=Hf();return t===null?null:{parent:Rt._currentValue,pool:t}}var za=Error(s(460)),Ff=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw Fs=i,za}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fs=a,za):a}}var Fs=null;function Xg(){if(Fs===null)throw Error(s(459));var t=Fs;return Fs=null,t}function Jg(t){if(t===za||t===hc)throw Error(s(483))}var ja=null,fl=0;function dc(t){var i=fl;return fl+=1,ja===null&&(ja=[]),$g(ja,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wg(t){function i(z,M){if(t){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=Hi(z,M),z.index=0,z.sibling=null,z}function d(z,M,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=67108866,M):H):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,M,H,J){return M===null||M.tag!==6?(M=Of(H,z.mode,J),M.return=z,M):(M=f(M,H),M.return=z,M)}function D(z,M,H,J){var ge=H.type;return ge===B?X(z,M,H.props.children,J,H.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===M.type)?(M=f(M,H.props),dl(M,H),M.return=z,M):(M=ac(H.type,H.key,H.props,null,z.mode,J),dl(M,H),M.return=z,M)}function F(z,M,H,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Mf(H,z.mode,J),M.return=z,M):(M=f(M,H.children||[]),M.return=z,M)}function X(z,M,H,J,ge){return M===null||M.tag!==7?(M=Us(H,z.mode,J,ge),M.return=z,M):(M=f(M,H),M.return=z,M)}function te(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Of(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return H=ac(M.type,M.key,M.props,null,z.mode,H),dl(H,M),H.return=z,H;case k:return M=Mf(M,z.mode,H),M.return=z,M;case R:return M=Hs(M),te(z,M,H)}if(Ye(M)||j(M))return M=Us(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return te(z,dc(M),H);if(M.$$typeof===V)return te(z,uc(z,M),H);mc(z,M)}return null}function Q(z,M,H,J){var ge=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:A(z,M,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===ge?D(z,M,H,J):null;case k:return H.key===ge?F(z,M,H,J):null;case R:return H=Hs(H),Q(z,M,H,J)}if(Ye(H)||j(H))return ge!==null?null:X(z,M,H,J,null);if(typeof H.then=="function")return Q(z,M,dc(H),J);if(H.$$typeof===V)return Q(z,M,uc(z,H),J);mc(z,H)}return null}function Y(z,M,H,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,A(M,z,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return z=z.get(J.key===null?H:J.key)||null,D(M,z,J,ge);case k:return z=z.get(J.key===null?H:J.key)||null,F(M,z,J,ge);case R:return J=Hs(J),Y(z,M,H,J,ge)}if(Ye(J)||j(J))return z=z.get(H)||null,X(M,z,J,ge,null);if(typeof J.then=="function")return Y(z,M,H,dc(J),ge);if(J.$$typeof===V)return Y(z,M,H,uc(M,J),ge);mc(M,J)}return null}function fe(z,M,H,J){for(var ge=null,He=null,me=M,Ie=M=0,Ve=null;me!==null&&Ie<H.length;Ie++){me.index>Ie?(Ve=me,me=null):Ve=me.sibling;var Fe=Q(z,me,H[Ie],J);if(Fe===null){me===null&&(me=Ve);break}t&&me&&Fe.alternate===null&&i(z,me),M=d(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe,me=Ve}if(Ie===H.length)return a(z,me),Ue&&Fi(z,Ie),ge;if(me===null){for(;Ie<H.length;Ie++)me=te(z,H[Ie],J),me!==null&&(M=d(me,M,Ie),He===null?ge=me:He.sibling=me,He=me);return Ue&&Fi(z,Ie),ge}for(me=l(me);Ie<H.length;Ie++)Ve=Y(me,z,Ie,H[Ie],J),Ve!==null&&(t&&Ve.alternate!==null&&me.delete(Ve.key===null?Ie:Ve.key),M=d(Ve,M,Ie),He===null?ge=Ve:He.sibling=Ve,He=Ve);return t&&me.forEach(function(Yr){return i(z,Yr)}),Ue&&Fi(z,Ie),ge}function _e(z,M,H,J){if(H==null)throw Error(s(151));for(var ge=null,He=null,me=M,Ie=M=0,Ve=null,Fe=H.next();me!==null&&!Fe.done;Ie++,Fe=H.next()){me.index>Ie?(Ve=me,me=null):Ve=me.sibling;var Yr=Q(z,me,Fe.value,J);if(Yr===null){me===null&&(me=Ve);break}t&&me&&Yr.alternate===null&&i(z,me),M=d(Yr,M,Ie),He===null?ge=Yr:He.sibling=Yr,He=Yr,me=Ve}if(Fe.done)return a(z,me),Ue&&Fi(z,Ie),ge;if(me===null){for(;!Fe.done;Ie++,Fe=H.next())Fe=te(z,Fe.value,J),Fe!==null&&(M=d(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe);return Ue&&Fi(z,Ie),ge}for(me=l(me);!Fe.done;Ie++,Fe=H.next())Fe=Y(me,z,Ie,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?Ie:Fe.key),M=d(Fe,M,Ie),He===null?ge=Fe:He.sibling=Fe,He=Fe);return t&&me.forEach(function(Sb){return i(z,Sb)}),Ue&&Fi(z,Ie),ge}function tt(z,M,H,J){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:e:{for(var ge=H.key;M!==null;){if(M.key===ge){if(ge=H.type,ge===B){if(M.tag===7){a(z,M.sibling),J=f(M,H.props.children),J.return=z,z=J;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===M.type){a(z,M.sibling),J=f(M,H.props),dl(J,H),J.return=z,z=J;break e}a(z,M);break}else i(z,M);M=M.sibling}H.type===B?(J=Us(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=ac(H.type,H.key,H.props,null,z.mode,J),dl(J,H),J.return=z,z=J)}return v(z);case k:e:{for(ge=H.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(z,M.sibling),J=f(M,H.children||[]),J.return=z,z=J;break e}else{a(z,M);break}else i(z,M);M=M.sibling}J=Mf(H,z.mode,J),J.return=z,z=J}return v(z);case R:return H=Hs(H),tt(z,M,H,J)}if(Ye(H))return fe(z,M,H,J);if(j(H)){if(ge=j(H),typeof ge!="function")throw Error(s(150));return H=ge.call(H),_e(z,M,H,J)}if(typeof H.then=="function")return tt(z,M,dc(H),J);if(H.$$typeof===V)return tt(z,M,uc(z,H),J);mc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(z,M.sibling),J=f(M,H),J.return=z,z=J):(a(z,M),J=Of(H,z.mode,J),J.return=z,z=J),v(z)):a(z,M)}return function(z,M,H,J){try{fl=0;var ge=tt(z,M,H,J);return ja=null,ge}catch(me){if(me===za||me===hc)throw me;var He=Sn(29,me,null,z.mode);return He.lanes=J,He.return=z,He}finally{}}}var Gs=Wg(!0),Zg=Wg(!1),Dr=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=sc(t),Pg(t,null,a),i}return rc(t,l,i,a),sc(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function pl(){if(Yf){var t=Ua;if(t!==null)throw t}}function gl(t,i,a,l){Yf=!1;var f=t.updateQueue;Dr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,F=D.next;D.next=null,v===null?d=F:v.next=F,v=D;var X=t.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==v&&(A===null?X.firstBaseUpdate=F:A.next=F,X.lastBaseUpdate=D))}if(d!==null){var te=f.baseState;v=0,X=F=D=null,A=d;do{var Q=A.lane&-536870913,Y=Q!==A.lane;if(Y?(Me&Q)===Q:(l&Q)===Q){Q!==0&&Q===La&&(Yf=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=t,_e=A;Q=i;var tt=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){te=fe.call(tt,te,Q);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,Q=typeof fe=="function"?fe.call(tt,te,Q):fe,Q==null)break e;te=T({},te,Q);break e;case 2:Dr=!0}}Q=A.callback,Q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(F=X=Y,D=te):X=X.next=Y,v|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(D=te),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Ur|=v,t.lanes=v,t.memoizedState=te}}function ey(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ty(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],i)}var Ba=P(null),pc=P(0);function ny(t,i){t=tr,oe(pc,t),oe(Ba,i),tr=t|i.baseLanes}function $f(){oe(pc,tr),oe(Ba,Ba.current)}function Xf(){tr=pc.current,Z(Ba),Z(pc)}var An=P(null),Bn=null;function Vr(t){var i=t.alternate;oe(_t,_t.current&1),oe(An,t),Bn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(Bn=t)}function Jf(t){oe(_t,_t.current),oe(An,t),Bn===null&&(Bn=t)}function iy(t){t.tag===22?(oe(_t,_t.current),oe(An,t),Bn===null&&(Bn=t)):kr()}function kr(){oe(_t,_t.current),oe(An,An.current)}function bn(t){Z(An),Bn===t&&(Bn=null),Z(_t)}var _t=P(0);function gc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,Re=null,Ze=null,Ct=null,yc=!1,qa=!1,Qs=!1,_c=0,yl=0,Ha=null,fA=0;function dt(){throw Error(s(321))}function Wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Zf(t,i,a,l,f,d){return Ki=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?jy:md,Qs=!1,d=a(l,f),Qs=!1,qa&&(d=sy(i,a,l,f)),ry(t),d}function ry(t){$.H=El;var i=Ze!==null&&Ze.next!==null;if(Ki=0,Ct=Ze=Re=null,yc=!1,yl=0,Ha=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&lc(t)&&(It=!0))}function sy(t,i,a,l){Re=t;var f=0;do{if(qa&&(Ha=null),yl=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=By,d=i(a,l)}while(qa);return d}function dA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function ed(){var t=_c!==0;return _c=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Ki=0,Ct=Ze=Re=null,qa=!1,yl=_c=0,Ha=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function vt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Ct===null?Re.memoizedState:Ct.next;if(i!==null)Ct=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Ha===null&&(Ha=[]),t=$g(Ha,t,i),i=Re,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?jy:md),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===V)return Yt(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=vt();return rd(i,Ze,t)}function rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=v=null,D=null,F=i,X=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Me&te)===te:(Ki&te)===te){var Q=F.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===La&&(X=!0);else if((Ki&Q)===Q){F=F.next,Q===La&&(X=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=te,v=d):D=D.next=te,Re.lanes|=Q,Ur|=Q;te=F.action,Qs&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else Q={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=Q,v=d):D=D.next=Q,Re.lanes|=te,Ur|=te;F=F.next}while(F!==null&&F!==i);if(D===null?v=d:D.next=A,!Tn(d,t.memoizedState)&&(It=!0,X&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Tn(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ay(t,i,a){var l=Re,f=vt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,It=!0),f=f.queue,ld(uy.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},ly.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(Ki&127)!==0||oy(l,i,a)}return a}function oy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=vc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ly(t,i,a,l){i.value=a,i.getSnapshot=l,cy(i)&&hy(t)}function uy(t,i,a){return a(function(){cy(i)&&hy(t)})}function cy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function hy(t){var i=Ls(t,2);i!==null&&gn(i,t,2)}function ad(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Qs){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function fy(t,i,a,l){return t.baseState=a,rd(t,Ze,typeof l=="function"?l:Yi)}function mA(t,i,a,l,f){if(bc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,dy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function dy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,v={};$.T=v;try{var A=a(f,l),D=$.S;D!==null&&D(v,A),my(t,i,A)}catch(F){od(t,i,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),$.T=d}}else try{d=a(f,l),my(t,i,d)}catch(F){od(t,i,F)}}function my(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){py(t,i,l)},function(l){return od(t,i,l)}):py(t,i,a)}function py(t,i,a){i.status="fulfilled",i.value=a,gy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,dy(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gy(i),i=i.next;while(i!==l)}t.action=null}function gy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function yy(t,i){return i}function _y(t,i){if(Ue){var a=nt.formState;if(a!==null){e:{var l=Re;if(Ue){if(rt){t:{for(var f=rt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=qn(f.nextSibling),l=f.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yy,lastRenderedState:i},a.queue=l,a=Ly.bind(null,Re,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Re,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=mA.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function vy(t){var i=vt();return Ey(i,Ze,t)}function Ey(t,i,a){if(i=rd(t,i,yy)[0],t=Tc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===za?hc:v}else l=i;i=vt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Fa(9,{destroy:void 0},pA.bind(null,f,a),null)),[l,d,t]}function pA(t,i){t.action=i}function Ty(t){var i=vt(),a=Ze;if(a!==null)return Ey(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=vc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Sy(){return vt().memoizedState}function Sc(t,i,a,l){var f=un();Re.flags|=t,f.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ac(t,i,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Wf(l,Ze.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(Re.flags|=t,f.memoizedState=Fa(1|i,d,a,l))}function Ay(t,i){Sc(8390656,8,t,i)}function ld(t,i){Ac(2048,8,t,i)}function gA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=vc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function by(t){var i=vt().memoizedState;return gA({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function wy(t,i){return Ac(4,2,t,i)}function Ry(t,i){return Ac(4,4,t,i)}function Cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Iy(t,i,a){a=a!=null?a.concat([t]):null,Ac(4,4,Cy.bind(null,i,t),a)}function ud(){}function Ny(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function xy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=t(),Qs){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Ki&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=D_(),Re.lanes|=t,Ur|=t,a)}function Dy(t,i,a,l){return Tn(a,i)?a:Ba.current!==null?(t=cd(t,a,l),Tn(t,i)||(It=!0),t):(Ki&42)===0||(Ki&1073741824)!==0&&(Me&261930)===0?(It=!0,t.memoizedState=a):(t=D_(),Re.lanes|=t,Ur|=t,i)}function Oy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,A={};$.T=A,dd(t,!1,i,a);try{var D=f(),F=$.S;if(F!==null&&F(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=hA(D,l);vl(t,i,X,Cn(t))}else vl(t,i,l,Cn(t))}catch(te){vl(t,i,{then:function(){},status:"rejected",reason:te},Cn())}finally{ae.p=d,v!==null&&A.types!==null&&(v.types=A.types),$.T=v}}function yA(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=My(t).queue;Oy(t,f,i,pe,a===null?yA:function(){return Vy(t),a(l)})}function My(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Vy(t){var i=My(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},Cn())}function fd(){return Yt(Pl)}function ky(){return vt().memoizedState}function Py(){return vt().memoizedState}function _A(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Or(a);var l=Mr(i,t,a);l!==null&&(gn(l,i,a),ml(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function vA(t,i,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?Uy(i,a):(a=xf(t,i,a,l),a!==null&&(gn(a,t,l),zy(a,i,l)))}function Ly(t,i,a){var l=Cn();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))Uy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,v))return rc(t,i,f,0),nt===null&&ic(),!1}catch{}finally{}if(a=xf(t,i,f,l),a!==null)return gn(a,t,l),zy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&gn(i,t,2)}function bc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Uy(t,i){qa=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function zy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var El={readContext:Yt,use:Ec,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};El.useEffectEvent=dt;var jy={readContext:Yt,use:Ec,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Sc(4194308,4,t,i)},useInsertionEffect:function(t,i){Sc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Qs){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if(Qs){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=vA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=Ly.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=un();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=Oy.bind(null,Re,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=un();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Me&127)!==0||oy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ay(uy.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},ly.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=nt.identifierPrefix;if(Ue){var a=Ii,l=Ci;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=fA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:_y,useActionState:_y,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return un().memoizedState=_A.bind(null,Re)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Yt,use:Ec,useCallback:Ny,useContext:Yt,useEffect:ld,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:xy,useReducer:Tc,useRef:Sy,useState:function(){return Tc(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=vt();return Dy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Tc(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:fd,useFormState:vy,useActionState:vy,useOptimistic:function(t,i){var a=vt();return fy(a,Ze,t,i)},useMemoCache:id,useCacheRefresh:Py};md.useEffectEvent=by;var By={readContext:Yt,use:Ec,useCallback:Ny,useContext:Yt,useEffect:ld,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:xy,useReducer:sd,useRef:Sy,useState:function(){return sd(Yi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=vt();return Ze===null?cd(a,t,i):Dy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=sd(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:ay,useId:ky,useHostTransitionStatus:fd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var a=vt();return Ze!==null?fy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Py};By.useEffectEvent=by;function pd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Cn(),f=Or(l);f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(gn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Cn(),f=Or(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Mr(t,f,l),i!==null&&(gn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(gn(i,t,a),ml(i,t,a))}};function qy(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function Hy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Fy(t){nc(t)}function Gy(t){console.error(t)}function Qy(t){nc(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function Yy(t){return t=Or(t),t.tag=3,t}function $y(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ky(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ky(i,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function EA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Lc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(t,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(t,l,f)),!1}throw Error(s(435,a.tag))}return qd(t,l,f),Lc(),!1}if(Ue)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Pf&&(t=Error(s(422),{cause:l}),ul(Ln(t,a)))):(l!==Pf&&(i=Error(s(423),{cause:l}),ul(Ln(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=yd(t.stateNode,l,f),Kf(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Il===null?Il=[d]:Il.push(d),mt!==4&&(mt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=yd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Yy(f),$y(f,t,a,l),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),It=!1;function $t(t,i,a,l){i.child=t===null?Zg(i,null,a,l):Gs(i,t.child,a,l)}function Xy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Bs(i),l=Zf(t,i,a,v,d,f),A=ed(),t!==null&&!It?(td(t,i,f),$i(t,i,f)):(Ue&&A&&Vf(i),i.flags|=1,$t(t,i,l,f),i.child)}function Jy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wy(t,i,d,l,f)):(t=ac(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return $i(t,i,f)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Wy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,$i(t,i,f)}return vd(t,i,a,l,f)}function Zy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return e_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(i,d!==null?d.cachePool:null),d!==null?ny(i,d):$f(),iy(i);else return l=i.lanes=536870912,e_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),ny(i,d),kr(),i.memoizedState=null):(t!==null&&cc(i,null),$f(),kr());return $t(t,i,f,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function e_(t,i,a,l,f){var d=Hf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cc(i,null),$f(),iy(i),t!==null&&Pa(t,i,l,!0),i.childLanes=f,null}function Rc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function t_(t,i,a){return Gs(i,t.child,null,a),t=Rc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function TA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Rc(i,l),i.lanes=536870912,Tl(null,t);if(Jf(i),(t=rt)?(t=dv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return Rc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Jf(i),f)if(i.flags&256)i.flags&=-257,i=t_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Pa(t,i,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=nt,l!==null&&(v=qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ls(t,v),gn(l,t,v),_d;Lc(),i=t_(t,i,a)}else t=d.treeContext,rt=qn(v.nextSibling),Kt=i,Ue=!0,Ir=null,jn=!1,t!==null&&Bg(i,t),i=Rc(i,l),i.flags|=4096;return i}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,f){return Bs(i),a=Zf(t,i,a,l,void 0,f),l=ed(),t!==null&&!It?(td(t,i,f),$i(t,i,f)):(Ue&&l&&Vf(i),i.flags|=1,$t(t,i,a,f),i.child)}function n_(t,i,a,l,f,d){return Bs(i),i.updateQueue=null,a=sy(i,l,a,f),ry(t),l=ed(),t!==null&&!It?(td(t,i,d),$i(t,i,d)):(Ue&&l&&Vf(i),i.flags|=1,$t(t,i,a,d),i.child)}function i_(t,i,a,l,f){if(Bs(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),gl(i,l,d,f),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,D=Ks(a,A);d.props=D;var F=d.context,X=a.contextType;v=Oa,typeof X=="object"&&X!==null&&(v=Yt(X));var te=a.getDerivedStateFromProps;X=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||F!==v)&&Hy(i,d,l,v),Dr=!1;var Q=i.memoizedState;d.state=Q,gl(i,l,d,f),pl(),F=i.memoizedState,A||Q!==F||Dr?(typeof te=="function"&&(pd(i,a,te,l),F=i.memoizedState),(D=Dr||qy(i,a,D,l,Q,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(t,i),v=i.memoizedProps,X=Ks(a,v),d.props=X,te=i.pendingProps,Q=d.context,F=a.contextType,D=Oa,typeof F=="object"&&F!==null&&(D=Yt(F)),A=a.getDerivedStateFromProps,(F=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||Q!==D)&&Hy(i,d,l,D),Dr=!1,Q=i.memoizedState,d.state=Q,gl(i,l,d,f),pl();var Y=i.memoizedState;v!==te||Q!==Y||Dr||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof A=="function"&&(pd(i,a,A,l),Y=i.memoizedState),(X=Dr||qy(i,a,X,l,Q,Y,D)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,f),i.child=Gs(i,null,a,f)):$t(t,i,a,f),i.memoizedState=d.state,t=i.child):t=$i(t,i,f),t}function r_(t,i,a,l){return zs(),i.flags|=256,$t(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Kg()}}function Sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function s_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?Vr(i):kr(),(t=rt)?(t=dv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=i,i.child=a,Kt=i,rt=null)):t=null,t===null)throw Nr(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(kr(),f=i.mode,A=Ic({mode:"hidden",children:A},f),l=Us(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(t,v,a),i.memoizedState=Ed,Tl(null,l)):(Vr(i),Ad(i,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=bd(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),A=l.fallback,f=i.mode,l=Ic({mode:"visible",children:l.children},f),A=Us(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Sd(t,v,a),i.memoizedState=Ed,i=Tl(null,l));else if(Vr(i),rm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),i=bd(t,i,a)}else if(It||Pa(t,i,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=nt,v!==null&&(l=qo(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ls(t,l),gn(v,t,l),_d;im(A)||Lc(),i=bd(t,i,a)}else im(A)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,rt=qn(A.nextSibling),Kt=i,Ue=!0,Ir=null,jn=!1,t!==null&&Bg(i,t),i=Ad(i,l.children),i.flags|=4096);return i}return f?(kr(),A=l.fallback,f=i.mode,D=t.child,F=D.sibling,l=Hi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?A=Hi(F,A):(A=Us(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,Tl(null,l),l=i.child,A=t.child.memoizedState,A===null?A=Td(a):(f=A.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Kg(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=Sd(t,v,a),i.memoizedState=Ed,Tl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Ad(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=Sn(22,t,null,i),t.lanes=0,t}function bd(t,i,a){return Gs(i,t.child,null,a),t=Ad(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function a_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function wd(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function o_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=_t.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,oe(_t,v),$t(t,i,l,a),l=Ue?ll:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,a,i);else if(t.tag===19)a_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),wd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function SA(t,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),xr(i,Rt,t.memoizedState.cache),zs();break;case 27:case 5:vs(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?s_(t,i,a):(Vr(i),t=$i(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return o_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(_t,_t.current),l)break;return null;case 22:return i.lanes=0,Zy(t,i,a,i.pendingProps);case 24:xr(i,Rt,t.memoizedState.cache)}return $i(t,i,a)}function l_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return It=!1,SA(t,i,a);It=(t.flags&131072)!==0}else It=!1,Ue&&(i.flags&1048576)!==0&&jg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=Ks(t,l),i.tag=1,i=i_(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){i.tag=11,i=Xy(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=Jy(null,i,t,l,a);break e}}throw i=Be(t)||t,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ks(l,i.pendingProps),i_(t,i,l,f,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Qf(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,xr(i,Rt,l),l!==d.cache&&jf(i,[Rt],a,!0),pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=r_(t,i,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),i),ul(f),i=r_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=qn(t.firstChild),Kt=i,Ue=!0,Ir=null,jn=!0,a=Zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===f){i=$i(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return Cc(t,i),t===null?(a=vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Fc(Ce.current).createElement(a),l[At]=i,l[Bt]=t,Xt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return vs(i),t===null&&Ue&&(l=i.stateNode=gv(i.type,i.pendingProps,Ce.current),Kt=i,jn=!0,f=rt,Hr(i.type)?(sm=f,rt=qn(l.firstChild)):rt=f),$t(t,i,i.pendingProps.children,a),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=rt)&&(l=WA(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Kt=i,rt=qn(l.firstChild),jn=!1,f=!0):f=!1),f||Nr(i)),vs(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,em(f,d)?l=null:v!==null&&em(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(t,i,dA,null,null,a),Pl._currentValue=f),Cc(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=rt)&&(a=ZA(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Kt=i,rt=null,t=!0):t=!1),t||Nr(i)),null;case 13:return s_(t,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):$t(t,i,l,a),i.child;case 11:return Xy(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Bs(i),f=Yt(f),l=l(f),i.flags|=1,$t(t,i,l,a),i.child;case 14:return Jy(t,i,i.type,i.pendingProps,a);case 15:return Wy(t,i,i.type,i.pendingProps,a);case 19:return o_(t,i,a);case 31:return TA(t,i,a);case 22:return Zy(t,i,a,i.pendingProps);case 24:return Bs(i),l=Yt(Rt),t===null?(f=Hf(),f===null&&(f=nt,d=Bf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),xr(i,Rt,f)):((t.lanes&a)!==0&&(Qf(t,i),gl(i,null,null,a),pl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),xr(i,Rt,l)):(l=d.cache,xr(i,Rt,l),l!==f.cache&&jf(i,[Rt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function Cd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(k_())t.flags|=8192;else throw Fs=fc,Ff}else t.flags&=-16777217}function u_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(i))if(k_())t.flags|=8192;else throw Fs=fc,Ff}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ku():536870912,t.lanes|=i,Ya|=i)}function Sl(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function AA(t,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Qi(Rt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ka(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(st(i),u_(i,d)):(st(i),Cd(i,f,null,l,a))):d?d!==t.memoizedState?(Xi(i),st(i),u_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),st(i),Cd(i,f,t,l,a)),null;case 27:if(da(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,ka(i)?qg(i):(t=gv(f,l,a),i.stateNode=t,Xi(i))}return st(i),null;case 5:if(da(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=ce.current,ka(i))qg(i);else{var v=Fc(Ce.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[At]=i,d[Bt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return st(i),Cd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,ka(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sv(t.nodeValue,a)),t||Nr(i,!0)}else t=Fc(t).createTextNode(l),t[At]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ka(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ka(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&$d(i.stateNode.containerInfo),st(i),null;case 10:return Qi(i.type),st(i),null;case 19:if(Z(_t),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Sl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=gc(t),d!==null){for(i.flags|=128,Sl(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Lg(a,t),a=a.sibling;return oe(_t,_t.current&1|2),Ue&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Vc&&(i.flags|=128,f=!0,Sl(l,!1),i.lanes=4194304)}else{if(!f)if(t=gc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Sl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return st(i),null}else 2*on()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,f=!0,Sl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=_t.current,oe(_t,f?a&1|2:a&1),Ue&&Fi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return bn(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Qi(Rt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bA(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Qi(Rt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(_t),null;case 4:return ot(),null;case 10:return Qi(i.type),null;case 22:case 23:return bn(i),Xf(),t!==null&&Z(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Qi(Rt),null;case 25:return null;default:return null}}function c_(t,i){switch(kf(i),i.tag){case 3:Qi(Rt),ot();break;case 26:case 27:case 5:da(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:Z(_t);break;case 10:Qi(i.type);break;case 22:case 23:bn(i),Xf(),t!==null&&Z(qs);break;case 24:Qi(Rt)}}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(A){Je(i,i.return,A)}}function Pr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=i;var D=a,F=A;try{F()}catch(X){Je(f,D,X)}}}l=l.next}while(l!==d)}}catch(X){Je(i,i.return,X)}}function h_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ty(i,a)}catch(l){Je(t,t.return,l)}}}function f_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,i,f)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function d_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Id(t,i,a){try{var l=t.stateNode;QA(l,t.type,a,i),l[Bt]=i}catch(f){Je(t,t.return,f)}}function m_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function p_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,l,a),i[At]=t,i[Bt]=a}catch(d){Je(t,t.return,d)}}var Ji=!1,Nt=!1,Dd=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function wA(t,i){if(t=t.containerInfo,Wd=Jc,t=Ig(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,D=-1,F=0,X=0,te=t,Q=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(A=v+f),te!==d||l!==0&&te.nodeType!==3||(D=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)Q=te,te=Y;for(;;){if(te===t)break t;if(Q===a&&++F===f&&(A=v),Q===d&&++X===l&&(D=v),(Y=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=Y}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:t,selectionRange:a},Jc=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ks(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function y_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&Al(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&h_(a),l&512&&bl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ty(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&p_(a);case 26:case 5:Zi(t,a),i===null&&l&4&&d_(a),l&512&&bl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&E_(t,a);break;case 13:Zi(t,a),l&4&&T_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=VA.bind(null,a),eb(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){i=i!==null&&i.memoizedState!==null||Nt,f=Ji;var d=Nt;Ji=l,(Nt=i)&&!d?er(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Ji=f,Nt=d}break;case 30:break;default:Zi(t,a)}}function __(t){var i=t.alternate;i!==null&&(t.alternate=null,__(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function Wi(t,i,a){for(a=a.child;a!==null;)v_(t,i,a),a=a.sibling}function v_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Nt||Ni(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ni(a,i);var l=ut,f=fn;Hr(a.type)&&(ut=a.stateNode,fn=!1),Wi(t,i,a),Ml(a.stateNode),ut=l,fn=f;break;case 5:Nt||Ni(a,i);case 6:if(l=ut,f=fn,ut=null,Wi(t,i,a),ut=l,fn=f,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ut!==null&&(fn?(t=ut,hv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):hv(ut,a.stateNode));break;case 4:l=ut,f=fn,ut=a.stateNode.containerInfo,fn=!0,Wi(t,i,a),ut=l,fn=f;break;case 0:case 11:case 14:case 15:Pr(2,a,i),Nt||Pr(4,a,i),Wi(t,i,a);break;case 1:Nt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&f_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,Wi(t,i,a),Nt=l;break;default:Wi(t,i,a)}}function E_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Je(i,i.return,a)}}}function T_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Je(i,i.return,a)}}function RA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new g_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new g_),i;default:throw Error(s(435,t.tag))}}function Dc(t,i){var a=RA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=kA.bind(null,t,l);l.then(f,f)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Hr(A.type)){ut=A.stateNode,fn=!1;break e}break;case 5:ut=A.stateNode,fn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(ut===null)throw Error(s(160));v_(d,v,f),ut=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)S_(i,t),i=i.sibling}var ni=null;function S_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Pr(3,t,t.return),Al(3,t),Pr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Nt||a===null||Ni(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(dn(i,t),mn(t),l&512&&(Nt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[pi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[At]=t,bt(d),l=d;break e;case"link":var v=Sv("link","href",f).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Sv("meta","content",f).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,bt(d),l=d}t.stateNode=l}else Av(f,t.type,t.stateNode);else t.stateNode=Tv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Av(f,t.type,t.stateNode):Tv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Nt||a===null||Ni(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Nt||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(Kc=null,f=ni,ni=Gc(i.containerInfo),dn(i,t),ni=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(fe){Je(t,t.return,fe)}Dd&&(Dd=!1,A_(t));break;case 4:l=ni,ni=Gc(t.stateNode.containerInfo),dn(i,t),mn(t),ni=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Ji,X=Nt;if(Ji=F||f,Nt=X||D,dn(i,t),Nt=X,Ji=F,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Ji||Nt||Ys(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=D.stateNode;var te=D.memoizedProps.style,Q=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){Je(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Je(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var Y=D.stateNode;f?fv(Y,!0):fv(D.stateNode,!1)}catch(fe){Je(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(m_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);xc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var A=Nd(t);xc(t,A,v);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Nd(t);xd(t,F,D);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function A_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;A_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)y_(t,i.alternate,i),i=i.sibling}function Ys(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Ys(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&f_(i,i.return,a),Ys(i);break;case 27:Ml(i.stateNode);case 26:case 5:Ni(i,i.return),Ys(i);break;case 22:i.memoizedState===null&&Ys(i);break;case 30:Ys(i);break;default:Ys(i)}t=t.sibling}}function er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:er(f,d,a),Al(4,d);break;case 1:if(er(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ey(D[f],A)}catch(F){Je(l,l.return,F)}}a&&v&64&&h_(d),bl(d,d.return);break;case 27:p_(d);case 26:case 5:er(f,d,a),a&&l===null&&v&4&&d_(d),bl(d,d.return);break;case 12:er(f,d,a);break;case 31:er(f,d,a),a&&v&4&&E_(f,d);break;case 13:er(f,d,a),a&&v&4&&T_(f,d);break;case 22:d.memoizedState===null&&er(f,d,a),bl(d,d.return);break;case 30:break;default:er(f,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(t,i,a,l),i=i.sibling}function b_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&Al(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):wl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Od(v,i);break;case 24:ii(t,i,a,l),f&2048&&Md(i.alternate,i);break;default:ii(t,i,a,l)}}function Ga(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,A=a,D=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,A,D,f),Al(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Ga(d,v,A,D,f):wl(d,v):(X._visibility|=2,Ga(d,v,A,D,f)),f&&F&2048&&Od(v.alternate,v);break;case 24:Ga(d,v,A,D,f),f&&F&2048&&Md(v.alternate,v);break;default:Ga(d,v,A,D,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Od(l.alternate,l);break;case 24:wl(a,l),f&2048&&Md(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Qa(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)w_(t,i,a),t=t.sibling}function w_(t,i,a){switch(t.tag){case 26:Qa(t,i,a),t.flags&Rl&&t.memoizedState!==null&&fb(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,i,a);break;case 3:case 4:var l=ni;ni=Gc(t.stateNode.containerInfo),Qa(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Qa(t,i,a),Rl=l):Qa(t,i,a));break;default:Qa(t,i,a)}}function R_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,I_(l,t)}R_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):Cl(t);break;default:Cl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,I_(l,t)}R_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function I_(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var f=l.sibling,d=l.return;if(__(l),l===a){Ht=null;break e}if(f!==null){f.return=d,Ht=f;break e}Ht=d}}}var CA={getCacheForType:function(t){var i=Yt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},IA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Ne=null,Me=0,Xe=0,wn=null,Lr=!1,Ka=!1,Vd=!1,tr=0,mt=0,Ur=0,$s=0,kd=0,Rn=0,Ya=0,Il=null,pn=null,Pd=!1,Mc=0,N_=0,Vc=1/0,kc=null,zr=null,Ut=0,jr=null,$a=null,nr=0,Ld=0,Ud=null,x_=null,Nl=0,zd=null;function Cn(){return(Qe&2)!==0&&Me!==0?Me&-Me:$.T!==null?Gd():Pu()}function D_(){if(Rn===0)if((Me&536870912)===0||Ue){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Rn=t}else Rn=536870912;return t=An.current,t!==null&&(t.flags|=32),Rn}function gn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),Br(t,Me,Rn,!1)),As(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&($s|=a),mt===4&&Br(t,Me,Rn,!1)),xi(t))}function O_(t,i,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?DA(t,i):Bd(t,i,!0),d=l;do{if(f===0){Ka&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!NA(a)){f=Bd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;f=Il;var D=A.current.memoizedState.isDehydrated;if(D&&(Xa(A,v).flags|=256),v=Bd(A,v,!1),v!==2){if(Vd&&!D){A.errorRecoveryDisabledLanes|=d,$s|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Xa(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,Rn,!Lr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Mc+300-on(),10<f)){if(Br(l,i,Rn,!Lr),fi(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=uv(M_.bind(null,l,a,pn,kc,Pd,i,Rn,$s,Ya,Lr,d,"Throttled",-0,0),f);break e}M_(l,a,pn,kc,Pd,i,Rn,$s,Ya,Lr,d,null,-0,0)}}break}while(!0);xi(t)}function M_(t,i,a,l,f,d,v,A,D,F,X,te,Q,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},w_(i,d,te);var fe=(d&62914560)===d?Mc-on():(d&4194048)===d?N_-on():0;if(fe=db(te,fe),fe!==null){nr=d,t.cancelPendingCommit=fe(B_.bind(null,t,i,d,a,l,f,v,A,D,X,te,null,Q,Y)),Br(t,d,v,!F);return}}B_(t,i,d,a,l,f,v,A,D)}function NA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Tn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~kd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-gt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&bs(t,a,i)}function Pc(){return(Qe&6)===0?(xl(0),!1):!0}function jd(){if(Ne!==null){if(Xe===0)var t=Ne.return;else t=Ne,Gi=js=null,nd(t),ja=null,fl=0,t=Ne;for(;t!==null;)c_(t.alternate,t),t=t.return;Ne=null}}function Xa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$A(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nr=0,jd(),nt=t,Ne=a=Hi(t.current,null),Me=i,Xe=0,wn=null,Lr=!1,Ka=Kn(t,i),Vd=!1,Ya=Rn=kd=$s=Ur=mt=0,pn=Il=null,Pd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-gt(l),d=1<<f;i|=t[f],l&=~d}return tr=i,ic(),a}function V_(t,i){Re=null,$.H=El,i===za||i===hc?(i=Xg(),Xe=3):i===Ff?(i=Xg(),Xe=4):Xe=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ne===null&&(mt=1,wc(t,Ln(i,t.current)))}function k_(){var t=An.current;return t===null?!0:(Me&4194048)===Me?Bn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===Bn:!1}function P_(){var t=$.H;return $.H=El,t===null?El:t}function L_(){var t=$.A;return $.A=CA,t}function Lc(){mt=4,Lr||(Me&4194048)!==Me&&An.current!==null||(Ka=!0),(Ur&134217727)===0&&($s&134217727)===0||nt===null||Br(nt,Me,Rn,!1)}function Bd(t,i,a){var l=Qe;Qe|=2;var f=P_(),d=L_();(nt!==t||Me!==i)&&(kc=null,Xa(t,i)),i=!1;var v=mt;e:do try{if(Xe!==0&&Ne!==null){var A=Ne,D=wn;switch(Xe){case 8:jd(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var F=Xe;if(Xe=0,wn=null,Ja(t,A,D,F),a&&Ka){v=0;break e}break;default:F=Xe,Xe=0,wn=null,Ja(t,A,D,F)}}xA(),v=mt;break}catch(X){V_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Gi=js=null,Qe=l,$.H=f,$.A=d,Ne===null&&(nt=null,Me=0,ic()),v}function xA(){for(;Ne!==null;)U_(Ne)}function DA(t,i){var a=Qe;Qe|=2;var l=P_(),f=L_();nt!==t||Me!==i?(kc=null,Vc=on()+500,Xa(t,i)):Ka=Kn(t,i);e:do try{if(Xe!==0&&Ne!==null){i=Ne;var d=wn;t:switch(Xe){case 1:Xe=0,wn=null,Ja(t,i,d,1);break;case 2:case 9:if(Yg(d)){Xe=0,wn=null,z_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),xi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Yg(d)?(Xe=0,wn=null,z_(i)):(Xe=0,wn=null,Ja(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var A=Ne;if(v?bv(v):A.stateNode.complete){Xe=0,wn=null;var D=A.sibling;if(D!==null)Ne=D;else{var F=A.return;F!==null?(Ne=F,Uc(F)):Ne=null}break t}}Xe=0,wn=null,Ja(t,i,d,5);break;case 6:Xe=0,wn=null,Ja(t,i,d,6);break;case 8:jd(),mt=6;break e;default:throw Error(s(462))}}OA();break}catch(X){V_(t,X)}while(!0);return Gi=js=null,$.H=l,$.A=f,Qe=a,Ne!==null?0:(nt=null,Me=0,ic(),mt)}function OA(){for(;Ne!==null&&!yf();)U_(Ne)}function U_(t){var i=l_(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function z_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=n_(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=n_(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:nd(i);default:c_(a,i),i=Ne=Lg(i,tr),i=l_(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function Ja(t,i,a,l){Gi=js=null,nd(i),ja=null,fl=0;var f=i.return;try{if(EA(t,f,i,a,Me)){mt=1,wc(t,Ln(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;mt=1,wc(t,Ln(a,t.current)),Ne=null;return}i.flags&32768?(Ue||l===1?t=!0:Ka||(Me&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){j_(i,Lr);return}t=i.return;var a=AA(i.alternate,i,tr);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);mt===0&&(mt=5)}function j_(t,i){do{var a=bA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);mt=6,Ne=null}function B_(t,i,a,l,f,d,v,A,D){t.cancelPendingCommit=null;do zc();while(Ut!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Nf,Ef(t,a,d,v,A,D),t===nt&&(Ne=nt=null,Me=0),$a=i,jr=t,nr=a,Ld=d,Ud=f,x_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,PA(yr,function(){return Q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,v=Qe,Qe|=4;try{wA(t,i,a)}finally{Qe=v,ae.p=f,$.T=l}}Ut=1,q_(),H_(),F_()}}function q_(){if(Ut===1){Ut=0;var t=jr,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Qe;Qe|=4;try{S_(i,t);var d=Zd,v=Ig(t.containerInfo),A=d.focusedElem,D=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Cg(A.ownerDocument.documentElement,A)){if(D!==null&&bf(A)){var F=D.start,X=D.end;if(X===void 0&&(X=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(X,A.value.length);else{var te=A.ownerDocument||document,Q=te&&te.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),fe=A.textContent.length,_e=Math.min(D.start,fe),tt=D.end===void 0?_e:Math.min(D.end,fe);!Y.extend&&_e>tt&&(v=tt,tt=_e,_e=v);var z=Rg(A,_e),M=Rg(A,tt);if(z&&M&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var H=te.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),_e>tt?(Y.addRange(H),Y.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Y.addRange(H))}}}}for(te=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var J=te[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Jc=!!Wd,Zd=Wd=null}finally{Qe=f,ae.p=l,$.T=a}}t.current=i,Ut=2}}function H_(){if(Ut===2){Ut=0;var t=jr,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Qe;Qe|=4;try{y_(t,i.alternate,i)}finally{Qe=f,ae.p=l,$.T=a}}Ut=3}}function F_(){if(Ut===4||Ut===3){Ut=0,Nu();var t=jr,i=$a,a=nr,l=x_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,$a=jr=null,G_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(zr=null),zi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{$.T=i,ae.p=f}}(nr&3)!==0&&zc(),xi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===zd?Nl++:(Nl=0,zd=t):Nl=0,xl(0)}}function G_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function zc(){return q_(),H_(),F_(),Q_()}function Q_(){if(Ut!==5)return!1;var t=jr,i=Ld;Ld=0;var a=zi(nr),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Ud,Ud=null;var d=jr,v=nr;if(Ut=0,$a=jr=null,nr=0,(Qe&6)!==0)throw Error(s(331));var A=Qe;if(Qe|=4,C_(d.current),b_(d,d.current,v,a),Qe=A,xl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{ae.p=f,$.T=l,G_(t,i)}}function K_(t,i,a){i=Ln(a,i),i=yd(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(As(t,2),xi(t))}function Je(t,i,a){if(t.tag===3)K_(t,t,a);else for(;i!==null;){if(i.tag===3){K_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Ln(a,t),a=Yy(2),l=Mr(i,a,2),l!==null&&($y(a,l,i,t),As(l,2),xi(l));break}}i=i.return}}function qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Vd=!0,f.add(a),t=MA.bind(null,t,i,a),i.then(t,t))}function MA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Me&a)===a&&(mt===4||mt===3&&(Me&62914560)===Me&&300>on()-Mc?(Qe&2)===0&&Xa(t,0):kd|=a,Ya===Me&&(Ya=0)),xi(t)}function Y_(t,i){i===0&&(i=ku()),t=Ls(t,i),t!==null&&(As(t,i),xi(t))}function VA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Y_(t,a)}function kA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Y_(t,a)}function PA(t,i){return Lt(t,i)}var jc=null,Wa=null,Hd=!1,Bc=!1,Fd=!1,qr=0;function xi(t){t!==Wa&&t.next===null&&(Wa===null?jc=Wa=t:Wa=Wa.next=t),Bc=!0,Hd||(Hd=!0,UA())}function xl(t,i){if(!Fd&&Bc){Fd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-gt(42|t)+1)-1,d&=f&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=Me,d=fi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,W_(l,d));l=l.next}while(a);Fd=!1}}function LA(){$_()}function $_(){Bc=Hd=!1;var t=0;qr!==0&&YA()&&(t=qr);for(var i=on(),a=null,l=jc;l!==null;){var f=l.next,d=X_(l,i);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Ut!==0&&Ut!==5||xl(t),qr!==0&&(qr=0)}function X_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-gt(d),A=1<<v,D=f[v];D===-1?((A&a)===0||(A&l)!==0)&&(f[v]=vf(A,i)):D<=i&&(t.expiredLanes|=A),d&=~A}if(i=nt,a=Me,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),zi(a)){case 2:case 8:a=jo;break;case 32:a=yr;break;case 268435456:a=xu;break;default:a=yr}return l=J_.bind(null,t),a=Lt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Me;return l=fi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O_(t,l,i),X_(t,on()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function W_(t,i){if(zc())return null;O_(t,i,!0)}function UA(){XA(function(){(Qe&6)!==0?Lt(zo,LA):$_()})}function Gd(){if(qr===0){var t=La;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),qr=t}return qr}function Z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function ev(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function zA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Z_((f[Bt]||null).action),v=l.submitter;v&&(i=(i=v[Bt]||null)?Z_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new Ai("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=v?ev(f,v):new FormData(f);hd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=v?ev(f,v):new FormData(f),hd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Qd=0;Qd<If.length;Qd++){var Kd=If[Qd],jA=Kd.toLowerCase(),BA=Kd[0].toUpperCase()+Kd.slice(1);ti(jA,"on"+BA)}ti(Dg,"onAnimationEnd"),ti(Og,"onAnimationIteration"),ti(Mg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(iA,"onTransitionRun"),ti(rA,"onTransitionStart"),ti(sA,"onTransitionCancel"),ti(Vg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function tv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],D=A.instance,F=A.currentTarget;if(A=A.listener,D!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=F;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(A=l[v],D=A.instance,F=A.currentTarget,A=A.listener,D!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=F;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=D}}}}function xe(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(nv(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),nv(a,t,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[qc]){t[qc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qc]||(i[qc]=!0,Yd("selectionchange",!1,i))}}function nv(t,i,a,l){switch(Dv(i)){case 2:var f=gb;break;case 8:f=yb;break;default:f=cm}a=f.bind(null,i,a,t),f=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=gi(A),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Ar(function(){var F=d,X=Mn(a),te=[];e:{var Q=kg.get(t);if(Q!==void 0){var Y=Ai,fe=t;switch(t){case"keypress":if(Ds(a)===0)break e;case"keydown":case"keyup":Y=Zu;break;case"focusin":fe="focus",Y=Ms;break;case"focusout":fe="blur",Y=Ms;break;case"beforeblur":case"afterblur":Y=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Dg:case Og:case Mg:Y=Qu;break;case Vg:Y=b;break;case"scroll":case"scrollend":Y=tl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=qi;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),z=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var M=F,H;M!==null;){var J=M;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=Jn(M,z),J!=null&&_e.push(Ol(M,J,H))),tt)break;M=M.return}0<_e.length&&(Q=new Y(Q,fe,null,a,X),te.push({event:Q,listeners:_e}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Q&&a!==Wo&&(fe=a.relatedTarget||a.fromElement)&&(gi(fe)||fe[mi]))break e;if((Y||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=F,fe=fe?gi(fe):null,fe!==null&&(tt=u(fe),_e=fe.tag,fe!==tt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Y=null,fe=F),Y!==fe)){if(_e=nl,J="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=qi,J="onPointerLeave",z="onPointerEnter",M="pointer"),tt=Y==null?Q:vn(Y),H=fe==null?Q:vn(fe),Q=new _e(J,M+"leave",Y,a,X),Q.target=tt,Q.relatedTarget=H,J=null,gi(X)===F&&(_e=new _e(z,M+"enter",fe,a,X),_e.target=H,_e.relatedTarget=tt,J=_e),tt=J,Y&&fe)t:{for(_e=HA,z=Y,M=fe,H=0,J=z;J;J=_e(J))H++;J=0;for(var ge=M;ge;ge=_e(ge))J++;for(;0<H-J;)z=_e(z),H--;for(;0<J-H;)M=_e(M),J--;for(;H--;){if(z===M||M!==null&&z===M.alternate){_e=z;break t}z=_e(z),M=_e(M)}_e=null}else _e=null;Y!==null&&iv(te,Q,Y,_e,!1),fe!==null&&tt!==null&&iv(te,tt,fe,_e,!0)}}e:{if(Q=F?vn(F):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var He=Eg;else if(_g(Q))if(Tg)He=eA;else{He=WS;var me=JS}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Ta(F.elementType)&&(He=Eg):He=ZS;if(He&&(He=He(t,F))){vg(te,He,a,X);break e}me&&me(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&$o(Q,"number",Q.value)}switch(me=F?vn(F):window,t){case"focusin":(_g(me)||me.contentEditable==="true")&&(Na=me,wf=F,ol=null);break;case"focusout":ol=wf=Na=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,Ng(te,a,X);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":Ng(te,a,X)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ia?Vs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ri&&a.locale!=="ko"&&(Ia||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ia&&(Ie=el()):(Si=X,Zo="value"in Si?Si.value:Si.textContent,Ia=!0)),me=Hc(F,Ve),0<me.length&&(Ve=new wi(Ve,t,null,a,X),te.push({event:Ve,listeners:me}),Ie?Ve.data=Ie:(Ie=Ca(a),Ie!==null&&(Ve.data=Ie)))),(Ie=kn?KS(t,a):YS(t,a))&&(Ve=Hc(F,"onBeforeInput"),0<Ve.length&&(me=new wi("onBeforeInput","beforeinput",null,a,X),te.push({event:me,listeners:Ve}),me.data=Ie)),zA(te,t,F,a,X)}tv(te,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift(Ol(t,f,d)),f=Jn(t,i),f!=null&&l.push(Ol(t,f,d))),t.tag===3)return l;t=t.return}return[]}function HA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function iv(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,D=A.alternate,F=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||F===null||(D=F,f?(F=Jn(a,d),F!=null&&v.unshift(Ol(a,F,D))):f||(F=Jn(a,d),F!=null&&v.push(Ol(a,F,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var FA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(GA,"")}function sv(t,i){return i=rv(i),rv(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),va(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,va(t,a,l))}}function Jd(t,i,a,l,f,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var A=d=v=f=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":D=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:et(t,i,l,X,a,null)}}ju(t,d,A,D,F,v,f,!1);return;case"select":xe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:et(t,i,f,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:et(t,i,v,A,a,null)}Er(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,D,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)xe(Dl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,F,l,a,null)}return;default:if(Ta(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Jd(t,i,X,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&et(t,i,A,l,a,null))}function QA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,A=null,D=null,F=null,X=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(Y)||et(t,i,Y,null,l,te)}}for(var Q in l){var Y=l[Q];if(te=a[Q],l.hasOwnProperty(Q)&&(Y!=null||te!=null))switch(Q){case"type":d=Y;break;case"name":f=Y;break;case"checked":F=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==te&&et(t,i,Q,Y,l,te)}}Ea(t,v,A,D,F,X,d,f);return;case"select":Y=v=A=Q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(d)||et(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":Q=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==D&&et(t,i,f,d,l,D)}i=A,a=v,l=Y,Q!=null?vr(t,!!a,Q,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:et(t,i,A,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,v,f,l,d)}Bu(t,Q,Y);return;case"option":for(var fe in a)if(Q=a[fe],a.hasOwnProperty(fe)&&Q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:et(t,i,fe,null,l,Q)}for(D in l)if(Q=l[D],Y=a[D],l.hasOwnProperty(D)&&Q!==Y&&(Q!=null||Y!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:et(t,i,D,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)Q=a[_e],a.hasOwnProperty(_e)&&Q!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,Q);for(F in l)if(Q=l[F],Y=a[F],l.hasOwnProperty(F)&&Q!==Y&&(Q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:et(t,i,F,Q,l,Y)}return;default:if(Ta(i)){for(var tt in a)Q=a[tt],a.hasOwnProperty(tt)&&Q!==void 0&&!l.hasOwnProperty(tt)&&Jd(t,i,tt,void 0,l,Q);for(X in l)Q=l[X],Y=a[X],!l.hasOwnProperty(X)||Q===Y||Q===void 0&&Y===void 0||Jd(t,i,X,Q,l,Y);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&et(t,i,z,null,l,Q);for(te in l)Q=l[te],Y=a[te],!l.hasOwnProperty(te)||Q===Y||Q==null&&Y==null||et(t,i,te,Q,l,Y)}function av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,A=f.duration;if(d&&A&&av(v)){for(v=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],F=D.startTime;if(F>A)break;var X=D.transferSize,te=D.initiatorType;X&&av(te)&&(D=D.responseEnd,v+=X*(D<A?1:(A-F)/(D-F)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,Zd=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function YA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(JA)}:uv;function JA(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function hv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var v=d.nextSibling,A=d.nodeName;d[pi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);no(i)}function fv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function ZA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function dv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function eb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sm=null;function mv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function pv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function gv(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Hn=new Map,yv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=ae.d;ae.d={f:tb,r:nb,D:ib,C:rb,L:sb,m:ab,X:lb,S:ob,M:ub};function tb(){var t=ir.f(),i=Pc();return t||i}function nb(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?Vy(i):ir.r(t)}var Za=typeof document>"u"?null:document;function _v(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),yv.has(f)||(yv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xt(i,"link",t),bt(i),l.head.appendChild(i)))}}function ib(t){ir.D(t),_v("dns-prefetch",t,null)}function rb(t,i){ir.C(t,i),_v("preconnect",t,i)}function sb(t,i,a){ir.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}Hn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Hn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Xt(i,"link",t),bt(i),l.head.appendChild(i)))}}function ab(t,i){ir.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Xt(l,"link",t),bt(l),a.head.appendChild(l)}}}function ob(t,i,a){ir.S(t,i,a);var l=Za;if(l&&t){var f=yi(l).hoistableStyles,d=eo(t);i=i||"default";var v=f.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Vl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Hn.get(d))&&am(t,a);var D=v=l.createElement("link");bt(D),Xt(D,"link",t),D._p=new Promise(function(F,X){D.onload=F,D.onerror=X}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(d,v)}}}function lb(t,i){ir.X(t,i);var a=Za;if(a&&t){var l=yi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=T({src:t,async:!0},i),(i=Hn.get(f))&&om(t,i),d=a.createElement("script"),bt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ub(t,i){ir.M(t,i);var a=Za;if(a&&t){var l=yi(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Hn.get(f))&&om(t,i),d=a.createElement("script"),bt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function vv(t,i,a,l){var f=(f=Ce.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=yi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=yi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||cb(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=yi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+cn(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function cb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),bt(i),t.head.appendChild(i))}function to(t){return'[src="'+cn(t)+'"]'}function kl(t){return"script[async]"+t}function Tv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Xt(l,"style",f),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Vl(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=Ev(a),(f=Hn.get(f))&&am(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var v=d;return v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(f=t.querySelector(kl(d)))?(i.instance=f,bt(f),f):(l=a,(f=Hn.get(d))&&(l=T({},a),om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Xt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function Sv(t,i,a){if(Kc===null){var l=new Map,f=Kc=new Map;f.set(a,l)}else f=Kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[pi]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function Av(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function hb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=i.querySelector(Vl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=Ev(l),(f=Hn.get(f))&&am(l,f),d=d.createElement("link"),bt(d);var v=d;v._p=new Promise(function(A,D){v.onload=A,v.onerror=D}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Yc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function db(t,i){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*KA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var $c=null;function Xc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,$c=new Map,i.forEach(mb,t),$c=null,Yc.call(t))}function mb(t,i){if(!(i.state.loading&4)){var a=$c.get(t);if(a)var l=a.get(null);else{a=new Map,$c.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Yc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:V,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function pb(t,i,a,l,f,d,v,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function wv(t,i,a,l,f,d,v,A,D,F,X,te){return t=new pb(t,i,a,v,D,F,X,te,A),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function Rv(t){return t?(t=Oa,t):Oa}function Cv(t,i,a,l,f,d){f=Rv(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(gn(a,t,i),ml(a,t,i))}function Iv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){Iv(t,i),(t=t.alternate)&&Iv(t,i)}function Nv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&gn(i,t,67108864),um(t,67108864)}}function xv(t){if(t.tag===13||t.tag===31){var i=Cn();i=ws(i);var a=Ls(t,i);a!==null&&gn(a,t,i),um(t,i)}}var Jc=!0;function gb(t,i,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,cm(t,i,a,l)}finally{ae.p=d,$.T=f}}function yb(t,i,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,cm(t,i,a,l)}finally{ae.p=d,$.T=f}}function cm(t,i,a,l){if(Jc){var f=hm(l);if(f===null)Xd(t,i,l,Wc,a),Ov(t,l);else if(vb(f,t,i,a,l))l.stopPropagation();else if(Ov(t,l),i&4&&-1<_b.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=hi(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var D=1<<31-gt(v);A.entanglements[1]|=D,v&=~D}xi(d),(Qe&6)===0&&(Vc=on()+500,xl(0))}}break;case 31:case 13:A=Ls(d,2),A!==null&&gn(A,d,2),Pc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Wc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Mn(t),fm(t)}var Wc=null;function fm(t){if(Wc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function Dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case zo:return 2;case jo:return 8;case yr:case _f:return 32;case xu:return 268435456;default:return 32}default:return 32}}var dm=!1,Fr=null,Gr=null,Qr=null,Ll=new Map,Ul=new Map,Kr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&Nv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function vb(t,i,a,l,f){switch(i){case"focusin":return Fr=zl(Fr,t,i,a,l,f),!0;case"dragenter":return Gr=zl(Gr,t,i,a,l,f),!0;case"mouseover":return Qr=zl(Qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,zl(Ll.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,zl(Ul.get(d)||null,t,i,a,l,f)),!0}return!1}function Mv(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){xv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=On(a),i!==null&&Nv(i),t.blockedOn=a,!1;i.shift()}return!0}function Vv(t,i,a){Zc(t)&&a.delete(i)}function Eb(){dm=!1,Fr!==null&&Zc(Fr)&&(Fr=null),Gr!==null&&Zc(Gr)&&(Gr=null),Qr!==null&&Zc(Qr)&&(Qr=null),Ll.forEach(Vv),Ul.forEach(Vv)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eb)))}var th=null;function kv(t){th!==t&&(th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function i(D){return eh(D,t)}Fr!==null&&eh(Fr,t),Gr!==null&&eh(Gr,t),Qr!==null&&eh(Qr,t),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Mv(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Bt]||null;if(typeof d=="function")v||kv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Bt]||null)A=v.formAction;else if(fm(f)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),kv(a)}}}function Pv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(t){this._internalRoot=t}nh.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();Cv(a,l,t,i,null,null)},nh.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Cv(t.current,2,null,t,null,null),Pc(),i[mi]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&Mv(t)}};var Lv=e.version;if(Lv!=="19.2.4")throw Error(s(527,Lv,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Qn=ih.inject(Tb),Gt=ih}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Fy,d=Gy,v=Qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=wv(t,1,!1,null,null,a,l,null,f,d,v,Pv),t[mi]=i.current,$d(t),new mm(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Fy,v=Gy,A=Qy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=wv(t,1,!0,i,a??null,l,f,D,d,v,A,Pv),i.context=Rv(null),a=i.current,l=Cn(),l=ws(l),f=Or(l),f.callback=null,Mr(a,f,l),a=l,i.current.lanes=a,As(i,a),xi(i),t[mi]=i.current,$d(t),new nh(i)},Bl.version="19.2.4",Bl}var Kv;function Db(){if(Kv)return ym.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=xb(),ym.exports}var Ob=Db();const Mb=PE(Ob);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yv="popstate";function Vb(r={}){function e(s,o){let{pathname:u,search:h,hash:g}=s.location;return Lm("",{pathname:u,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nu(o)}return Pb(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kb(){return Math.random().toString(36).substring(2,10)}function $v(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||kb()}}function nu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Pb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,g="POP",m=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function T(){g="POP";let U=_(),ne=U==null?null:U-p;p=U,m&&m({action:g,location:B.location,delta:ne})}function S(U,ne){g="PUSH";let ee=Lm(B.location,U,ne);p=_()+1;let V=$v(ee,p),re=B.createHref(ee);try{h.pushState(V,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}u&&m&&m({action:g,location:B.location,delta:1})}function C(U,ne){g="REPLACE";let ee=Lm(B.location,U,ne);p=_();let V=$v(ee,p),re=B.createHref(ee);h.replaceState(V,"",re),u&&m&&m({action:g,location:B.location,delta:0})}function k(U){return Lb(U)}let B={get action(){return g},get location(){return r(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,T),m=U,()=>{o.removeEventListener(Yv,T),m=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let ne=k(U);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:S,replace:C,go(U){return h.go(U)}};return B}function Lb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:nu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LE(r,e,n="/"){return Ub(r,e,n,!1)}function Ub(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let h=UE(r);zb(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let p=Xb(u);g=Yb(h[m],p,s)}return g}function UE(r,e=[],n=[],s="",o=!1){let u=(h,g,m=o,p)=>{let _={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;ct(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=ar([s,_.relativePath]),S=n.concat(_);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),UE(h.children,e,S,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:Qb(T,h.index),routesMeta:S})};return r.forEach((h,g)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,g);else for(let p of zE(h.path))u(h,g,!0,p)}),e}function zE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=zE(s.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function zb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Kb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var jb=/^:[\w-]+$/,Bb=3,qb=2,Hb=1,Fb=10,Gb=-2,Xv=r=>r==="*";function Qb(r,e){let n=r.split("/"),s=n.length;return n.some(Xv)&&(s+=Gb),e&&(s+=qb),n.filter(o=>!Xv(o)).reduce((o,u)=>o+(jb.test(u)?Bb:u===""?Hb:Fb),s)}function Kb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Yb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let g=0;g<s.length;++g){let m=s[g],p=g===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Ah({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),S=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Ah({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ar([u,T.pathname]),pathnameBase:ew(ar([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return h}function Ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$b(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:T},S)=>{if(_==="*"){let k=g[S]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const C=g[S];return T&&!C?p[_]=void 0:p[_]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function $b(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Wb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Jv(n.substring(1),"/"):u=Jv(n,e)):u=e,{pathname:u,search:tw(s),hash:nw(o)}}function Jv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(r){let e=Zb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _p(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}g=T>=0?e[T]:"/"}let m=Wb(o,g),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),ew=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,iw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function sw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function BE(r,e){let n=r;if(typeof n!="string"||!Jb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(jE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=ur(h.pathname,e);h.origin===u.origin&&g!=null?n=g+h.search+h.hash:o=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var aw=["GET",...qE];new Set(aw);var wo=G.createContext(null);wo.displayName="DataRouter";var Gh=G.createContext(null);Gh.displayName="DataRouterState";var ow=G.createContext(!1),HE=G.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var lw=G.createContext(new Map);lw.displayName="Fetchers";var uw=G.createContext(null);uw.displayName="Await";var xn=G.createContext(null);xn.displayName="Navigation";var pu=G.createContext(null);pu.displayName="Location";var Ui=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var vp=G.createContext(null);vp.displayName="RouteError";var FE="REACT_ROUTER_ERROR",cw="REDIRECT",hw="ROUTE_ERROR_RESPONSE";function fw(r){if(r.startsWith(`${FE}:${cw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dw(r){if(r.startsWith(`${FE}:${hw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iw(e.status,e.statusText,e.data)}catch{}}function mw(r,{relative:e}={}){ct(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(xn),{hash:o,pathname:u,search:h}=yu(r,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:ar([n,u])),s.createHref({pathname:g,search:h,hash:o})}function Ro(){return G.useContext(pu)!=null}function mr(){return ct(Ro(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(pu).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){G.useContext(xn).static||G.useLayoutEffect(r)}function gu(){let{isDataRoute:r}=G.useContext(Ui);return r?Cw():pw()}function pw(){ct(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(wo),{basename:e,navigator:n}=G.useContext(xn),{matches:s}=G.useContext(Ui),{pathname:o}=mr(),u=JSON.stringify(yp(s)),h=G.useRef(!1);return QE(()=>{h.current=!0}),G.useCallback((m,p={})=>{if(Gn(h.current,GE),!h.current)return;if(typeof m=="number"){n.go(m);return}let _=_p(m,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ar([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,r])}G.createContext(null);function yu(r,{relative:e}={}){let{matches:n}=G.useContext(Ui),{pathname:s}=mr(),o=JSON.stringify(yp(n));return G.useMemo(()=>_p(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function gw(r,e){return KE(r,e)}function KE(r,e,n,s,o){var ee;ct(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=G.useContext(xn),{matches:h}=G.useContext(Ui),g=h[h.length-1],m=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",T=g&&g.route;{let V=T&&T.path||"";$E(p,!T||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let S=mr(),C;if(e){let V=typeof e=="string"?bo(e):e;ct(_==="/"||((ee=V.pathname)==null?void 0:ee.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${V.pathname}" was given in the \`location\` prop.`),C=V}else C=S;let k=C.pathname||"/",B=k;if(_!=="/"){let V=_.replace(/^\//,"").split("/");B="/"+k.replace(/^\//,"").split("/").slice(V.length).join("/")}let U=LE(r,{pathname:B});Gn(T||U!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Tw(U&&U.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:ar([_,u.encodeLocation?u.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?_:ar([_,u.encodeLocation?u.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),h,n,s,o);return e&&ne?G.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},ne):ne}function yw(){let r=Rw(),e=rw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,h)}var _w=G.createElement(yw,null),YE=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=dw(r.digest);n&&(r=n)}let e=r!==void 0?G.createElement(Ui.Provider,{value:this.props.routeContext},G.createElement(vp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?G.createElement(vw,{error:r},e):e}};YE.contextType=ow;var Sm=new WeakMap;function vw({children:r,error:e}){let{basename:n}=G.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=fw(e.digest);if(s){let o=Sm.get(e);if(o)throw o;let u=BE(s.location,n);if(jE&&!Sm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Sm.set(e,h),h}return G.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Ew({routeContext:r,match:e,children:n}){let s=G.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ui.Provider,{value:r},n)}function Tw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let _=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ct(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,m=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=_),T.route.id){let{loaderData:S,errors:C}=n,k=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||k){g=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=n&&s?(_,T)=>{var S,C;s(_,{location:n.location,params:((C=(S=n.matches)==null?void 0:S[0])==null?void 0:C.params)??{},unstable_pattern:sw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,S)=>{let C,k=!1,B=null,U=null;n&&(C=h&&T.route.id?h[T.route.id]:void 0,B=T.route.errorElement||_w,g&&(m<0&&S===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,U=null):m===S&&(k=!0,U=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,S+1)),ee=()=>{let V;return C?V=B:k?V=U:T.route.Component?V=G.createElement(T.route.Component,null):T.route.element?V=T.route.element:V=_,G.createElement(Ew,{match:T,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:V})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?G.createElement(YE,{location:n.location,revalidation:n.revalidation,component:B,error:C,children:ee(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):ee()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sw(r){let e=G.useContext(wo);return ct(e,Ep(r)),e}function Aw(r){let e=G.useContext(Gh);return ct(e,Ep(r)),e}function bw(r){let e=G.useContext(Ui);return ct(e,Ep(r)),e}function Tp(r){let e=bw(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ww(){return Tp("useRouteId")}function Rw(){var s;let r=G.useContext(vp),e=Aw("useRouteError"),n=Tp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Cw(){let{router:r}=Sw("useNavigate"),e=Tp("useNavigate"),n=G.useRef(!1);return QE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{Gn(n.current,GE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Wv={};function $E(r,e,n){!e&&!Wv[r]&&(Wv[r]=!0,Gn(!1,n))}G.memo(Iw);function Iw({routes:r,future:e,state:n,onError:s}){return KE(r,void 0,n,s,e)}function Um({to:r,replace:e,state:n,relative:s}){ct(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(xn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=G.useContext(Ui),{pathname:h}=mr(),g=gu(),m=_p(r,yp(u),h,s==="path"),p=JSON.stringify(m);return G.useEffect(()=>{g(JSON.parse(p),{replace:e,state:n,relative:s})},[g,p,s,e,n]),null}function Xr(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Nw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[g,o,u,h]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:_="",hash:T="",state:S=null,key:C="default"}=n,k=G.useMemo(()=>{let B=ur(p,g);return B==null?null:{location:{pathname:B,search:_,hash:T,state:S,key:C},navigationType:s}},[g,p,_,T,S,C,s]);return Gn(k!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:G.createElement(xn.Provider,{value:m},G.createElement(pu.Provider,{children:e,value:k}))}function xw({children:r,location:e}){return gw(zm(r),e)}function zm(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,zm(s.props.children,u));return}ct(s.type===Xr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=zm(s.props.children,u)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Dw(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function Ow(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function Mw(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function Vw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kw(r,e){return r.button===0&&(!e||e==="_self")&&!Vw(r)}function jm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function Pw(r,e){let n=jm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var rh=null;function Lw(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!Uw.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function zw(r,e){let n,s,o,u,h;if(Ow(r)){let g=r.getAttribute("action");s=g?ur(g,e):null,n=r.getAttribute("method")||hh,o=Am(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(Dw(r)||Mw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?ur(m,e):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||hh,o=Am(r.getAttribute("formenctype"))||Am(g.getAttribute("enctype"))||fh,u=new FormData(g,r),!Lw()){let{name:p,type:_,value:T}=r;if(_==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,T)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ur(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Bw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Hw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Bw(u,n);return h.links?h.links():[]}return[]}));return Kw(s.flat(1).filter(qw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zv(r,e,n,s,o,u){let h=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>{var _;return n[p].pathname!==m.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>h(m,p)||g(m,p)):u==="data"?e.filter((m,p)=>{var T;let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Fw(r,e,{includeHydrateFallback:n}={}){return Gw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Gw(r){return[...new Set(r)]}function Qw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Kw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Qw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XE(){let r=G.useContext(wo);return Sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Yw(){let r=G.useContext(Gh);return Sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=G.createContext(void 0);Ap.displayName="FrameworkContext";function JE(){let r=G.useContext(Ap);return Sp(r,"You must render this element inside a <HydratedRouter> element"),r}function $w(r,e){let n=G.useContext(Ap),[s,o]=G.useState(!1),[u,h]=G.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=ne=>{ne.forEach(ee=>{h(ee.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[r]),G.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let C=()=>{o(!0)},k=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:ql(g,C),onBlur:ql(m,k),onMouseEnter:ql(p,C),onMouseLeave:ql(_,k),onTouchStart:ql(T,C)}]:[!1,S,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Xw({page:r,...e}){let{router:n}=XE(),s=G.useMemo(()=>LE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(Ww,{page:r,matches:s,...e}):null}function Jw(r){let{manifest:e,routeModules:n}=JE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Hw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Ww({page:r,matches:e,...n}){let s=mr(),{future:o,manifest:u,routeModules:h}=JE(),{basename:g}=XE(),{loaderData:m,matches:p}=Yw(),_=G.useMemo(()=>Zv(r,e,p,u,s,"data"),[r,e,p,u,s]),T=G.useMemo(()=>Zv(r,e,p,u,s,"assets"),[r,e,p,u,s]),S=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let B=new Set,U=!1;if(e.forEach(ee=>{var re;let V=u.routes[ee.route.id];!V||!V.hasLoader||(!_.some(ue=>ue.route.id===ee.route.id)&&ee.route.id in m&&((re=h[ee.route.id])!=null&&re.shouldRevalidate)||V.hasClientLoader?U=!0:B.add(ee.route.id))}),B.size===0)return[];let ne=jw(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return U&&B.size>0&&ne.searchParams.set("_routes",e.filter(ee=>B.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[ne.pathname+ne.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,u,_,e,r,h]),C=G.useMemo(()=>Fw(T,u),[T,u]),k=Jw(T);return G.createElement(G.Fragment,null,S.map(B=>G.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),C.map(B=>G.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),k.map(({key:B,link:U})=>G.createElement("link",{key:B,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function Zw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eR&&(window.__reactRouterVersion="7.13.0")}catch{}function tR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=G.useRef();o.current==null&&(o.current=Vb({window:s,v5Compat:!0}));let u=o.current,[h,g]=G.useState({action:u.action,location:u.location}),m=G.useCallback(p=>{n===!1?g(p):G.startTransition(()=>g(p))},[n]);return G.useLayoutEffect(()=>u.listen(m),[u,m]),G.createElement(Nw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:g,target:m,to:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},k){let{basename:B,unstable_useTransitions:U}=G.useContext(xn),ne=typeof p=="string"&&WE.test(p),ee=BE(p,B);p=ee.to;let V=mw(p,{relative:o}),[re,ue,de]=$w(s,C),I=sR(p,{replace:h,state:g,target:m,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:U});function R(L){e&&e(L),L.defaultPrevented||I(L)}let N=G.createElement("a",{...C,...de,href:ee.absoluteURL||V,onClick:ee.isExternal||u?e:R,ref:Zw(k,ue),target:m,"data-discover":!ne&&n==="render"?"true":void 0});return re&&!ne?G.createElement(G.Fragment,null,N,G.createElement(Xw,{page:V})):N});iu.displayName="Link";var nR=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:g,children:m,...p},_){let T=yu(h,{relative:p.relative}),S=mr(),C=G.useContext(Gh),{navigator:k,basename:B}=G.useContext(xn),U=C!=null&&cR(T)&&g===!0,ne=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ee=S.pathname,V=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),V=V?V.toLowerCase():null,ne=ne.toLowerCase()),V&&B&&(V=ur(V,B)||V);const re=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let ue=ee===ne||!o&&ee.startsWith(ne)&&ee.charAt(re)==="/",de=V!=null&&(V===ne||!o&&V.startsWith(ne)&&V.charAt(ne.length)==="/"),I={isActive:ue,isPending:de,isTransitioning:U},R=ue?e:void 0,N;typeof s=="function"?N=s(I):N=[s,ue?"active":null,de?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(I):u;return G.createElement(iu,{...p,"aria-current":R,className:N,ref:_,style:L,to:h,viewTransition:g},typeof m=="function"?m(I):m)});nR.displayName="NavLink";var iR=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=hh,action:g,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},k)=>{let{unstable_useTransitions:B}=G.useContext(xn),U=lR(),ne=uR(g,{relative:p}),ee=h.toLowerCase()==="get"?"get":"post",V=typeof g=="string"&&WE.test(g),re=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let de=ue.nativeEvent.submitter,I=(de==null?void 0:de.getAttribute("formmethod"))||h,R=()=>U(de||ue.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S});B&&n!==!1?G.startTransition(()=>R()):R()};return G.createElement("form",{ref:k,method:ee,action:ne,onSubmit:s?m:re,...C,"data-discover":!V&&r==="render"?"true":void 0})});iR.displayName="Form";function rR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(r){let e=G.useContext(wo);return ct(e,rR(r)),e}function sR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let p=gu(),_=mr(),T=yu(r,{relative:u});return G.useCallback(S=>{if(kw(S,e)){S.preventDefault();let C=n!==void 0?n:nu(_)===nu(T),k=()=>p(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g});m?G.startTransition(()=>k()):k()}},[_,p,T,n,s,e,r,o,u,h,g,m])}function bp(r){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=G.useRef(jm(r)),n=G.useRef(!1),s=mr(),o=G.useMemo(()=>Pw(s.search,n.current?null:e.current),[s.search]),u=gu(),h=G.useCallback((g,m)=>{const p=jm(typeof g=="function"?g(new URLSearchParams(o)):g);n.current=!0,u("?"+p,m)},[u,o]);return[o,h]}var aR=0,oR=()=>`__${String(++aR)}__`;function lR(){let{router:r}=ZE("useSubmit"),{basename:e}=G.useContext(xn),n=ww(),s=r.fetch,o=r.navigate;return G.useCallback(async(u,h={})=>{let{action:g,method:m,encType:p,formData:_,body:T}=zw(u,e);if(h.navigate===!1){let S=h.fetcherKey||oR();await s(S,n,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||m,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||m,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function uR(r,{relative:e}={}){let{basename:n}=G.useContext(xn),s=G.useContext(Ui);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(r||".",{relative:e})},h=mr();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(_=>_==="")){g.delete("index"),m.filter(T=>T).forEach(T=>g.append("index",T));let _=g.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),nu(u)}function cR(r,{relative:e}={}){let n=G.useContext(HE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=yu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,h)!=null||Ah(o.pathname,u)!=null}const hR=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,g=h?r[o+1]:0,m=o+2<r.length,p=m?r[o+2]:0,_=u>>2,T=(u&3)<<4|g>>4;let S=(g&15)<<2|p>>6,C=p&63;m||(C=64,h||(S=64)),s.push(n[_],n[T],n[S],n[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(eT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||T==null)throw new dR;const S=u<<2|g>>4;if(s.push(S),p!==64){const C=g<<4&240|p>>2;if(s.push(C),T!==64){const k=p<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mR=function(r){const e=eT(r);return tT.encodeByteArray(e,!0)},bh=function(r){return mR(r).replace(/\./g,"")},nT=function(r){try{return tT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=()=>pR().__FIREBASE_DEFAULTS__,yR=()=>{if(typeof process>"u"||typeof e0>"u")return;const r=e0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nT(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return hR()||gR()||yR()||_R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},iT=r=>{var e,n;return(n=(e=Kh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},vR=r=>{const e=iT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rT=()=>{var r;return(r=Kh())==null?void 0:r.config},sT=r=>{var e;return(e=Kh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}const Xl={};function SR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?r.emulator.push(e):r.prod.push(e);return r}function AR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let t0=!1;function oT(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Xl[r]===e||Xl[r]||t0)return;Xl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=SR().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{t0=!0,h()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=AR(s),C=n("text"),k=document.getElementById(C)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),ne=n("preprendIcon"),ee=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const V=S.element;g(V),_(U,B);const re=p();m(ee,ne),V.append(ee,k,U,re),document.body.appendChild(V)}u?(k.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function wR(){var e;const r=(e=Kh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=MR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?VR(u,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new pr(o,g,s)}}function VR(r,e){return r.replace(kR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kR=/\{\$([^}]+)}/g;function PR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(n0(u)&&n0(h)){if(!ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function n0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function LR(r,e){const n=new UR(r,e);return n.subscribe.bind(n)}class UR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ER;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BR(r){return r===Xs?void 0:r}function qR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const FR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},GR=ke.INFO,QR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},KR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=QR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const YR=(r,e)=>e.some(n=>r instanceof n);let i0,r0;function $R(){return i0||(i0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Bm=new WeakMap,uT=new WeakMap,wm=new WeakMap,Rp=new WeakMap;function JR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ns(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,r)}).catch(()=>{}),Rp.set(e,r),e}function WR(r){if(Bm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Bm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||uT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZR(r){qm=r(qm)}function e2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return uT.set(s,e.sort?e.sort():[e]),ns(s)}:XR().includes(r)?function(...e){return r.apply(Rm(this),e),ns(lT.get(this))}:function(...e){return ns(r.apply(Rm(this),e))}}function t2(r){return typeof r=="function"?e2(r):(r instanceof IDBTransaction&&WR(r),YR(r,$R())?new Proxy(r,qm):r)}function ns(r){if(r instanceof IDBRequest)return JR(r);if(wm.has(r))return wm.get(r);const e=t2(r);return e!==r&&(wm.set(r,e),Rp.set(e,r)),e}const Rm=r=>Rp.get(r);function n2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),g=ns(h);return s&&h.addEventListener("upgradeneeded",m=>{s(ns(h.result),m.oldVersion,m.newVersion,ns(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const i2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],Cm=new Map;function s0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=r2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||i2.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&m.done]))[0]};return Cm.set(e,u),u}ZR(r=>({...r,get:(e,n,s)=>s0(e,n)||r.get(e,n,s),has:(e,n)=>!!s0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function a2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",a0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new wp("@firebase/app"),o2="@firebase/app-compat",l2="@firebase/analytics-compat",u2="@firebase/analytics",c2="@firebase/app-check-compat",h2="@firebase/app-check",f2="@firebase/auth",d2="@firebase/auth-compat",m2="@firebase/database",p2="@firebase/data-connect",g2="@firebase/database-compat",y2="@firebase/functions",_2="@firebase/functions-compat",v2="@firebase/installations",E2="@firebase/installations-compat",T2="@firebase/messaging",S2="@firebase/messaging-compat",A2="@firebase/performance",b2="@firebase/performance-compat",w2="@firebase/remote-config",R2="@firebase/remote-config-compat",C2="@firebase/storage",I2="@firebase/storage-compat",N2="@firebase/firestore",x2="@firebase/ai",D2="@firebase/firestore-compat",O2="firebase",M2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",V2={[Hm]:"fire-core",[o2]:"fire-core-compat",[u2]:"fire-analytics",[l2]:"fire-analytics-compat",[h2]:"fire-app-check",[c2]:"fire-app-check-compat",[f2]:"fire-auth",[d2]:"fire-auth-compat",[m2]:"fire-rtdb",[p2]:"fire-data-connect",[g2]:"fire-rtdb-compat",[y2]:"fire-fn",[_2]:"fire-fn-compat",[v2]:"fire-iid",[E2]:"fire-iid-compat",[T2]:"fire-fcm",[S2]:"fire-fcm-compat",[A2]:"fire-perf",[b2]:"fire-perf-compat",[w2]:"fire-rc",[R2]:"fire-rc-compat",[C2]:"fire-gcs",[I2]:"fire-gcs-compat",[N2]:"fire-fst",[D2]:"fire-fst-compat",[x2]:"fire-vertex","fire-js":"fire-js",[O2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,k2=new Map,Gm=new Map;function o0(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function go(r){const e=r.name;if(Gm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,r);for(const n of wh.values())o0(n,r);for(const n of k2.values())o0(n,r);return!0}function Cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ri(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new _u("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=M2;function cT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=rT()),!n)throw is.create("no-options");const u=wh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const h=new HR(o);for(const m of Gm.values())h.addComponent(m);const g=new L2(n,s,h);return wh.set(o,g),g}function hT(r=Fm){const e=wh.get(r);if(!e&&r===Fm&&rT())return cT();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=V2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(h.join(" "));return}go(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebase-heartbeat-database",z2=1,ru="firebase-heartbeat-store";let Im=null;function fT(){return Im||(Im=n2(U2,z2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Im}async function j2(r){try{const n=(await fT()).transaction(ru),s=await n.objectStore(ru).get(dT(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function l0(r,e){try{const s=(await fT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,dT(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function dT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=1024,q2=30;class H2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=u0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>q2){const h=Q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u0(),{heartbeatsToSend:s,unsentEntries:o}=F2(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return cr.warn(n),""}}}function u0(){return new Date().toISOString().substring(0,10)}function F2(r,e=B2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),c0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),c0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class G2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return l0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function c0(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function Q2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(r){go(new ta("platform-logger",e=>new s2(e),"PRIVATE")),go(new ta("heartbeat",e=>new H2(e),"PRIVATE")),rs(Hm,a0,r),rs(Hm,a0,"esm2020"),rs("fire-js","")}K2("");function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y2=mT,pT=new _u("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new wp("@firebase/auth");function $2(r,...e){Rh.logLevel<=ke.WARN&&Rh.warn(`Auth (${Io}): ${r}`,...e)}function dh(r,...e){Rh.logLevel<=ke.ERROR&&Rh.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,...e){throw Ip(r,...e)}function Oi(r,...e){return Ip(r,...e)}function gT(r,e,n){const s={...Y2(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:r.name})}function ss(r){return gT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return pT.create(r,...e)}function ve(r,e,...n){if(!r)throw Ip(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function hr(r,e){r||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function X2(){return h0()==="http:"||h0()==="https:"}function h0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||CR()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=bR()||IR()}get(){return J2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new Eu(3e4,6e4);function ca(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,o={}){return _T(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const g=vu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:m,...u};return RR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(p.credentials="include"),yT.fetch()(await vT(r,r.config.apiHost,n,g),p)})}async function _T(r,e,n){r._canInitEmulator=!1;const s={...Z2,...e};try{const o=new iC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw sh(r,"user-disabled",h);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw gT(r,_,p);oi(r,_)}}catch(o){if(o instanceof pr)throw o;oi(r,"network-request-failed",{message:String(o)})}}async function Yh(r,e,n,s,o={}){const u=await ps(r,e,n,s,o);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function vT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return eC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function nC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),tC.get())})}}function sh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}function f0(r){return r!==void 0&&r.enterprise!==void 0}class rC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sC(r,e){return ps(r,"GET","/v2/recaptchaConfig",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oC(r,e=!1){const n=Vt(r),s=await n.getIdToken(e),o=xp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Nm(o.auth_time)),issuedAtTime:Jl(Nm(o.iat)),expirationTime:Jl(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(r){return Number(r)*1e3}function xp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d0(r){const e=xp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&lC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){var T;const e=r.auth,n=await r.getIdToken(),s=await su(r,Ch(e,{idToken:n}));ve(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?ET(o.providerUserInfo):[],h=hC(r.providerData,u),g=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),p=g?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function cC(r){const e=Vt(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ET(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,e){const n=await _T(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await vT(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(m.credentials="include"),yT.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dC(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=d0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oC(this,e)}reload(){return cC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await su(this,aC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:k,stsTokenManager:B}=n;ve(T&&B,e,"internal-error");const U=co.fromJSON(this.name,B);ve(typeof T=="string",e,"internal-error"),$r(s,e.name),$r(o,e.name),ve(typeof S=="boolean",e,"internal-error"),ve(typeof C=="boolean",e,"internal-error"),$r(u,e.name),$r(h,e.name),$r(g,e.name),$r(m,e.name),$r(p,e.name),$r(_,e.name);const ne=new si({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:h,phoneNumber:u,tenantId:g,stsTokenManager:U,createdAt:p,lastLoginAt:_});return k&&Array.isArray(k)&&(ne.providerData=k.map(ee=>({...ee}))),m&&(ne._redirectEventId=m),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ET(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new co;g.updateFromIdToken(s);const m=new si({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function sr(r){hr(r instanceof Function,"Expected a class definition");let e=m0.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,m0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TT.type="NONE";const p0=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(sr(p0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||sr(p0);const h=mh(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(h);if(_){let T;if(typeof _=="string"){const S=await Ch(e,{idToken:_}).catch(()=>{});if(!S)break;T=await si._fromGetAccountInfoResponse(e,S,_)}else T=si._fromJSON(e,_);p!==u&&(g=T),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ho(u,e,s):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(IT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ST(r=an()){return/firefox\//i.test(r)}function AT(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(r=an()){return/crios\//i.test(r)}function wT(r=an()){return/iemobile/i.test(r)}function RT(r=an()){return/android/i.test(r)}function CT(r=an()){return/blackberry/i.test(r)}function IT(r=an()){return/webos/i.test(r)}function Dp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mC(r=an()){var e;return Dp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function pC(){return NR()&&document.documentMode===10}function NT(r=an()){return Dp(r)||RT(r)||IT(r)||CT(r)||/windows phone/i.test(r)||wT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r,e=[]){let n;switch(r){case"Browser":n=g0(an());break;case"Worker":n=`${g0(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,g)=>{try{const m=e(u);h(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ca(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=6;class vC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(ri(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===g)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(ss(this));const n=e?Vt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yC(this),n=new vC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&$2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function No(r){return Vt(r)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(r){$h=r}function DT(r){return $h.loadJS(r)}function SC(){return $h.recaptchaEnterpriseScript}function AC(){return $h.gapiScript}function bC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class wC{constructor(){this.enterprise=new RC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CC="recaptcha-enterprise",OT="NO_RECAPTCHA";class IC{constructor(e){this.type=CC,this.auth=No(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{sC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new rC(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(m=>{g(m)})})}function o(u,h,g){const m=window.grecaptcha;f0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(OT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(g=>{if(!n&&f0(window.grecaptcha))o(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SC();m.length!==0&&(m+=g),DT(m).then(()=>{o(g,u,h)}).catch(p=>{h(p)})}}).catch(g=>{h(g)})})}}async function _0(r,e,n,s=!1,o=!1){const u=new IC(r);let h;if(o)h=OT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function v0(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await _0(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await _0(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r,e){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function xC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DC(r,e,n){const s=No(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=MT(e),{host:h,port:g}=OC(e),m=g===null?"":`:${g}`,p={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ea(p,s.config.emulator)&&ea(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(aT(`${u}//${h}${m}`),oT("Auth",!0)):MC()}function MT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OC(r){const e=MT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:E0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:E0(h)}}}function E0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function MC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function VC(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){return Yh(r,"POST","/v1/accounts:signInWithPassword",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e){return Yh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}async function LC(r,e){return Yh(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Op{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,n,"signInWithPassword",kC);case"emailLink":return PC(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v0(e,s,"signUpPassword",VC);case"emailLink":return LC(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return Yh(r,"POST","/v1/accounts:signInWithIdp",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="http://localhost";class na extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:UC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jC(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class Mp{constructor(e){const n=Fl(Gl(e)),s=n.apiKey??null,o=n.oobCode??null,u=zC(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jC(e);try{return new Mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mp.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Tu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Tu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Tu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),h=T0(s);return new yo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=T0(s);return new yo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function T0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function kT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function BC(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return yo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,e,n=!1){const{auth:s}=r;if(ri(s.app))return Promise.reject(ss(s));const o="reauthenticate";try{const u=await su(r,kT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const h=xp(u.idToken);ve(h,s,"internal-error");const{sub:g}=h;return ve(r.uid===g,s,"user-mismatch"),yo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(r,e,n=!1){if(ri(r.app))return Promise.reject(ss(r));const s="signIn",o=await kT(r,s,e),u=await yo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function HC(r,e){return PT(No(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r){const e=No(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function GC(r,e,n){return ri(r.app)?Promise.reject(ss(r)):HC(Vt(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FC(r),s})}function QC(r,e,n,s){return Vt(r).onIdTokenChanged(e,n,s)}function KC(r,e,n){return Vt(r).beforeAuthStateChanged(e,n)}function YC(r,e,n,s){return Vt(r).onAuthStateChanged(e,n,s)}function $C(r){return Vt(r).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=1e3,JC=10;class UT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);pC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const WC=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zT.type="SESSION";const jT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async p=>p(n.origin,u)),m=await ZC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const p=Vp("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function tI(r){Mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function nI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function rI(){return BT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",sI=1,Dh="firebaseLocalStorage",HT="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function aI(){const r=indexedDB.deleteDatabase(qT);return new Su(r).toPromise()}function Ym(){const r=indexedDB.open(qT,sI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:HT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await aI(),e(await Ym()))})})}async function S0(r,e,n){const s=Jh(r,!0).put({[HT]:e,value:n});return new Su(s).toPromise()}async function oI(r,e){const n=Jh(r,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function A0(r,e){const n=Jh(r,!0).delete(e);return new Su(n).toPromise()}const lI=800,uI=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>uI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(rI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await nI(),!this.activeServiceWorker)return;this.sender=new eI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await S0(e,xh,"1"),await A0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const cI=FT;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r,e){return e?sr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fI(r){return PT(r.auth,new kp(r),r.bypassAuthState)}function dI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),qC(n,new kp(r),r.bypassAuthState)}async function mI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),BC(n,new kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fI;case"linkViaPopup":case"linkViaRedirect":return mI;case"reauthViaPopup":case"reauthViaRedirect":return dI;default:oi(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Eu(2e3,1e4);class lo extends GT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pI.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="pendingRedirect",ph=new Map;class yI extends GT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await _I(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(r,e){const n=TI(e),s=EI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function vI(r,e){ph.set(r._key(),e)}function EI(r){return sr(r._redirectPersistence)}function TI(r){return mh(gI,r.config.apiKey,r.name)}async function SI(r,e,n=!1){if(ri(r.app))return Promise.reject(ss(r));const s=No(r),o=hI(s,e),h=await new yI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=600*1e3;class bI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function QT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e={}){return ps(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function NI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RI(r);for(const n of e)try{if(xI(n))return}catch{}oi(r,"unauthorized-domain")}function xI(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!II.test(n))return!1;if(CI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Eu(3e4,6e4);function w0(){const r=Mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OI(r){return new Promise((e,n)=>{var o,u,h;function s(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Oi(r,"network-request-failed"))},timeout:DI.get()})}if((u=(o=Mi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Mi().gapi)!=null&&h.load)s();else{const g=bC("iframefcb");return Mi()[g]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},DT(`${AC()}?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw gh=null,e})}let gh=null;function MI(r){return gh=gh||OI(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Eu(5e3,15e3),kI="__/auth/iframe",PI="emulator/auth/iframe",LI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Np(e,PI):`https://${r.config.authDomain}/${kI}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=UI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function jI(r){const e=await MI(r),n=Mi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:zI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Oi(r,"network-request-failed"),g=Mi().setTimeout(()=>{u(h)},VI.get());function m(){Mi().clearTimeout(g),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qI=500,HI=600,FI="_blank",GI="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QI(r,e,n,s=qI,o=HI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m={...BI,width:s.toString(),height:o.toString(),top:u,left:h},p=an().toLowerCase();n&&(g=bT(p)?FI:n),ST(p)&&(e=e||GI,m.scrollbars="yes");const _=Object.entries(m).reduce((S,[C,k])=>`${S}${C}=${k},`,"");if(mC(p)&&g!=="_self")return KI(e||"",g),new R0(null);const T=window.open(e||"",g,_);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new R0(T)}function KI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__/auth/handler",$I="emulator/auth/handler",XI=encodeURIComponent("fac");async function C0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof VT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",PR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Tu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const g=h;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const m=await r._getAppCheckToken(),p=m?`#${XI}=${encodeURIComponent(m)}`:"";return`${JI(r)}?${vu(g).slice(1)}${p}`}function JI({config:r}){return r.emulator?Np(r,$I):`https://${r.authDomain}/${YI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class WI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=SI,this._overrideRedirectResult=vI}async _openPopup(e,n,s,o){var h;hr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await C0(e,n,s,Qm(),o);return QI(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await C0(e,n,s,Qm(),o);return tI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jI(e),s=new bI(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[xm];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||AT()||Dp()}}const ZI=WI;var I0="@firebase/auth",N0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nN(r){go(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(r)},p=new EC(s,o,u,m);return xC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new ta("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(s=>new eN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(I0,N0,tN(r)),rs(I0,N0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=300,rN=sT("authIdTokenMaxAge")||iN;let x0=null;const sN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rN)return;const o=n==null?void 0:n.token;x0!==o&&(x0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aN(r=hT()){const e=Cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=NC(r,{popupRedirectResolver:ZI,persistence:[cI,WC,jT]}),s=sT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=sN(u.toString());KC(n,h,()=>h(n.currentUser)),QC(n,g=>h(g))}}const o=iT("auth");return o&&DC(n,`http://${o}`),n}function oN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}TC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nN("Browser");var lN="firebase",uN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(lN,uN,"app");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,KT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(L,O,j){for(var x=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)x[Be-2]=arguments[Be];return R.prototype[O].apply(L,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,N){N||(N=0);const L=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)L[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)L[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],O=I.g[2];let j=I.g[3],x;x=R+(j^N&(O^j))+L[0]+3614090360&4294967295,R=N+(x<<7&4294967295|x>>>25),x=j+(O^R&(N^O))+L[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=O+(N^j&(R^N))+L[2]+606105819&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(R^O&(j^R))+L[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(j^N&(O^j))+L[4]+4118548399&4294967295,R=N+(x<<7&4294967295|x>>>25),x=j+(O^R&(N^O))+L[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=O+(N^j&(R^N))+L[6]+2821735955&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(R^O&(j^R))+L[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(j^N&(O^j))+L[8]+1770035416&4294967295,R=N+(x<<7&4294967295|x>>>25),x=j+(O^R&(N^O))+L[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=O+(N^j&(R^N))+L[10]+4294925233&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(R^O&(j^R))+L[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(j^N&(O^j))+L[12]+1804603682&4294967295,R=N+(x<<7&4294967295|x>>>25),x=j+(O^R&(N^O))+L[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=O+(N^j&(R^N))+L[14]+2792965006&4294967295,O=j+(x<<17&4294967295|x>>>15),x=N+(R^O&(j^R))+L[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=R+(O^j&(N^O))+L[1]+4129170786&4294967295,R=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(R^N))+L[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(j^R))+L[11]+643717713&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^R&(O^j))+L[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^j&(N^O))+L[5]+3593408605&4294967295,R=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(R^N))+L[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(j^R))+L[15]+3634488961&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^R&(O^j))+L[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^j&(N^O))+L[9]+568446438&4294967295,R=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(R^N))+L[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(j^R))+L[3]+4107603335&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^R&(O^j))+L[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(O^j&(N^O))+L[13]+2850285829&4294967295,R=N+(x<<5&4294967295|x>>>27),x=j+(N^O&(R^N))+L[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=O+(R^N&(j^R))+L[7]+1735328473&4294967295,O=j+(x<<14&4294967295|x>>>18),x=N+(j^R&(O^j))+L[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=R+(N^O^j)+L[5]+4294588738&4294967295,R=N+(x<<4&4294967295|x>>>28),x=j+(R^N^O)+L[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=O+(j^R^N)+L[11]+1839030562&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^R)+L[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^j)+L[1]+2763975236&4294967295,R=N+(x<<4&4294967295|x>>>28),x=j+(R^N^O)+L[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=O+(j^R^N)+L[7]+4139469664&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^R)+L[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^j)+L[13]+681279174&4294967295,R=N+(x<<4&4294967295|x>>>28),x=j+(R^N^O)+L[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=O+(j^R^N)+L[3]+3572445317&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^R)+L[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(N^O^j)+L[9]+3654602809&4294967295,R=N+(x<<4&4294967295|x>>>28),x=j+(R^N^O)+L[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=O+(j^R^N)+L[15]+530742520&4294967295,O=j+(x<<16&4294967295|x>>>16),x=N+(O^j^R)+L[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=R+(O^(N|~j))+L[0]+4096336452&4294967295,R=N+(x<<6&4294967295|x>>>26),x=j+(N^(R|~O))+L[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=O+(R^(j|~N))+L[14]+2878612391&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~R))+L[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~j))+L[12]+1700485571&4294967295,R=N+(x<<6&4294967295|x>>>26),x=j+(N^(R|~O))+L[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=O+(R^(j|~N))+L[10]+4293915773&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~R))+L[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~j))+L[8]+1873313359&4294967295,R=N+(x<<6&4294967295|x>>>26),x=j+(N^(R|~O))+L[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=O+(R^(j|~N))+L[6]+2734768916&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~R))+L[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=R+(O^(N|~j))+L[4]+4149444226&4294967295,R=N+(x<<6&4294967295|x>>>26),x=j+(N^(R|~O))+L[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=O+(R^(j|~N))+L[2]+718787259&4294967295,O=j+(x<<15&4294967295|x>>>17),x=N+(j^(O|~R))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,L=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=N;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<R;)if(L[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,L),O=0;break}}else for(;j<R;)if(L[O++]=I[j++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)I[R++]=this.g[N]>>>L&255;return I};function u(I,R){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function h(I,R){this.h=R;const N=[];let L=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;L&&j==R||(N[O]=j,L=!1)}this.g=N}var g={};function m(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return U(p(-I));const R=[];let N=1;for(let L=0;I>=N;L++)R[L]=I/N|0,N*=4294967296;return new h(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return U(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(R,8));let L=T;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const x=parseInt(I.substring(j,j+O),R);O<8?(O=p(Math.pow(R,O)),L=L.j(O).add(p(x))):(L=L.j(N),L=L.add(p(x)))}return L}var T=m(0),S=m(1),C=m(16777216);r=h.prototype,r.m=function(){if(B(this))return-U(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);I+=(L>=0?L:4294967296+L)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k(this))return"0";if(B(this))return"-"+U(this).toString(I);const R=p(Math.pow(I,6));var N=this;let L="";for(;;){const O=re(N,R).g;N=ne(N,O.j(R));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,k(N))return j+L;for(;j.length<6;)j="0"+j;L=j+L}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function k(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function B(I){return I.h==-1}r.l=function(I){return I=ne(this,I),B(I)?-1:k(I)?0:1};function U(I){const R=I.g.length,N=[];for(let L=0;L<R;L++)N[L]=~I.g[L];return new h(N,~I.h).add(S)}r.abs=function(){return B(this)?U(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let L=0;for(let O=0;O<=R;O++){let j=L+(this.i(O)&65535)+(I.i(O)&65535),x=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);L=x>>>16,j&=65535,x&=65535,N[O]=x<<16|j}return new h(N,N[N.length-1]&-2147483648?-1:0)};function ne(I,R){return I.add(U(R))}r.j=function(I){if(k(this)||k(I))return T;if(B(this))return B(I)?U(this).j(U(I)):U(U(this).j(I));if(B(I))return U(this.j(U(I)));if(this.l(C)<0&&I.l(C)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var L=0;L<2*R;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<I.g.length;O++){const j=this.i(L)>>>16,x=this.i(L)&65535,Be=I.i(O)>>>16,Ye=I.i(O)&65535;N[2*L+2*O]+=x*Ye,ee(N,2*L+2*O),N[2*L+2*O+1]+=j*Ye,ee(N,2*L+2*O+1),N[2*L+2*O+1]+=x*Be,ee(N,2*L+2*O+1),N[2*L+2*O+2]+=j*Be,ee(N,2*L+2*O+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new h(N,0)};function ee(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function V(I,R){this.g=I,this.h=R}function re(I,R){if(k(R))throw Error("division by zero");if(k(I))return new V(T,T);if(B(I))return R=re(U(I),R),new V(U(R.g),U(R.h));if(B(R))return R=re(I,U(R)),new V(U(R.g),R.h);if(I.g.length>30){if(B(I)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var N=S,L=R;L.l(I)<=0;)N=ue(N),L=ue(L);var O=de(N,1),j=de(L,1);for(L=de(L,2),N=de(N,2);!k(L);){var x=j.add(L);x.l(I)<=0&&(O=O.add(N),j=x),L=de(L,1),N=de(N,1)}return R=ne(I,O.j(R)),new V(O,R)}for(O=T;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),j=p(N),x=j.j(R);B(x)||x.l(I)>0;)N-=L,j=p(N),x=j.j(R);k(j)&&(j=S),O=O.add(j),I=ne(I,x)}return new V(O,I)}r.B=function(I){return re(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)&I.i(L);return new h(N,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)|I.i(L);return new h(N,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)^I.i(L);return new h(N,this.h^I.h)};function ue(I){const R=I.g.length+1,N=[];for(let L=0;L<R;L++)N[L]=I.i(L)<<1|I.i(L-1)>>>31;return new h(N,I.h)}function de(I,R){const N=R>>5;R%=32;const L=I.g.length-N,O=[];for(let j=0;j<L;j++)O[j]=R>0?I.i(j+N)>>>R|I.i(j+N+1)<<32-R:I.i(j+N);return new h(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,as=h}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,Ql,$T,yh,$m,XT,JT,WT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in E))break e;E=E[q]}c=c[c.length-1],b=E[c],y=y(b),y!=b&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function m(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=m,p.apply(null,arguments)}function _(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(b,q,K){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[q].apply(b,se)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function C(c){const y=c.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=c[b];return E}return[]}function k(c,y){for(let b=1;b<arguments.length;b++){const q=arguments[b];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let se=0;se<K;se++)c[E+se]=q[se]}else c.push(q)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function ne(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,E){const b=V.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var V=new B(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,de=!1,I=new ee,R=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(N)}};function N(){for(var c;c=ne();){try{c.h.call(c.g)}catch(E){U(E)}var y=V;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}de=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Be(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Be,O),Be.prototype.init=function(c,y){const E=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,y,E,b,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=q,this.key=++$,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oe(c,y,E){for(const b in c)y.call(E,c[b],b,c)}function qe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(E in b)c[E]=b[E];for(let K=0;K<Z.length;K++)E=Z[K],Object.prototype.hasOwnProperty.call(b,E)&&(c[E]=b[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,E,b,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,b,q);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!b,q),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var b=c.g[E],q=Array.prototype.indexOf.call(b,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(b,q,1),K&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ce(c,y,E,b){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==b)return q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Pt={};function ot(c,y,E,b,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)ot(c,y[K],E,b,q);return null}return E=Uo(E),c&&c[Ye]?c.J(y,E,g(b)?!!b.capture:!1,q):vs(c,y,E,!1,b,q)}function vs(c,y,E,b,q,K){if(!y)throw Error("Invalid event type");const se=g(q)?!!q.capture:!!q;let we=Es(c);if(we||(c[ze]=we=new ce(c)),E=we.add(y,E,b,se,K),E.proxy)return E;if(b=da(),E.proxy=b,b.src=c,b.listener=E,c.addEventListener)j||(q=se),q===void 0&&(q=!1),c.addEventListener(y.toString(),b,q);else if(c.attachEvent)c.attachEvent(ui(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function da(){function c(E){return y.call(c.src,c.listener,E)}const y=Po;return c}function ma(c,y,E,b,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)ma(c,y[K],E,b,q);else b=g(b)?!!b.capture:!!b,E=Uo(E),c&&c[Ye]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ce(y,E,b,q),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Es(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,E,b,q)),(E=c>-1?y[c]:null)&&pa(E))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ye])Te(y.i,c);else{var E=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(E,b,c.capture):y.detachEvent?y.detachEvent(ui(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=Es(y))?(Te(E,c),E.h==0&&(E.src=null,y[ze]=null)):pe(c)}}}function ui(c){return c in Pt?Pt[c]:Pt[c]="on"+c}function Po(c,y){if(c.da)c=!0;else{y=new Be(y,this);const E=c.listener,b=c.ha||c.src;c.fa&&pa(c),c=E.call(b,y)}return c}function Es(c){return c=c[ze],c instanceof ce?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function Tt(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}T(Tt,L),Tt.prototype[Ye]=!0,Tt.prototype.removeEventListener=function(c,y,E,b){ma(this,c,y,E,b)};function Lt(c,y){var E,b=c.G;if(b)for(E=[];b;b=b.G)E.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var q=y;y=new O(b,c),oe(y,q)}q=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],q=gr(K,b,!0,y)&&q;if(K=y.g=c,q=gr(K,b,!0,y)&&q,q=gr(K,b,!1,y)&&q,E)for(se=0;se<E.length;se++)K=y.g=E[se],q=gr(K,b,!1,y)&&q}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let b=0;b<E.length;b++)pe(E[b]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,E,b){return this.i.add(String(c),y,!1,E,b)},Tt.prototype.K=function(c,y,E,b){return this.i.add(String(c),y,!0,E,b)};function gr(c,y,E,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const we=se.listener,yt=se.ha||se.src;se.fa&&Te(c.i,se),q=we.call(yt,b)!==!1&&q}}return q&&!b.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Nu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){L.call(this),this.h=c,this.g={}}T(Ts,L);var zo=[];function jo(c){Oe(c.g,function(y,E){this.g.hasOwnProperty(E)&&pa(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),jo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=h.JSON.stringify,_f=h.JSON.parse,xu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Du(){}function Ou(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){O.call(this,"d")}T(Gt,O);function Dn(){O.call(this,"c")}T(Dn,O);var gt={},Mu=null;function ga(){return Mu=Mu||new Tt}gt.Ia="serverreachability";function Vu(c){O.call(this,gt.Ia,c)}T(Vu,O);function ci(c){const y=ga();Lt(y,new Vu(y))}gt.STAT_EVENT="statevent";function Ss(c,y){O.call(this,gt.STAT_EVENT,c),this.stat=y}T(Ss,O);function St(c){const y=ga();Lt(y,new Ss(y,c))}gt.Ja="timingevent";function hi(c,y){O.call(this,gt.Ja,c),this.size=y}T(hi,O);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function vf(c,y,E,b,q,K){c.info(function(){if(c.g)if(K){var se="",we=K.split("&");for(let Ge=0;Ge<we.length;Ge++){var yt=we[Ge].split("=");if(yt.length>1){const lt=yt[0];yt=yt[1];const kn=lt.split("_");se=kn.length>=2&&kn[1]=="type"?se+(lt+"="+yt+"&"):se+(lt+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+y+`
`+E+`
`+se})}function ku(c,y,E,b,q,K,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+y+`
`+E+`
`+K+" "+se})}function di(c,y,E,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,E)+(b?" "+b:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var q=b[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<b.length;se++)b[se]=""}}}}return yr(K)}catch{return y}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function ws(){}T(ws,Du),ws.prototype.g=function(){return new XMLHttpRequest},qo=new ws;function zi(c){return encodeURIComponent(String(c))}function Pu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,b){this.j=c,this.i=y,this.l=E,this.S=b||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var At={},Bt={};function mi(c,y,E){c.M=1,c.A=Rs(wt(y)),c.u=E,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),pi(c),c.B=wt(c.A);var E=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ta(E.i,"t",b),c.C=0,E=c.j.L,c.h=new $n,c.g=Ju(c.j,E?y:null,!c.u),c.P>0&&(c.O=new on(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,b=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(zo[0]=q.toString()),q=zo);for(let K=0;K<q.length;K++){const se=ot(E,q[K],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Wn(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||yt==7||(yt==8||Ge<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var E=Tf(this);if(this.o=y==200,ku(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,q=this.g;if((b=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var K=b;break t}}K=null}if(c=K)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,St(12),vn(this),On(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Uu(this,E),lt==Bt){we==4&&(this.m=4,St(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==At){this.m=4,St(15),di(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,lt,null),yi(this,lt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(se),se.P=!0,St(11))}}else di(this.i,this.l,E,null),yi(this,E);we==4&&vn(this),this.o&&!this.K&&(we==4?Ku(this.j,this):(this.o=!1,pi(this)))}else Bi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),vn(this),On(this)}}}catch{}finally{}};function Tf(c){if(!Lu(c))return c.g.la();const y=Qt(c.g);if(y==="")return"";let E="";const b=y.length,q=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),On(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<b;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(q&&K==b-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var E=c.C,b=y.indexOf(`
`,E);return b==-1?Bt:(E=Number(y.substring(E,b)),isNaN(E)?At:(b+=1,b+E>y.length?Bt:(y=y.slice(b,b+E),c.C=b+E,y)))}Yn.prototype.cancel=function(){this.K=!0,vn(this)};function pi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(p(c.aa,c),y)}function gi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ci(),St(17)),vn(this),this.m=2,On(this)):_a(this,this.T-c)};function On(c){c.j.I==0||c.K||Ku(c.j,c)}function vn(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,jo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||vi(E.h,c))){if(!c.L&&vi(E.h,c)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ra(E),wr(E);else break e;Ms(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(p(E.Va,E),6e3));_i(E.h)<=1&&E.ta&&(E.ta=void 0)}else wi(E,11)}else if((c.L||E.g==c)&&Ra(E),!x(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Ge=q[y];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const kn=Ge[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const Ri=Ge[4];Ri!=null&&(E.za=Ri,E.j.info("SVER="+E.za));const Zn=Ge[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(b=1.5*Zn,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const ei=c.g;if(ei){const Vs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var K=b.h;K.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Go(K,K.h),K.h=null))}if(b.G){const Ca=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,$e(b.J,b.G,Ca))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var se=c;if(b.na=Xu(b,b.L?b.ba:null,b.W),se.L){Qo(b.h,se);var we=se,yt=b.O;yt&&(we.H=yt),we.D&&(gi(we),pi(we)),b.g=se}else Gu(b);E.i.length>0&&bi(E)}else Ge[0]!="stop"&&Ge[0]!="close"||wi(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?wi(E,7):tl(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}ci(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return C(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const b=c[E].indexOf("=");let q,K=null;b>=0?(q=c[E].substring(0,b),K=c[E].substring(b+1)):q=c[E],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,Yo(this,Hu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),_r(this,y[4]),this.h=Ei(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Cs(y,Ea,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,Ea,!0),"@"),c.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Cs(E,E.charAt(0)=="/"?$o:ju,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Cs(E,Bu)),c.join("")},En.prototype.resolve=function(c){const y=wt(this);let E=!!c.j;E?qt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var b=c.h;if(E)_r(y,c.u);else if(E=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var q=y.h.lastIndexOf("/");q!=-1&&(b=y.h.slice(0,q+1)+b)}if(q=b,q==".."||q==".")b="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){b=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let se=0;se<q.length;){const we=q[se++];we=="."?b&&se==q.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),b&&se==q.length&&K.push("")):(K.push(we),b=!0)}b=K.join("/")}else b=q}return E?y.h=b:E=c.i.toString()!=="",E?Yo(y,Hu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function wt(c){return new En(c)}function qt(c,y,E){c.j=E?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,E){y instanceof Er?(c.i=y,Sa(c.i,c.l)):(E||(y=Cs(y,vr)),c.i=new Er(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function Rs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,ju=/[#\?:]/g,$o=/[#\?]/g,vr=/[#\?@]/g,Bu=/#/g;function Er(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Er.prototype,r.add=function(c,y){hn(this),this.i=null,c=Tr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function qu(c,y){hn(c),y=Tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return hn(c),y=Tr(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(E,b){E.forEach(function(q){c.call(y,q,b,this)},this)},this)};function Jo(c,y){hn(c);let E=[];if(typeof y=="string")Xo(c,y)&&(E=E.concat(c.g.get(Tr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return hn(this),this.i=null,c=Tr(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,E){qu(c,y),E.length>0&&(c.i=null,c.g.set(Tr(c,y),C(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const q=zi(E);E=Jo(this,E);for(let K=0;K<E.length;K++){let se=q;E[K]!==""&&(se+="="+zi(E[K])),c.push(se)}}return this.i=c.join("&")};function Hu(c){const y=new Er;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sa(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,b){const q=b.toLowerCase();b!=q&&(qu(this,b),Ta(this,q,E))},c)),c.j=y}function Xn(c,y){const E=new Kn;if(h.Image){const b=new Image;b.onload=_(Mn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Mn,E,"TestLoadImage: error",!1,y,b),b.onabort=_(Mn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Mn,E,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Wo(c,y){const E=new Kn,b=new AbortController,q=setTimeout(()=>{b.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(q),K.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Mn(E,"TestPingServer: error",!1,y)})}function Mn(c,y,E,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(E)}catch{}}function Sr(){this.g=new xu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ti,Du),Ti.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,Tt),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Jn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return Oe(c,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Ns(c,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Vn(E),typeof c=="string"?E!=null&&zi(E):$e(c,y,E))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,Tt);var Si=/^https?$/i,Zo=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){xs(this,K);return}if(c=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)E.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())E.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||b||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){xs(this,K)}};function xs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),ji(c)}function el(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=K===0){let se=String(c.D).match(zu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),b=!Si.test(se?se.toLowerCase():"")}E=b}if(E)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var q=Wn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",el(c)}}finally{ji(c)}}}}function ji(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Lt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(x(c[b]))continue;var E=Pu(c[b]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[q]||[];y[q]=K,K.push(E)}qe(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function br(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,b){St(0),this.W=c,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Xu(this,null,this.W),bi(this)};function tl(c){if(ba(c),c.I==3){var y=c.V++,E=wt(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Os(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=Rs(wt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ju(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}$u(c)}function wr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function ba(c){wr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function bi(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ue||R(),de||(ue(),de=!0),I.add(y,c),c.D=0}}function wa(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(p(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Yn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=P(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Fu(this,q,y),E=wt(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Os(this,E),K&&(this.R?y="headers="+zi(Vn(K))+"&"+y:this.u&&Ns(E,this.u,K)),Go(this.h,q),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),q.U=!0,mi(q,E,null)):mi(q,E,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var E;y?E=y.l:E=c.V++;const b=wt(c.J);$e(b,"SID",c.M),$e(b,"RID",E),$e(b,"AID",c.K),Os(c,b),c.u&&c.o&&Ns(b,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),mi(E,b,y)}function Os(c,y){c.H&&Oe(c.H,function(E,b){$e(y,b,E)}),c.l&&Oe({},function(E,b){$e(y,b,E)})}function Fu(c,y,E){E=Math.min(c.i.length,E);const b=c.l?p(c.l.Ka,c.l,c):null;e:{var q=c.i;let we=-1;for(;;){const yt=["count="+E];we==-1?E>0?(we=q[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let Ge=!0;for(let lt=0;lt<E;lt++){var K=q[lt].g;const kn=q[lt].map;if(K-=we,K<0)we=Math.max(0,q[lt].g-100),Ge=!1;else try{K="req"+K+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[Ri,Zn]of se){let ei=Zn;g(Zn)&&(ei=yr(Zn)),yt.push(K+Ri+"="+encodeURIComponent(ei))}}catch(Ri){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Ri}}catch{b&&b(kn)}}if(Ge){se=yt.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ue||R(),de||(ue(),de=!0),I.add(y,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(p(c.Da,c),Yu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),wr(this),Qu(this))};function il(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Os(c,y),c.u&&c.o&&Ns(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Rs(wt(y)),E.u=null,E.R=!0,ya(E,c)}r.Va=function(){this.C!=null&&(this.C=null,wr(this),Ms(this),St(19))};function Ra(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,y){var E=null;if(c.g==y){Ra(c),il(c),c.g=null;var b=2}else if(vi(c.h,y))E=y.G,Qo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;b=ga(),Lt(b,new hi(b,E)),bi(c)}else Gu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(b==1&&wa(c,y)||b==2&&Ms(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Yu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),b=c.Ua;const q=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(b,"https"),Rs(b),q?Xn(b.toString(),E):Wo(b.toString(),E)}else St(2);c.I=0,c.l&&c.l.pa(y),$u(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function $u(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ja,y),k(c.ja,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,E){var b=E instanceof En?wt(E):new En(E);if(b.g!="")y&&(b.g=y+"."+b.g),_r(b,b.u);else{var q=h.location;b=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new En(null);b&&qt(K,b),y&&(K.g=y),q&&_r(K,q),E&&(K.h=E),b=K}return E=c.G,y=c.wa,E&&y&&$e(b,E,y),$e(b,"VER",c.ka),Os(c,b),b}function Ju(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Ti({ab:E})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){Tt.call(this),this.g=new br(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new qi(this)}T(ln,Tt),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){tl(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=yr(c),c=E);y.i.push(new bt(y.Ya++,c)),y.I==3&&bi(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,ln.Z.N.call(this)};function Zu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Zu,Gt);function ec(){Dn.call(this),this.status=1}T(ec,Dn);function qi(c){this.g=c}T(qi,Wu),qi.prototype.ra=function(){Lt(this.g,"a")},qi.prototype.qa=function(c){Lt(this.g,new Zu(c))},qi.prototype.pa=function(c){Lt(this.g,new ec)},qi.prototype.oa=function(){Lt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,WT=function(){return new Rr},JT=function(){return ga()},XT=gt,$m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,yh=bs,Bo.COMPLETE="complete",$T=Bo,Ou.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ql=Ou,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,YT=We}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.9.0";function cN(r){Do=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new wp("@firebase/firestore");function io(){return ia.logLevel}function he(r,...e){if(ia.logLevel<=ke.DEBUG){const n=e.map(Pp);ia.debug(`Firestore (${Do}): ${r}`,...n)}}function fr(r,...e){if(ia.logLevel<=ke.ERROR){const n=e.map(Pp);ia.error(`Firestore (${Do}): ${r}`,...n)}}function ra(r,...e){if(ia.logLevel<=ke.WARN){const n=e.map(Pp);ia.warn(`Firestore (${Do}): ${r}`,...n)}}function Pp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ZT(r,s,n)}function ZT(r,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ZT(e,o,s)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class fN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dN{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new e1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class mN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class O0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new O0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Xm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Pe(o,u):Dm(o)?1:-1}return Pe(r.length,e.length)}const _N=55296,vN=57343;function Dm(r){const e=r.charCodeAt(0);return e>=_N&&e<=vN}function _o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class it extends Di{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const EN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Di{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return EN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M0}static keyField(){return new Wt([M0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(u(),o++)}if(u(),h)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TN(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function V0(r){if(!ye.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k0(r){if(ye.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function n1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function or(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Au(r,e){if(!n1(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,L0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*L0);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Mt("string",at._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new at(0,0))}static max(){return new Se(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function SN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new us(o,ye.empty(),e)}function AN(r){return new us(r.readTime,r.key,ou)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Se.min(),ye.empty(),ou)}static max(){return new us(Se.max(),ye.empty(),ou)}}function bN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==wN)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const p=m;n(e[p]).next((_=>{h[p]=_,++g,g===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=-1;function ef(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function IN(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function NN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=U0(e)),e=xN(r.get(n),e);return U0(e)}function xN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case i1:n+="";break;default:n+=u}}return n}function U0(r){return r+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function r1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new s1("Invalid base64 string: "+u):u}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=DN.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(r.seconds),nanos:Et(r.nanos)}}function Et(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="server_timestamp",o1="__type__",l1="__previous_value__",u1="__local_write_time__";function zp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[o1])==null?void 0:s.stringValue)===a1}function tf(r){const e=r.mapValue.fields[l1];return zp(e)?tf(e):e}function lu(r){const e=cs(r.mapValue.fields[u1].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,s,o,u,h,g,m,p,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=T}}const Mh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}function MN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="__type__",VN="__max__",lh={mapValue:{}},h1="__vector__",Vh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zp(r)?4:PN(r)?9007199254740991:kN(r)?10:11:Ee(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),g=cs(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),g=Et(u.doubleValue);return h===g?Oh(h)===Oh(g):isNaN(h)&&isNaN(g)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(z0(h)!==z0(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!Li(h[m],g[m])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const g=Et(u.integerValue||u.doubleValue),m=Et(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return B0(r.timestampValue,e.timestampValue);case 4:return B0(lu(r),lu(e));case 5:return Xm(r.stringValue,e.stringValue);case 6:return(function(u,h){const g=hs(u),m=hs(h);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const g=u.split("/"),m=h.split("/");for(let p=0;p<g.length&&p<m.length;p++){const _=Pe(g[p],m[p]);if(_!==0)return _}return Pe(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const g=Pe(Et(u.latitude),Et(h.latitude));return g!==0?g:Pe(Et(u.longitude),Et(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return q0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var S,C,k,B;const g=u.fields||{},m=h.fields||{},p=(S=g[Vh])==null?void 0:S.arrayValue,_=(C=m[Vh])==null?void 0:C.arrayValue,T=Pe(((k=p==null?void 0:p.values)==null?void 0:k.length)||0,((B=_==null?void 0:_.values)==null?void 0:B.length)||0);return T!==0?T:q0(p,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),p=h.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const S=Xm(m[T],_[T]);if(S!==0)return S;const C=vo(g[m[T]],p[_[T]]);if(C!==0)return C}return Pe(m.length,_.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function B0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=cs(r),s=cs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function q0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Eo(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function _h(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(r);return e?16+_h(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+_h(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,h)=>{o+=u.length+_h(h)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function H0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function F0(r){return!!r&&"nullValue"in r}function G0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function vh(r){return!!r&&"mapValue"in r}function kN(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[c1])==null?void 0:s.stringValue)===h1}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return e}return{...r}}function PN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=Wl(h):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(Wl(this.value))}}function f1(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Wt([n]);if(vh(s)){const u=f1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function K0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function LN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class Ot extends d1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new zN(e,n,s):n==="array-contains"?new qN(e,s):n==="in"?new HN(e,s):n==="not-in"?new FN(e,s):n==="array-contains-any"?new GN(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jN(e,s):new BN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends d1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return m1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m1(r){return r.op==="and"}function p1(r){return UN(r)&&m1(r)}function UN(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function Zm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(p1(r))return r.filters.map((e=>Zm(e))).join(",");{const e=r.filters.map((n=>Zm(n))).join(",");return`${r.op}(${e})`}}function g1(r,e){return r instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,g)=>u&&g1(h,o.filters[g])),!0):!1})(r,e):void Ee(19439)}function y1(r){return r instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(y1).join(" ,")+"}"})(r):"Filter"}class zN extends Ot{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class jN extends Ot{constructor(e,n){super(e,"in",n),this.keys=_1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BN extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=_1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class qN extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&cu(n.arrayValue,this.value)}}class HN extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class FN extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class GN extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n=null,s=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Te=null}}function Y0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new QN(r,e,n,s,o,u,h)}function Bp(r){const e=be(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!g1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K0(r.startAt,e.startAt)&&K0(r.endAt,e.endAt)}function ep(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n=null,s=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KN(r,e,n,s,o,u,h,g){return new Vo(r,e,n,s,o,u,h,g)}function Hp(r){return new Vo(r)}function $0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YN(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function v1(r){return r.collectionGroup!==null}function Zl(r){const e=be(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new jt(Wt.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new hu(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new hu(Wt.keyField(),s))}return e.Ie}function Vi(r){const e=be(r);return e.Ee||(e.Ee=$N(e,Zl(r))),e.Ee}function $N(r,e){if(r.limitType==="F")return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return Y0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function tp(r,e){const n=r.filters.concat([e]);return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function XN(r,e){const n=r.explicitOrderBy.concat([e]);return new Vo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function np(r,e,n){return new Vo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return qp(Vi(r),Vi(e))&&r.limitType===e.limitType}function E1(r){return`${Bp(Vi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>y1(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,m){const p=Q0(h,g,m);return h.inclusive?p<=0:p<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(h,g,m){const p=Q0(h,g,m);return h.inclusive?p>=0:p>0})(s.endAt,Zl(s),o))})(r,e)}function JN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function T1(r){return(e,n)=>{let s=!1;for(const o of Zl(r)){const u=WN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WN(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,g){const m=h.data.field(u),p=g.data.field(u);return m!==null&&p!==null?vo(m,p):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return r1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new ft(ye.comparator);function dr(){return ZN}const S1=new ft(ye.comparator);function Kl(...r){let e=S1;for(const n of r)e=e.insert(n.key,n);return e}function A1(r){let e=S1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return eu()}function b1(){return eu()}function eu(){return new ha((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ex=new ft(ye.comparator),tx=new jt(ye.comparator);function Le(...r){let e=tx;for(const n of r)e=e.add(n);return e}const nx=new jt(Pe);function ix(){return nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function w1(r){return{integerValue:""+r}}function rx(r,e){return IN(e)?w1(e):Fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function sx(r,e,n){return r instanceof fu?(function(o,u){const h={fields:{[o1]:{stringValue:a1},[u1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=tf(u)),u&&(h.fields[l1]=u),{mapValue:h}})(n,e):r instanceof du?C1(r,e):r instanceof mu?I1(r,e):(function(o,u){const h=R1(o,u),g=X0(h)+X0(o.Ae);return Wm(h)&&Wm(o.Ae)?w1(g):Fp(o.serializer,g)})(r,e)}function ax(r,e,n){return r instanceof du?C1(r,e):r instanceof mu?I1(r,e):n}function R1(r,e){return r instanceof Ph?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class fu extends sf{}class du extends sf{constructor(e){super(),this.elements=e}}function C1(r,e){const n=N1(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class mu extends sf{constructor(e){super(),this.elements=e}}function I1(r,e){let n=N1(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Ph extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X0(r){return Et(r.integerValue||r.doubleValue)}function N1(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.field=e,this.transform=n}}function lx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?_o(s.elements,o.elements,Li):s instanceof Ph&&o instanceof Ph?Li(s.Ae,o.Ae):s instanceof fu&&o instanceof fu})(r.transform,e.transform)}class ux{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function x1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new of(r.key,Nn.none()):new bu(r.key,r.data,Nn.none());{const n=r.data,s=_n.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ys(r.key,s,new In(o.toArray()),Nn.none())}}function cx(r,e,n){r instanceof bu?(function(o,u,h){const g=o.value.clone(),m=W0(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=W0(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(D1(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tu(r,e,n,s){return r instanceof bu?(function(u,h,g,m){if(!Eh(u.precondition,h))return g;const p=u.value.clone(),_=Z0(u.fieldTransforms,m,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,h,g,m){if(!Eh(u.precondition,h))return g;const p=Z0(u.fieldTransforms,m,h),_=h.data;return _.setAll(D1(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,g){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(r,e,n)}function hx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=R1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function J0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,h)=>lx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function D1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function W0(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,g=e.data.field(u.field);s.set(u.field,ax(h,g,n[o]))}return s}function Z0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,sx(u,h,e))}return s}class of extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=b1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=x1(h,g);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,s)=>J0(n,s)))&&_o(this.baseMutations,e.baseMutations,((n,s)=>J0(n,s)))}}class Gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ex})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,je;function gx(r){switch(r){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function O1(r){if(r===void 0)return fr("GRPC error has no .code"),W.UNKNOWN;switch(r){case xt.OK:return W.OK;case xt.CANCELLED:return W.CANCELLED;case xt.UNKNOWN:return W.UNKNOWN;case xt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case xt.INTERNAL:return W.INTERNAL;case xt.UNAVAILABLE:return W.UNAVAILABLE;case xt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case xt.NOT_FOUND:return W.NOT_FOUND;case xt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case xt.ABORTED:return W.ABORTED;case xt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case xt.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new as([4294967295,4294967295],0);function eE(r){const e=yx().encode(r),n=new KT;return n.update(e),new Uint8Array(n.digest())}function tE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class Qp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(_x)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eE(e),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Qp(u,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=eE(e),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lf(Se.min(),o,new ft(Pe),dr(),Le())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class M1{constructor(e,n){this.targetId=e,this.Ce=n}}class V1{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.ve=0,this.Fe=iE(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new wu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=iE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vx{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=uh(),this.Je=uh(),this.Ze=new ft(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const h=new ye(u.path);this.et(n,h,sn.newNoDocument(h,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),m=g?this.ct(g,e,h):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=hs(s).toUint8Array()}catch(m){if(m instanceof s1)return ra("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Qp(h,o,u)}catch(m){return ra(m instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const g=this.ot(h);if(g){if(u.current&&ep(g.target)){const m=new ye(g.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,sn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=Le();this.Je.forEach(((u,h)=>{let g=!0;h.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new lf(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=uh(),this.Je=uh(),this.Ze=new ft(Pe),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new nE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new jt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new jt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ft(ye.comparator)}function iE(){return new ft(ye.comparator)}const Ex={asc:"ASCENDING",desc:"DESCENDING"},Tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sx={and:"AND",or:"OR"};class Ax{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(r,e){return r.useProto3Json||ef(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bx(r,e){return Lh(r,e.toTimestamp())}function ki(r){return Ke(!!r,49232),Se.fromTimestamp((function(n){const s=cs(n);return new at(s.seconds,s.nanos)})(r))}function Kp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function P1(r){const e=it.fromString(r);return Ke(B1(e),10190,{key:e.toString()}),e}function sp(r,e){return Kp(r.databaseId,e.path)}function Om(r,e){const n=P1(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(U1(n))}function L1(r,e){return Kp(r.databaseId,e)}function wx(r){const e=P1(r);return e.length===4?it.emptyPath():U1(e)}function ap(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function U1(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rE(r,e,n){return{name:sp(r,e),fields:n.value.mapValue.fields}}function Rx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),Zt.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Zt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(p){const _=p.code===void 0?W.UNKNOWN:O1(p.code);return new le(_,p.message||"")})(h);n=new V1(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=ki(s.document.updateTime),h=s.document.createTime?ki(s.document.createTime):Se.min(),g=new _n({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(o,u,h,g),p=s.targetIds||[],_=s.removedTargetIds||[];n=new Th(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?ki(s.readTime):Se.min(),h=sn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Th([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new px(o,u),g=s.targetId;n=new M1(g,h)}}return n}function Cx(r,e){let n;if(e instanceof bu)n={update:rE(r,e.key,e.value)};else if(e instanceof of)n={delete:sp(r,e.key)};else if(e instanceof ys)n={update:rE(r,e.key,e.data),updateMask:Px(e.fieldMask)};else{if(!(e instanceof fx))return Ee(16599,{dt:e.type});n={verify:sp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const g=h.transform;if(g instanceof fu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ph)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:bx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function Ix(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?ki(o.updateTime):ki(u);return h.isEqual(Se.min())&&(h=ki(u)),new ux(h,o.transformResults||[])})(n,e)))):[]}function Nx(r,e){return{documents:[L1(r,e.path)]}}function xx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=L1(r,o);const u=(function(p){if(p.length!==0)return j1(li.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((_=>(function(S){return{field:so(S.field),direction:Mx(S.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=ip(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function Dx(r){let e=wx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=z1(T);return S instanceof li&&p1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(k){return new hu(ao(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(S)))})(n.orderBy));let g=null;n.limit&&(g=(function(T){let S;return S=typeof T=="object"?T.value:T,ef(S)?null:S})(n.limit));let m=null;n.startAt&&(m=(function(T){const S=!!T.before,C=T.values||[];return new kh(C,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const S=!T.before,C=T.values||[];return new kh(C,S)})(n.endAt)),KN(e,o,h,u,g,"F",m,p)}function Ox(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ot.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>z1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function Mx(r){return Ex[r]}function Vx(r){return Tx[r]}function kx(r){return Sx[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Wt.fromServerFormat(r.fieldPath)}function j1(r){return r instanceof Ot?(function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:Vx(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>j1(o)));return s.length===1?s[0]:{compositeFilter:{op:kx(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function Px(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function q1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Se.min(),h=Se.min(),g=Zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.yt=e}}function Ux(r){const e=Dx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Sn=new jx}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(us.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class jx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(H1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new To(0)}static ar(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",Bx=1048576;function oE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class qx{constructor(e){this.Pr=e,this.buffer=new jt(oE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(aE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?he(aE,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class Fx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Zh.ce);const s=new qx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(sE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,g,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,g=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),io()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Gx(r,e){return new Fx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,In.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Kl();return u.forEach(((g,m)=>{h=h.insert(g,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let u=dr();const h=eu(),g=(function(){return eu()})();return n.forEach(((m,p)=>{const _=s.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ys)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),tu(_.mutation,p,_.mutation.getFieldMask(),at.now())):h.set(p.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((p,_)=>h.set(p,_))),n.forEach(((p,_)=>g.set(p,new Kx(_,h.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new ft(((h,g)=>h-g)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let _=s.get(m)||In.empty();_=g.applyToLocalView(p,_),s.set(m,_);const T=(o.get(g.batchId)||Le()).add(m);o=o.insert(g.batchId,T)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,_=m.value,T=b1();_.forEach((S=>{if(!u.has(S)){const C=x1(n.get(S),s.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return YN(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Js());let g=ou,m=u;return h.next((p=>ie.forEach(p,((_,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{m=m.insert(_,S)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,m,p,Le()))).next((_=>({batchId:g,changes:A1(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(e,u).next((g=>ie.forEach(g,(m=>{const p=(function(T,S){return new Vo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((_=>{_.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,sn.newInvalidDocument(_)))}));let g=Kl();return h.forEach(((m,p)=>{const _=u.get(m);_!==void 0&&tu(_.mutation,p,In.empty(),at.now()),rf(n,p)&&(g=g.insert(m,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Ux(o.bundledQuery),readTime:ki(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.overlays=new ft(ye.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,h=new ye(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((p,_)=>p-_));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let _=u.get(p.largestBatchId);_===null&&(_=Js(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Js(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=o)););return ie.resolve(g)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new mx(n,s));let u=this.Lr.get(n);u===void 0&&(u=Le(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.kr=new jt(Ft.Kr),this.qr=new jt(Ft.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ft(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ye(new it([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ye(new it([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=Le();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Ft(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ye.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new jt(Ft.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dx(u,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Jr=this.Jr.add(new Ft(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Up:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const g=this.Zr(h.Hr);u.push(g)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Pe);return n.forEach((o=>{const u=new Ft(o,0),h=new Ft(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(g=>{s=s.add(g.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new Ft(new ye(u),0);let g=new jt(Pe);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(m.Hr)),!0)}),h),ie.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.ti=e,this.docs=(function(){return new ft(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const h=n.path,g=new ye(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||bN(AN(_),s)<=0||(o.has(_.key)||rf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new eD(this)}getSize(e){return ie.resolve(this.size)}}class eD extends Qx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.persistence=e,this.ri=new ha((n=>Bp(n)),qp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Yp,this.targetCount=0,this.oi=To._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new To(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this._i={},this.overlays={},this.ai=new Zh(0),this.ui=!1,this.ui=!0,this.ci=new Jx,this.referenceDelegate=e(this),this.li=new tD(this),this.indexManager=new zx,this.remoteDocumentCache=(function(o){return new Zx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Lx(n),this.Pi=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new Wx(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new nD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class nD extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Ri=new Yp,this.Ai=null}static Vi(e){return new $p(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=ye.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.fi=new ha((s=>NN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Gx(this,n)}static Vi(e,n){return new Uh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((g=>{g||(s++,u.removeEntry(h,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_h(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xR()?8:CN(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new iD;return this.ys(e,n,h).next((g=>{if(u.result=g,this.As)return this.ws(e,n,h,g.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(io()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(io()<=ke.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(io()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ie.resolve())}gs(e,n){if($0(n))return ie.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.fs.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,g);return this.Ss(n,p,h,m.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,o){return $0(n)||o.isEqual(Se.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ie.resolve(null):(io()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.Ds(e,h,n,SN(o,ou)).next((g=>g)))}))}bs(e,n){let s=new jt(T1(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return io()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.fs.getDocumentsMatchingQuery(e,n,us.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",sD=3e8;class aD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Pe),this.Fs=new ha((u=>Bp(u)),qp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function oD(r,e,n,s){return new aD(r,e,n,s)}async function G1(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],g=[];let m=Le();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:g})))}))}))}function lD(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,p,_){const T=p.batch,S=T.keys();let C=ie.resolve();return S.forEach((k=>{C=C.next((()=>_.getEntry(m,k))).next((B=>{const U=p.docVersions.get(k);Ke(U!==null,48541),B.version.compareTo(U)<0&&(T.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))}))})),C.next((()=>g.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=Le();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(m=m.add(g.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Q1(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function uD(r,e){const n=be(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;g.push(n.li.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,T))));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(T,C),(function(B,U,ne){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=sD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(S,C,_)&&g.push(n.li.updateTargetData(u,C))}));let m=dr(),p=Le();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(cD(u,h,e.documentUpdates).next((_=>{m=_.Bs,p=_.Ls}))),!s.isEqual(Se.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return ie.waitFor(g).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,p))).next((()=>m))})).then((u=>(n.vs=o,u)))}function cD(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=dr();return n.forEach(((g,m)=>{const p=u.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):he(Jp,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)})),{Bs:h,Ls:o}}))}function hD(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function fD(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function op(r,e,n){const s=be(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;he(Jp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function lE(r,e,n){const s=be(r);let o=Se.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,p,_){const T=be(m),S=T.Fs.get(_);return S!==void 0?ie.resolve(T.vs.get(S)):T.li.getTargetData(p,_)})(s,h,Vi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,g.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Le()))).next((g=>(dD(s,JN(e),g),{documents:g,ks:u})))))}function dD(r,e,n){let s=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class uE{constructor(){this.activeTargetIds=ix()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mD{constructor(){this.vo=new uE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new uE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(cE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function lp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",gD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=lp(),g=this.Qo(e,n.toUriEncodedString());he(Mm,`Sending RPC '${e}' ${h}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:p}=new URL(g),_=Co(p);return this.zo(e,g,m,s,_).then((T=>(he(Mm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ra(Mm,`RPC '${e}' ${h} failed with error: `,T,"url: ",g,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=gD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection",Hl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class mo extends yD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=JT();Hl(e,XT.STAT_EVENT,(n=>{n.stat===$m.PROXY?he(tn,"STAT_EVENT: detected buffering proxy"):n.stat===$m.NOPROXY&&he(tn,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(e,n,s,o,u){const h=lp();return new Promise(((g,m)=>{const p=new YT;p.setWithCredentials(!0),p.listenOnce($T.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const T=p.getResponseJson();he(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),g(T);break;case yh.TIMEOUT:he(tn,`RPC '${e}' ${h} timed out`),m(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const S=p.getStatus();if(he(tn,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const k=C==null?void 0:C.error;if(k&&k.status&&k.message){const B=(function(ne){const ee=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ee)>=0?ee:W.UNKNOWN})(k.status);m(new le(B,k.message))}else m(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(tn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);he(tn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=lp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const p=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${p}`,g);const _=h.createWebChannel(p,g);this.I_(_);let T=!1,S=!1;const C=new _D({Ho:k=>{S?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),he(tn,`RPC '${e}' stream ${o} sending:`,k),_.send(k))},Jo:()=>_.close()});return Hl(_,Ql.EventType.OPEN,(()=>{S||(he(tn,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),Hl(_,Ql.EventType.CLOSE,(()=>{S||(S=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(_))})),Hl(_,Ql.EventType.ERROR,(k=>{S||(S=!0,ra(tn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),C.o_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Hl(_,Ql.EventType.MESSAGE,(k=>{var B;if(!S){const U=k.data[0];Ke(!!U,16349);const ne=U,ee=(ne==null?void 0:ne.error)||((B=ne[0])==null?void 0:B.error);if(ee){he(tn,`RPC '${e}' stream ${o} received error:`,ee);const V=ee.status;let re=(function(I){const R=xt[I];if(R!==void 0)return O1(R)})(V),ue=ee.message;V==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&ra(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=W.INTERNAL,ue="Unknown error status: "+V+" with message "+ee.message),S=!0,C.o_(new le(re,ue)),_.close()}else he(tn,`RPC '${e}' stream ${o} received:`,U),C.__(U)}})),mo.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(r){return new mo(r)}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r){return new Ax(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.c_=!1;class K1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class Y1{constructor(e,n,s,o,u,h,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ED extends Y1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Rx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?ki(h.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,h){let g;const m=h.target;if(g=ep(m)?{documents:Nx(u,m)}:{query:xx(u,m).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=k1(u,h.resumeToken);const p=ip(u,h.expectedCount);p!==null&&(g.expectedCount=p)}else if(h.snapshotVersion.compareTo(Se.min())>0){g.readTime=Lh(u,h.snapshotVersion.toTimestamp());const p=ip(u,h.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=Ox(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.K_(n)}}class TD extends Y1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ix(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Cx(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{}class AD extends SD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,rp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.jo(e,rp(n,s),o,h,g,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function bD(r,e,n,s){return new AD(r,e,n,s)}class wD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class RD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{fa(this)&&(he(sa,"Restarting streams for network reachability change."),await(async function(m){const p=be(m);p.Ea.add(4),await Ru(p),p.Va.set("Unknown"),p.Ea.delete(4),await cf(p)})(this))}))})),this.Va=new wD(s,o)}}async function cf(r){if(fa(r))for(const e of r.Ra)await e(!0)}async function Ru(r){for(const e of r.Ra)await e(!1)}function $1(r,e){const n=be(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):ko(n).O_()&&Zp(n,e))}function Wp(r,e){const n=be(r),s=ko(n);n.Ia.delete(e),s.O_()&&X1(n,e),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Va.set("Unknown"))}function Zp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Z_(e)}function X1(r,e){r.da.$e(e),ko(r).X_(e)}function eg(r){r.da=new vx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Va.ua()}function tg(r){return fa(r)&&!ko(r).x_()&&r.Ia.size>0}function fa(r){return be(r).Ea.size===0}function J1(r){r.da=void 0}async function CD(r){r.Va.set("Online")}async function ID(r){r.Ia.forEach(((e,n)=>{Zp(r,e)}))}async function ND(r,e){J1(r),tg(r)?(r.Va.ha(e),eg(r)):r.Va.set("Unknown")}async function xD(r,e,n){if(r.Va.set("Online"),e instanceof V1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){he(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof Th?r.da.Xe(e):e instanceof M1?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const s=await Q1(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const g=u.da.Tt(h);return g.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(m.resumeToken,h))}})),g.targetMismatches.forEach(((m,p)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(Zt.EMPTY_BYTE_STRING,_.snapshotVersion)),X1(u,m);const T=new ts(_.target,m,p,_.sequenceNumber);Zp(u,T)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){he(sa,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!Mo(e))throw e;r.Ea.add(1),await Ru(r),r.Va.set("Offline"),n||(n=()=>Q1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)}))}function W1(r,e){return e().catch((n=>zh(r,n,e)))}async function hf(r){const e=be(r),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;DD(e);)try{const o=await hD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,OD(e,o)}catch(o){await zh(e,o)}Z1(e)&&eS(e)}function DD(r){return fa(r)&&r.Ta.length<10}function OD(r,e){r.Ta.push(e);const n=ds(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function Z1(r){return fa(r)&&!ds(r).x_()&&r.Ta.length>0}function eS(r){ds(r).start()}async function MD(r){ds(r).ra()}async function VD(r){const e=ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function kD(r,e,n){const s=r.Ta.shift(),o=Gp.from(s,e,n);await W1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function PD(r,e){e&&ds(r).Y_&&await(async function(s,o){if((function(h){return gx(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await W1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,e),Z1(r)&&eS(r)}async function dE(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),he(sa,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await Ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function LD(r,e){const n=be(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await Ru(n),n.Va.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,s,o){const u=be(n);return u.sa(),new ED(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:CD.bind(null,r),Yo:ID.bind(null,r),t_:ND.bind(null,r),J_:xD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Va.set("Unknown")):(await r.ma.stop(),J1(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=be(n);return u.sa(),new TD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MD.bind(null,r),t_:PD.bind(null,r),ta:VD.bind(null,r),na:kD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await hf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,g=new ng(e,n,h,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Mo(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.ga=new ft(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,h,g,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new So(e,n,po.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class zD{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=pE(),u.forEach(((h,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function pE(){return new ha((r=>E1(r)),nf)}async function tS(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new UD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=ig(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function nS(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jD(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.ba)g.Fa(o)&&(s=!0);h.wa=o}}s&&rg(n)}function BD(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function rg(r){r.Ca.forEach((e=>{e.next()}))}var up,gE;(gE=up||(up={})).Ma="default",gE.Cache="cache";class iS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.key=e}}class sS{constructor(e){this.key=e}}class qD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=T1(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new mE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),C=rf(this.query,T)?T:null,k=!!S&&this.mutatedKeys.has(S.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let U=!1;S&&C?S.data.isEqual(C.data)?k!==B&&(s.track({type:3,doc:C}),U=!0):this.su(S,C)||(s.track({type:2,doc:C}),U=!0,(m&&this.eu(C,m)>0||p&&this.eu(C,p)<0)&&(g=!0)):!S&&C?(s.track({type:0,doc:C}),U=!0):S&&!C&&(s.track({type:1,doc:S}),U=!0,(m||p)&&(g=!0)),U&&(C?(h=h.add(C),u=B?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(C,k){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:U})}};return B(C)-B(k)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,p=m!==this.Xa;return this.Xa=m,h.length!==0||p?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new sS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new rS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class HD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FD{constructor(e){this.key=e,this.hu=!1}}class GD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha((g=>E1(g)),nf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ye.comparator),this.Au=new Map,this.Vu=new Yp,this.du={},this.mu=new Map,this.fu=To.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QD(r,e,n=!0){const s=hS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await aS(s,e,n,!0),o}async function KD(r,e){const n=hS(r);await aS(n,e,!0,!1)}async function aS(r,e,n,s){const o=await fD(r.localStore,Vi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await YD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&$1(r.remoteStore,o),g}async function YD(r,e,n,s,o){r.pu=(T,S,C)=>(async function(B,U,ne,ee){let V=U.view.ru(ne);V.Ss&&(V=await lE(B.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,V))));const re=ee&&ee.targetChanges.get(U.targetId),ue=ee&&ee.targetMismatches.get(U.targetId)!=null,de=U.view.applyChanges(V,B.isPrimaryClient,re,ue);return _E(B,U.targetId,de.au),de.snapshot})(r,T,S,C);const u=await lE(r.localStore,e,!0),h=new qD(e,u.ks),g=h.ru(u.documents),m=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(g,r.isPrimaryClient,m);_E(r,n,p.au);const _=new HD(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function $D(r,e,n){const s=be(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!nf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(Oo)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function XD(r,e){const n=be(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function JD(r,e,n){const s=r4(r);try{const o=await(function(h,g){const m=be(h),p=at.now(),_=g.reduce(((C,k)=>C.add(k.key)),Le());let T,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let k=dr(),B=Le();return m.xs.getEntries(C,_).next((U=>{k=U,k.forEach(((ne,ee)=>{ee.isValidDocument()||(B=B.add(ne))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,k))).next((U=>{T=U;const ne=[];for(const ee of g){const V=hx(ee,T.get(ee.key).overlayedDocument);V!=null&&ne.push(new ys(ee.key,V,f1(V.value.mapValue),Nn.exists(!0)))}return m.mutationQueue.addMutationBatch(C,p,ne,g)})).next((U=>{S=U;const ne=U.applyToLocalDocumentSet(T,B);return m.documentOverlayCache.saveOverlays(C,U.batchId,ne)}))})).then((()=>({batchId:S.batchId,changes:A1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,m){let p=h.du[h.currentUser.toKey()];p||(p=new ft(Pe)),p=p.insert(g,m),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Cu(s,o.changes),await hf(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function oS(r,e){const n=be(r);try{const s=await uD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ke(h.hu,14607):o.removedDocuments.size>0&&(Ke(h.hu,42227),h.hu=!1))})),await Cu(n,s,e)}catch(s){await Oo(s)}}function yE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const m=be(h);m.onlineState=g;let p=!1;m.queries.forEach(((_,T)=>{for(const S of T.ba)S.va(g)&&(p=!0)})),p&&rg(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WD(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(ye.comparator);h=h.insert(u,sn.newNoDocument(u,Se.min()));const g=Le().add(u),m=new lf(Se.min(),new Map,new ft(Pe),h,g);await oS(s,m),s.Ru=s.Ru.remove(u),s.Au.delete(e),ag(s)}else await op(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(Oo)}async function ZD(r,e){const n=be(r),s=e.batch.batchId;try{const o=await lD(n.localStore,e);uS(n,s,null),lS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Oo(o)}}async function e4(r,e,n){const s=be(r);try{const o=await(function(h,g){const m=be(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,g).next((T=>(Ke(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(s.localStore,e);uS(s,e,n),lS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await Oo(o)}}function lS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function uS(r,e,n){const s=be(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||cS(r,s)}))}function cS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Wp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),ag(r))}function _E(r,e,n){for(const s of n)s instanceof rS?(r.Vu.addReference(s.key,e),t4(r,s)):s instanceof sS?(he(sg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||cS(r,s.key)):Ee(19791,{wu:s})}function t4(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(sg,"New document in limbo: "+n),r.Eu.add(s),ag(r))}function ag(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(it.fromString(e)),s=r.fu.next();r.Au.set(s,new FD(n)),r.Ru=r.Ru.insert(n,s),$1(r.remoteStore,new ts(Vi(Hp(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Cu(r,e,n){const s=be(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{h.push(s.pu(m,e,n).then((p=>{var _;if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Xp.Es(m.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(m,p){const _=be(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(S=>ie.forEach(S.Ts,(C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>ie.forEach(S.Is,(C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!Mo(T))throw T;he(Jp,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const C=_.vs.get(S),k=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(k);_.vs=_.vs.insert(S,B)}}})(s.localStore,u))}async function n4(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){he(sg,"User change. New user:",e.toKey());const s=await G1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((g=>{g.forEach((m=>{m.reject(new le(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ns)}}function i4(r,e){const n=be(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function hS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WD.bind(null,e),e.Pu.J_=jD.bind(null,e.eventManager),e.Pu.yu=BD.bind(null,e.eventManager),e}function r4(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e4.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oD(this.persistence,new rD,e.initialUser,this.serializer)}Cu(e){return new F1($p.Vi,this.serializer)}Du(e){return new mD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class s4 extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Hx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new F1((s=>Uh.Vi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await LD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zD})()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),s=vD(e.databaseInfo);return bD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,g){return new RD(s,o,u,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>yE(this.syncEngine,n,0)),(function(){return hE.v()?new hE:new pD})())}createSyncEngine(e,n){return(function(o,u,h,g,m,p,_){const T=new GD(o,u,h,g,m,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=be(o);he(sa,"RemoteStore shutting down."),u.Ea.add(5),await Ru(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class a4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function km(r,e){r.asyncQueue.verifyOperationInProgress(),he(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await G1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function vE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await o4(r);he(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>dE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>dE(e.remoteStore,o))),r._onlineComponents=e}async function o4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ms,"Using user provided OfflineComponentProvider");try{await km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await km(r,new jh)}}else he(ms,"Using default OfflineComponentProvider"),await km(r,new s4(void 0));return r._offlineComponents}async function dS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ms,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(he(ms,"Using default OnlineComponentProvider"),await vE(r,new hp))),r._onlineComponents}function l4(r){return dS(r).then((e=>e.syncEngine))}async function fp(r){const e=await dS(r),n=e.eventManager;return n.onListen=QD.bind(null,e.syncEngine),n.onUnlisten=$D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XD.bind(null,e.syncEngine),n}function u4(r,e,n,s){const o=new fS(s),u=new iS(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>tS(await fp(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>nS(await fp(r),u)))}}function c4(r,e,n={}){const s=new os;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,p){const _=new fS({next:S=>{_.Nu(),h.enqueueAndForget((()=>nS(u,T))),S.fromCache&&m.source==="server"?p.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new iS(g,_,{includeMetadataChanges:!0,Ka:!0});return tS(u,T)})(await fp(r),r.asyncQueue,e,n,s))),s.promise}function h4(r,e){const n=new os;return r.asyncQueue.enqueueAndForget((async()=>JD(await l4(r),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="ComponentProvider",EE=new Map;function d4(r,e,n,s,o){return new ON(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firestore.googleapis.com",TE=!0;class SE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=TE}else this.host=e.host,this.ssl=e.ssl??TE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bx)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hN;switch(s.type){case"firstParty":return new pN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=EE.get(n);s&&(he(f4,"Removing Datastore"),EE.delete(n),s.terminate())})(this),Promise.resolve()}}function m4(r,e,n,s={}){var p;r=or(r,ff);const o=Co(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(aT(`https://${g}`),oT("Firestore",!0)),u.host!==pS&&u.host!==g&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:g,ssl:o,emulatorOptions:s};if(!ea(m,h)&&(r._setSettings(m),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=rn.MOCK_USER;else{_=TR(s.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(S)}r._authCredentials=new fN(new e1(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,zt._jsonSchema))return new zt(e,s||null,new ye(it.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Mt("string",zt._jsonSchemaVersion),referencePath:Mt("string")};class ls extends _s{constructor(e,n,s){super(e,n,Hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ye(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function lr(r,e,...n){if(r=Vt(r),t1("collection","path",e),r instanceof ff){const s=it.fromString(e,...n);return k0(s),new ls(r,null,s)}{if(!(r instanceof zt||r instanceof ls))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return k0(s),new ls(r.firestore,null,s)}}function oo(r,e,...n){if(r=Vt(r),arguments.length===1&&(e=Lp.newId()),t1("doc","path",e),r instanceof ff){const s=it.fromString(e,...n);return V0(s),new zt(r,null,new ye(s))}{if(!(r instanceof zt||r instanceof ls))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return V0(s),new zt(r.firestore,r instanceof ls?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K1(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&he(AE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;he(AE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",wE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class aa extends ff{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function p4(r,e){const n=typeof r=="object"?r:hT(),s=typeof r=="string"?r:Mh,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vR("firestore");u&&m4(o,...u)}return o}function df(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||g4(r),r._firestoreClient}function g4(r){var s,o,u,h;const e=r._freezeSettings(),n=d4(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new a4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Zt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Mt("string",Fn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Mt("string",Pi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Mt("string",ai._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=/^__.*__$/;class _4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new bu(e,this.data,n,this.fieldTransforms)}}class gS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:r})}}class lg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yS(this.dataSource)&&y4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class v4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uf(e)}createContext(e,n,s,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(r){const e=r._freezeSettings(),n=uf(r._databaseId);return new v4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _S(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",h,s);const g=vS(s,h);let m,p;if(u.merge)m=new In(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=oa(e,T,n);if(!h.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);SS(_,S)||_.push(S)}m=new In(_),p=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=h.fieldTransforms;return new _4(new _n(g),m,p)}class pf extends mf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pf}}class cg extends mf{_toFieldTransform(e){return new ox(e.path,new fu)}isEqual(e){return e instanceof cg}}function E4(r,e,n,s){const o=r.createContext(1,e,n);hg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();gs(s,((m,p)=>{const _=TS(e,m,n);p=Vt(p);const T=o.childContextForFieldPath(_);if(p instanceof pf)u.push(_);else{const S=Iu(p,T);S!=null&&(u.push(_),h.set(_,S))}}));const g=new In(u);return new gS(h,g,o.fieldTransforms)}function T4(r,e,n,s,o,u){const h=r.createContext(1,e,n),g=[oa(e,s,n)],m=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)g.push(oa(e,u[S])),m.push(u[S+1]);const p=[],_=_n.empty();for(let S=g.length-1;S>=0;--S)if(!SS(p,g[S])){const C=g[S];let k=m[S];k=Vt(k);const B=h.childContextForFieldPath(C);if(k instanceof pf)p.push(C);else{const U=Iu(k,B);U!=null&&(p.push(C),_.set(C,U))}}const T=new In(p);return new gS(_,T,h.fieldTransforms)}function S4(r,e,n,s=!1){return Iu(n,r.createContext(s?4:3,e))}function Iu(r,e){if(ES(r=Vt(r)))return hg("Unsupported field value:",e,r),vS(r,e);if(r instanceof mf)return(function(s,o){if(!yS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const g of s){let m=Iu(g,o.childContextForArray(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:k1(o.serializer,s._byteString)};if(s instanceof zt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(h,g){const m=h instanceof ai?h.toArray():h;return{mapValue:{fields:{[c1]:{stringValue:h1},[Vh]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return Fp(g.serializer,_)}))}}}}}})(s,o);if(q1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wh(s)}`)})(r,e)}function vS(r,e){const n={};return r1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=Iu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function ES(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Pi||r instanceof Fn||r instanceof zt||r instanceof mf||r instanceof ai||q1(r))}function hg(r,e,n){if(!ES(n)||!n1(n)){const s=Wh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function oa(r,e,n){if((e=Vt(e))instanceof og)return e._internalPath;if(typeof e=="string")return TS(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const A4=new RegExp("[~\\*/\\[\\]]");function TS(r,e,n){if(e.search(A4)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new og(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Bh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new le(W.INVALID_ARGUMENT,g+r+m)}function SS(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Vh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>Et(h.doubleValue)));return new ai(n)}convertGeoPoint(e){return new Pi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(B1(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function AS(){return new cg("serverTimestamp")}const RE="@firebase/firestore",CE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(oa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w4 extends bS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class RS extends dg{}function la(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof mg)).length,g=u.filter((m=>m instanceof gf)).length;if(h>1||h>0&&g>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class gf extends RS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return CS(e._query,n),new _s(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=ug(e.firestore);return(function(u,h,g,m,p,_,T){let S;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){xE(T,_);const k=[];for(const B of T)k.push(NE(m,u,B));S={arrayValue:{values:k}}}else S=NE(m,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||xE(T,_),S=S4(g,h,T,_==="in"||_==="not-in");return Ot.create(p,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ao(r,e,n){const s=e,o=oa("where",r);return gf._create(o,s,n)}class mg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)CS(h,m),h=tp(h,m)})(e._query,n),new _s(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends RS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,h)})(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,XN(e._query,n))}}function qh(r,e="asc"){const n=e,s=oa("orderBy",r);return pg._create(s,n)}function NE(r,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v1(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ye.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H0(r,new ye(s))}if(n instanceof zt)return H0(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function xE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(r,e){const n=(function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function IS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends bS{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(oa("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Mt("string",Ws._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Sh extends Ws{data(e={}){return super.data(e)}}class Zs{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const m=new Sh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const m=new Sh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return g.type!==0&&(p=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),_=h.indexOf(g.doc.key)),{type:R4(g.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:Mt("string",Zs._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ug(e)}set(e,n,s){this._verifyNotCommitted();const o=Pm(e,this._firestore),u=IS(o.converter,n,s),h=_S(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,Nn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Pm(e,this._firestore);let h;return h=typeof(n=Vt(n))=="string"||n instanceof og?T4(this._dataReader,"WriteBatch.update",u._key,n,s,o):E4(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pm(e,this._firestore);return this._mutations=this._mutations.concat(new of(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pm(r,e){if((r=Vt(r)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Hh(r){r=or(r,_s);const e=or(r.firestore,aa),n=df(e),s=new fg(e);return wS(r._query),c4(n,r._query).then((o=>new Zs(e,s,r,o)))}function I4(r){return gg(or(r.firestore,aa),[new of(r._key,Nn.none())])}function NS(r,e){const n=or(r.firestore,aa),s=oo(r),o=IS(r.converter,e),u=ug(r.firestore);return gg(n,[_S(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Nn.exists(!1))]).then((()=>s))}function dp(r,...e){var p,_,T;r=Vt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||IE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IE(e[s])){const S=e[s];e[s]=(p=S.next)==null?void 0:p.bind(S),e[s+1]=(_=S.error)==null?void 0:_.bind(S),e[s+2]=(T=S.complete)==null?void 0:T.bind(S)}let u,h,g;if(r instanceof zt)h=or(r.firestore,aa),g=Hp(r._key.path),u={next:S=>{e[s]&&e[s](N4(h,r,S))},error:e[s+1],complete:e[s+2]};else{const S=or(r,_s);h=or(S.firestore,aa),g=S._query;const C=new fg(h);u={next:k=>{e[s]&&e[s](new Zs(h,C,S,k))},error:e[s+1],complete:e[s+2]},wS(r._query)}const m=df(h);return u4(m,g,o,u)}function gg(r,e){const n=df(r);return h4(n,e)}function N4(r,e,n){const s=n.docs.get(e._key),o=new fg(r);return new Ws(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function DE(r){return r=or(r,aa),df(r),new C4(r,(e=>gg(r,e)))}(function(e,n=!0){cN(Io),go(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),g=new aa(new dN(s.getProvider("auth-internal")),new gN(h,s.getProvider("app-check-internal")),MN(h,o),h);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),rs(RE,CE,e),rs(RE,CE,"esm2020")})();const x4={apiKey:"AIzaSyAlTFWgVxCbbXvByqHGJCHPhVWGoL4cirA",authDomain:"karaokebes-a4b12.firebaseapp.com",projectId:"karaokebes-a4b12",storageBucket:"karaokebes-a4b12.firebasestorage.app",messagingSenderId:"939577720572",appId:"1:939577720572:web:24bd3bb605a2c8ed966179"},xS=cT(x4),yg=aN(xS),nn=p4(xS);var ht=(r=>(r.IN_ATTESA="IN_ATTESA",r.PROSSIMO="PROSSIMO",r.SUL_PALCO="SUL_PALCO",r))(ht||{});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=r=>{const e=O4(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=G.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...g},m)=>G.createElement("svg",{ref:m,...M4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:DS("lucide",o),...!u&&!V4(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,_])=>G.createElement(p,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(r,e)=>{const n=G.forwardRef(({className:s,...o},u)=>G.createElement(k4,{ref:u,iconNode:e,className:DS(`lucide-${D4(OE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=OE(r),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L4=kt("arrow-right",P4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ME=kt("calendar",U4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],j4=kt("chevron-left",z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q4=kt("circle-check-big",B4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F4=kt("circle-check",H4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VE=kt("list",G4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K4=kt("lock",Q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],$4=kt("log-in",Y4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J4=kt("log-out",X4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Z4=kt("mail",W4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],tO=kt("mic",eO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],OS=kt("music",nO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rO=kt("play",iO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aO=kt("plus",sO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lO=kt("settings",oO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],MS=kt("timer",uO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hO=kt("trash-2",cO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dO=kt("user",fO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pO=kt("users",mO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yO=kt("x",gO),_O=()=>{const[r,e]=G.useState([]),[n,s]=G.useState(null),[o,u]=G.useState([]),[h,g]=G.useState(!1),[m,p]=G.useState({name:"",songMinutes:4.5}),[_,T]=G.useState(new Set);G.useEffect(()=>{const V=la(lr(nn,"events"),qh("createdAt","desc"));return dp(V,ue=>{const de=ue.docs.map(I=>({id:I.id,...I.data()}));e(de),de.length>0&&!n&&s(de[0].id)})},[n]),G.useEffect(()=>{if(!n)return;const V=la(lr(nn,`events/${n}/requests`),qh("createdAt","asc"));return dp(V,ue=>{u(ue.docs.map(de=>({id:de.id,...de.data()})))})},[n]);const S=async V=>{V.preventDefault();try{const re=Math.random().toString(36).substring(2,8).toUpperCase();console.log("Creating event...",{...m,eventCode:re});const ue=await NS(lr(nn,"events"),{...m,eventCode:re,isActive:!0,createdAt:AS()});console.log("Event created with id:",ue.id),g(!1),p({name:"",songMinutes:4.5}),s(ue.id)}catch(re){console.error("ERROR creating event:",re),alert(`Errore creazione serata: ${(re==null?void 0:re.message)||re}`)}},C=async(V,re)=>{if(!n)return;const ue=DE(nn);if(re===ht.SUL_PALCO){const de=o.find(I=>I.status===ht.SUL_PALCO);de&&de.id!==V&&ue.update(oo(nn,`events/${n}/requests`,de.id),{status:ht.IN_ATTESA})}if(re===ht.PROSSIMO){const de=o.find(I=>I.status===ht.PROSSIMO);de&&de.id!==V&&ue.update(oo(nn,`events/${n}/requests`,de.id),{status:ht.IN_ATTESA})}ue.update(oo(nn,`events/${n}/requests`,V),{status:re}),await ue.commit()},k=async V=>{n&&confirm("Sei sicuro di voler eliminare questa richiesta?")&&await I4(oo(nn,`events/${n}/requests`,V))},B=async()=>{if(!(!n||_.size===0)&&confirm(`Vuoi eliminare ${_.size} richieste selezionate?`)){const V=DE(nn);_.forEach(re=>{V.delete(oo(nn,`events/${n}/requests`,re))}),await V.commit(),T(new Set)}},U=V=>{const re=new Set(_);re.has(V)?re.delete(V):re.add(V),T(re)},ne=()=>$C(yg),ee=r.find(V=>V.id===n);return w.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-4xl font-black italic text-neon-pink uppercase",children:"Pannello Regia"}),w.jsx("p",{className:"text-gray-500 text-sm mt-1 uppercase tracking-widest font-bold",children:"Gestione Serata & Cantanti"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:()=>g(!0),className:"flex-1 sm:flex-none bg-pink-600 hover:bg-pink-500 text-white font-bold px-6 py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-pink-900/20 transition-all active:scale-95",children:[w.jsx(aO,{className:"w-5 h-5"})," Nuova Serata"]}),w.jsx("button",{onClick:ne,className:"p-3 border border-gray-800 rounded-xl text-gray-400 hover:text-white hover:bg-gray-900 transition-colors",children:w.jsx(J4,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[w.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-bold uppercase text-xs mb-2",children:[w.jsx(ME,{className:"w-3 h-3"})," Storico Serate"]}),w.jsx("div",{className:"space-y-2 overflow-y-auto max-h-[60vh] pr-2",children:r.map(V=>{var re;return w.jsxs("button",{onClick:()=>s(V.id),className:`w-full text-left p-4 rounded-2xl border transition-all ${n===V.id?"bg-neon-gradient border-pink-500/50 neon-border-pink shadow-xl":"bg-zinc-900/50 border-gray-800 hover:border-gray-700"}`,children:[w.jsx("div",{className:"font-bold truncate",children:V.name}),w.jsxs("div",{className:"flex items-center justify-between mt-2",children:[w.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-tighter",children:(re=V.createdAt)==null?void 0:re.toDate().toLocaleDateString()}),w.jsxs("span",{className:"px-2 py-0.5 bg-gray-800 rounded text-[10px] text-pink-400 font-mono",children:["#",V.eventCode]})]})]},V.id)})})]}),w.jsx("div",{className:"lg:col-span-3",children:ee?w.jsxs("div",{className:"bg-zinc-900/30 border border-gray-800 rounded-3xl overflow-hidden backdrop-blur-sm",children:[w.jsxs("div",{className:"p-6 border-b border-gray-800 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-pink-500/10 rounded-2xl",children:w.jsx(pO,{className:"text-pink-500 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold",children:ee.name}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 uppercase font-mono",children:["CODE: ",w.jsx("span",{className:"text-pink-400 font-bold",children:ee.eventCode})]})]})]}),_.size>0&&w.jsxs("button",{onClick:B,className:"flex items-center gap-2 bg-red-600/20 hover:bg-red-600 text-red-500 hover:text-white px-4 py-2 rounded-xl transition-all border border-red-500/30",children:[w.jsx(hO,{className:"w-4 h-4"})," Elimina (",_.size,")"]})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"text-[10px] uppercase tracking-widest text-gray-500 border-b border-gray-800",children:[w.jsx("th",{className:"p-4 w-12 text-center",children:w.jsx("input",{type:"checkbox",onChange:V=>{V.target.checked?T(new Set(o.map(re=>re.id))):T(new Set)},className:"w-4 h-4 rounded border-gray-700 bg-black accent-pink-500"})}),w.jsx("th",{className:"p-4",children:"Cantante"}),w.jsx("th",{className:"p-4",children:"Canzone"}),w.jsx("th",{className:"p-4",children:"Stato"}),w.jsx("th",{className:"p-4 text-right",children:"Azioni"})]})}),w.jsxs("tbody",{className:"divide-y divide-gray-800/50",children:[o.map((V,re)=>w.jsxs("tr",{className:re%2===0?"row-odd":"row-even",children:[w.jsx("td",{className:"p-4 text-center",children:w.jsx("input",{type:"checkbox",checked:_.has(V.id),onChange:()=>U(V.id),className:"w-4 h-4 rounded border-gray-700 bg-black accent-pink-500"})}),w.jsxs("td",{className:"p-4",children:[w.jsx("div",{className:"font-bold text-gray-100",children:V.nickname}),w.jsxs("div",{className:"text-[10px] text-pink-400 font-mono",children:["Tonalit: ",V.keyShift>0?`+${V.keyShift}`:V.keyShift]})]}),w.jsx("td",{className:"p-4 text-gray-300 font-medium",children:V.songTitle}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tighter ${V.status===ht.SUL_PALCO?"bg-green-500/20 text-green-400 border border-green-500/50":V.status===ht.PROSSIMO?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-gray-800 text-gray-400"}`,children:V.status.replace("_"," ")})}),w.jsx("td",{className:"p-4 text-right",children:w.jsxs("div",{className:"flex items-center justify-end gap-1",children:[V.status===ht.IN_ATTESA&&w.jsx("button",{onClick:()=>C(V.id,ht.PROSSIMO),className:"p-2 hover:bg-cyan-500/10 text-cyan-400 rounded-lg transition-colors",title:"Metti come PROSSIMO",children:w.jsx(L4,{className:"w-4 h-4"})}),V.status===ht.PROSSIMO&&w.jsx("button",{onClick:()=>C(V.id,ht.SUL_PALCO),className:"p-2 hover:bg-green-500/10 text-green-400 rounded-lg transition-colors",title:"Porta sul PALCO",children:w.jsx(rO,{className:"w-4 h-4"})}),V.status===ht.SUL_PALCO&&w.jsx("button",{onClick:()=>C(V.id,ht.IN_ATTESA),className:"p-2 hover:bg-yellow-500/10 text-yellow-400 rounded-lg transition-colors",title:"Torna in ATTESA",children:w.jsx(lO,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>k(V.id),className:"p-2 hover:bg-red-500/10 text-red-500 rounded-lg transition-colors ml-2",title:"Elimina",children:w.jsx(yO,{className:"w-4 h-4"})})]})})]},V.id)),o.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-600 font-bold uppercase tracking-[0.2em] italic",children:"Nessuna richiesta ancora"})})]})]})})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-800 rounded-3xl",children:[w.jsx(ME,{className:"w-12 h-12 text-gray-700 mb-4"}),w.jsx("p",{className:"text-gray-600 uppercase font-black italic tracking-wider",children:"Seleziona o crea una serata"})]})})]}),h&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:w.jsxs("div",{className:"w-full max-w-md bg-zinc-900 rounded-3xl p-8 border border-pink-500/50 shadow-2xl shadow-pink-500/10 animate-in fade-in zoom-in duration-300",children:[w.jsx("h3",{className:"text-2xl font-black italic uppercase text-pink-500 mb-6 tracking-tight",children:"Crea Nuova Serata"}),w.jsxs("form",{onSubmit:S,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Nome Serata"}),w.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Es: Karaoke Night al Bar",value:m.name,onChange:V=>p({...m,name:V.target.value}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-pink-500 outline-none transition-colors"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Minuti per canzone"}),w.jsx("input",{required:!0,type:"number",step:"0.1",value:m.songMinutes,onChange:V=>p({...m,songMinutes:parseFloat(V.target.value)}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-pink-500 outline-none transition-colors"})]}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-4 py-3 text-gray-400 font-bold uppercase text-sm",children:"Annulla"}),w.jsx("button",{type:"submit",className:"flex-1 bg-pink-600 hover:bg-pink-500 text-white font-bold py-3 rounded-xl uppercase tracking-widest",children:"Conferma"})]})]})]})})]})},vO=()=>{const[r,e]=G.useState(""),[n,s]=G.useState(""),[o,u]=G.useState(""),[h,g]=G.useState(!1),m=gu(),p=async _=>{_.preventDefault(),g(!0),u("");try{await GC(yg,r,n),m("/admin")}catch{u("Credenziali non valide. Riprova.")}finally{g(!1)}};return w.jsx("div",{className:"flex items-center justify-center p-6 mt-12",children:w.jsxs("div",{className:"w-full max-w-md bg-neon-gradient p-8 rounded-3xl border border-gray-800 neon-border-blue",children:[w.jsx("h2",{className:"text-3xl font-black text-center mb-8 uppercase italic tracking-tight neon-text-blue",children:"Admin Portal"}),w.jsxs("form",{onSubmit:p,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2 tracking-widest",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(Z4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),w.jsx("input",{type:"email",value:r,onChange:_=>e(_.target.value),className:"w-full bg-black border border-gray-700 rounded-xl py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"admin@karaokebes.it",required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2 tracking-widest",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(K4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),w.jsx("input",{type:"password",value:n,onChange:_=>s(_.target.value),className:"w-full bg-black border border-gray-700 rounded-xl py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"",required:!0})]})]}),o&&w.jsx("div",{className:"text-red-500 text-sm font-bold text-center",children:o}),w.jsx("button",{type:"submit",disabled:h,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-widest py-4 rounded-xl transition-all flex items-center justify-center gap-2 group",children:h?"Entrata...":w.jsxs(w.Fragment,{children:["Accedi ",w.jsx($4,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})};var EO=Object.defineProperty,Fh=Object.getOwnPropertySymbols,VS=Object.prototype.hasOwnProperty,kS=Object.prototype.propertyIsEnumerable,kE=(r,e,n)=>e in r?EO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,mp=(r,e)=>{for(var n in e||(e={}))VS.call(e,n)&&kE(r,n,e[n]);if(Fh)for(var n of Fh(e))kS.call(e,n)&&kE(r,n,e[n]);return r},pp=(r,e)=>{var n={};for(var s in r)VS.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&Fh)for(var s of Fh(r))e.indexOf(s)<0&&kS.call(r,s)&&(n[s]=r[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ua;(r=>{const e=class De{constructor(m,p,_,T){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<De.MIN_VERSION||m>De.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let S=[];for(let k=0;k<this.size;k++)S.push(!1);for(let k=0;k<this.size;k++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(_);if(this.drawCodewords(C),T==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const U=this.getPenaltyScore();U<k&&(T=B,k=U),this.applyMask(B)}}o(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(m,p){const _=r.QrSegment.makeSegments(m);return De.encodeSegments(_,p)}static encodeBinary(m,p){const _=r.QrSegment.makeBytes(m);return De.encodeSegments([_],p)}static encodeSegments(m,p,_=1,T=40,S=-1,C=!0){if(!(De.MIN_VERSION<=_&&_<=T&&T<=De.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let k,B;for(k=_;;k++){const V=De.getNumDataCodewords(k,p)*8,re=h.getTotalBits(m,k);if(re<=V){B=re;break}if(k>=T)throw new RangeError("Data too long")}for(const V of[De.Ecc.MEDIUM,De.Ecc.QUARTILE,De.Ecc.HIGH])C&&B<=De.getNumDataCodewords(k,V)*8&&(p=V);let U=[];for(const V of m){n(V.mode.modeBits,4,U),n(V.numChars,V.mode.numCharCountBits(k),U);for(const re of V.getData())U.push(re)}o(U.length==B);const ne=De.getNumDataCodewords(k,p)*8;o(U.length<=ne),n(0,Math.min(4,ne-U.length),U),n(0,(8-U.length%8)%8,U),o(U.length%8==0);for(let V=236;U.length<ne;V^=253)n(V,8,U);let ee=[];for(;ee.length*8<U.length;)ee.push(0);return U.forEach((V,re)=>ee[re>>>3]|=V<<7-(re&7)),new De(k,p,ee,S)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let _=0;_<this.size;_++)this.setFunctionModule(6,_,_%2==0),this.setFunctionModule(_,6,_%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let _=0;_<p;_++)for(let T=0;T<p;T++)_==0&&T==0||_==0&&T==p-1||_==p-1&&T==0||this.drawAlignmentPattern(m[_],m[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let _=p;for(let S=0;S<10;S++)_=_<<1^(_>>>9)*1335;const T=(p<<10|_)^21522;o(T>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,s(T,S));this.setFunctionModule(8,7,s(T,6)),this.setFunctionModule(8,8,s(T,7)),this.setFunctionModule(7,8,s(T,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,s(T,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,s(T,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,s(T,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let _=0;_<12;_++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;o(p>>>18==0);for(let _=0;_<18;_++){const T=s(p,_),S=this.size-11+_%3,C=Math.floor(_/3);this.setFunctionModule(S,C,T),this.setFunctionModule(C,S,T)}}drawFinderPattern(m,p){for(let _=-4;_<=4;_++)for(let T=-4;T<=4;T++){const S=Math.max(Math.abs(T),Math.abs(_)),C=m+T,k=p+_;0<=C&&C<this.size&&0<=k&&k<this.size&&this.setFunctionModule(C,k,S!=2&&S!=4)}}drawAlignmentPattern(m,p){for(let _=-2;_<=2;_++)for(let T=-2;T<=2;T++)this.setFunctionModule(m+T,p+_,Math.max(Math.abs(T),Math.abs(_))!=1)}setFunctionModule(m,p,_){this.modules[p][m]=_,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,_=this.errorCorrectionLevel;if(m.length!=De.getNumDataCodewords(p,_))throw new RangeError("Invalid argument");const T=De.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][p],S=De.ECC_CODEWORDS_PER_BLOCK[_.ordinal][p],C=Math.floor(De.getNumRawDataModules(p)/8),k=T-C%T,B=Math.floor(C/T);let U=[];const ne=De.reedSolomonComputeDivisor(S);for(let V=0,re=0;V<T;V++){let ue=m.slice(re,re+B-S+(V<k?0:1));re+=ue.length;const de=De.reedSolomonComputeRemainder(ue,ne);V<k&&ue.push(0),U.push(ue.concat(de))}let ee=[];for(let V=0;V<U[0].length;V++)U.forEach((re,ue)=>{(V!=B-S||ue>=k)&&ee.push(re[V])});return o(ee.length==C),ee}drawCodewords(m){if(m.length!=Math.floor(De.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let _=this.size-1;_>=1;_-=2){_==6&&(_=5);for(let T=0;T<this.size;T++)for(let S=0;S<2;S++){const C=_-S,B=(_+1&2)==0?this.size-1-T:T;!this.isFunction[B][C]&&p<m.length*8&&(this.modules[B][C]=s(m[p>>>3],7-(p&7)),p++)}}o(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let _=0;_<this.size;_++){let T;switch(m){case 0:T=(_+p)%2==0;break;case 1:T=p%2==0;break;case 2:T=_%3==0;break;case 3:T=(_+p)%3==0;break;case 4:T=(Math.floor(_/3)+Math.floor(p/2))%2==0;break;case 5:T=_*p%2+_*p%3==0;break;case 6:T=(_*p%2+_*p%3)%2==0;break;case 7:T=((_+p)%2+_*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][_]&&T&&(this.modules[p][_]=!this.modules[p][_])}}getPenaltyScore(){let m=0;for(let S=0;S<this.size;S++){let C=!1,k=0,B=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[S][U]==C?(k++,k==5?m+=De.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),C||(m+=this.finderPenaltyCountPatterns(B)*De.PENALTY_N3),C=this.modules[S][U],k=1);m+=this.finderPenaltyTerminateAndCount(C,k,B)*De.PENALTY_N3}for(let S=0;S<this.size;S++){let C=!1,k=0,B=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[U][S]==C?(k++,k==5?m+=De.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,B),C||(m+=this.finderPenaltyCountPatterns(B)*De.PENALTY_N3),C=this.modules[U][S],k=1);m+=this.finderPenaltyTerminateAndCount(C,k,B)*De.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let C=0;C<this.size-1;C++){const k=this.modules[S][C];k==this.modules[S][C+1]&&k==this.modules[S+1][C]&&k==this.modules[S+1][C+1]&&(m+=De.PENALTY_N2)}let p=0;for(const S of this.modules)p=S.reduce((C,k)=>C+(k?1:0),p);const _=this.size*this.size,T=Math.ceil(Math.abs(p*20-_*10)/_)-1;return o(0<=T&&T<=9),m+=T*De.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let _=[6];for(let T=this.size-7;_.length<m;T-=p)_.splice(1,0,T);return _}}static getNumRawDataModules(m){if(m<De.MIN_VERSION||m>De.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const _=Math.floor(m/7)+2;p-=(25*_-10)*_-55,m>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(De.getNumRawDataModules(m)/8)-De.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*De.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let T=0;T<m-1;T++)p.push(0);p.push(1);let _=1;for(let T=0;T<m;T++){for(let S=0;S<p.length;S++)p[S]=De.reedSolomonMultiply(p[S],_),S+1<p.length&&(p[S]^=p[S+1]);_=De.reedSolomonMultiply(_,2)}return p}static reedSolomonComputeRemainder(m,p){let _=p.map(T=>0);for(const T of m){const S=T^_.shift();_.push(0),p.forEach((C,k)=>_[k]^=De.reedSolomonMultiply(C,S))}return _}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let _=0;for(let T=7;T>=0;T--)_=_<<1^(_>>>7)*285,_^=(p>>>T&1)*m;return o(_>>>8==0),_}finderPenaltyCountPatterns(m){const p=m[1];o(p<=this.size*3);const _=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(_&&m[0]>=p*4&&m[6]>=p?1:0)+(_&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,_){return m&&(this.finderPenaltyAddHistory(p,_),p=0),p+=this.size,this.finderPenaltyAddHistory(p,_),this.finderPenaltyCountPatterns(_)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function n(g,m,p){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let _=m-1;_>=0;_--)p.push(g>>>_&1)}function s(g,m){return(g>>>m&1)!=0}function o(g){if(!g)throw new Error("Assertion error")}const u=class pt{constructor(m,p,_){if(this.mode=m,this.numChars=p,this.bitData=_,p<0)throw new RangeError("Invalid argument");this.bitData=_.slice()}static makeBytes(m){let p=[];for(const _ of m)n(_,8,p);return new pt(pt.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!pt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let _=0;_<m.length;){const T=Math.min(m.length-_,3);n(parseInt(m.substring(_,_+T),10),T*3+1,p),_+=T}return new pt(pt.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!pt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],_;for(_=0;_+2<=m.length;_+=2){let T=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_))*45;T+=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_+1)),n(T,11,p)}return _<m.length&&n(pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_)),6,p),new pt(pt.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:pt.isNumeric(m)?[pt.makeNumeric(m)]:pt.isAlphanumeric(m)?[pt.makeAlphanumeric(m)]:[pt.makeBytes(pt.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,p);else if(m<16384)n(2,2,p),n(m,14,p);else if(m<1e6)n(6,3,p),n(m,21,p);else throw new RangeError("ECI assignment value out of range");return new pt(pt.Mode.ECI,0,p)}static isNumeric(m){return pt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return pt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let _=0;for(const T of m){const S=T.mode.numCharCountBits(p);if(T.numChars>=1<<S)return 1/0;_+=4+S+T.bitData.length}return _}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let _=0;_<m.length;_++)m.charAt(_)!="%"?p.push(m.charCodeAt(_)):(p.push(parseInt(m.substring(_+1,_+3),16)),_+=2);return p}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;r.QrSegment=u})(ua||(ua={}));(r=>{(e=>{const n=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(r.QrCode||(r.QrCode={}))})(ua||(ua={}));(r=>{(e=>{const n=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(r.QrSegment||(r.QrSegment={}))})(ua||(ua={}));var uo=ua;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var TO={L:uo.QrCode.Ecc.LOW,M:uo.QrCode.Ecc.MEDIUM,Q:uo.QrCode.Ecc.QUARTILE,H:uo.QrCode.Ecc.HIGH},PS=128,LS="L",US="#FFFFFF",zS="#000000",jS=!1,BS=1,SO=4,AO=0,bO=.1;function qS(r,e=0){const n=[];return r.forEach(function(s,o){let u=null;s.forEach(function(h,g){if(!h&&u!==null){n.push(`M${u+e} ${o+e}h${g-u}v1H${u+e}z`),u=null;return}if(g===s.length-1){if(!h)return;u===null?n.push(`M${g+e},${o+e} h1v1H${g+e}z`):n.push(`M${u+e},${o+e} h${g+1-u}v1H${u+e}z`);return}h&&u===null&&(u=g)})}),n.join("")}function HS(r,e){return r.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function wO(r,e,n,s){if(s==null)return null;const o=r.length+n*2,u=Math.floor(e*bO),h=o/e,g=(s.width||u)*h,m=(s.height||u)*h,p=s.x==null?r.length/2-g/2:s.x*h,_=s.y==null?r.length/2-m/2:s.y*h,T=s.opacity==null?1:s.opacity;let S=null;if(s.excavate){let k=Math.floor(p),B=Math.floor(_),U=Math.ceil(g+p-k),ne=Math.ceil(m+_-B);S={x:k,y:B,w:U,h:ne}}const C=s.crossOrigin;return{x:p,y:_,h:m,w:g,excavation:S,opacity:T,crossOrigin:C}}function RO(r,e){return e!=null?Math.max(Math.floor(e),0):r?SO:AO}function FS({value:r,level:e,minVersion:n,includeMargin:s,marginSize:o,imageSettings:u,size:h,boostLevel:g}){let m=Dt.useMemo(()=>{const k=(Array.isArray(r)?r:[r]).reduce((B,U)=>(B.push(...uo.QrSegment.makeSegments(U)),B),[]);return uo.QrCode.encodeSegments(k,TO[e],n,void 0,void 0,g)},[r,e,n,g]);const{cells:p,margin:_,numCells:T,calculatedImageSettings:S}=Dt.useMemo(()=>{let C=m.getModules();const k=RO(s,o),B=C.length+k*2,U=wO(C,h,k,u);return{cells:C,margin:k,numCells:B,calculatedImageSettings:U}},[m,h,u,s,o]);return{qrcode:m,margin:_,cells:p,numCells:T,calculatedImageSettings:S}}var CO=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),IO=Dt.forwardRef(function(e,n){const s=e,{value:o,size:u=PS,level:h=LS,bgColor:g=US,fgColor:m=zS,includeMargin:p=jS,minVersion:_=BS,boostLevel:T,marginSize:S,imageSettings:C}=s,B=pp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:U}=B,ne=pp(B,["style"]),ee=C==null?void 0:C.src,V=Dt.useRef(null),re=Dt.useRef(null),ue=Dt.useCallback(Be=>{V.current=Be,typeof n=="function"?n(Be):n&&(n.current=Be)},[n]),[de,I]=Dt.useState(!1),{margin:R,cells:N,numCells:L,calculatedImageSettings:O}=FS({value:o,level:h,minVersion:_,boostLevel:T,includeMargin:p,marginSize:S,imageSettings:C,size:u});Dt.useEffect(()=>{if(V.current!=null){const Be=V.current,Ye=Be.getContext("2d");if(!Ye)return;let $=N;const ae=re.current,pe=O!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;pe&&O.excavation!=null&&($=HS(N,O.excavation));const Oe=window.devicePixelRatio||1;Be.height=Be.width=u*Oe;const qe=u/L*Oe;Ye.scale(qe,qe),Ye.fillStyle=g,Ye.fillRect(0,0,L,L),Ye.fillStyle=m,CO?Ye.fill(new Path2D(qS($,R))):N.forEach(function(P,Z){P.forEach(function(oe,ce){oe&&Ye.fillRect(ce+R,Z+R,1,1)})}),O&&(Ye.globalAlpha=O.opacity),pe&&Ye.drawImage(ae,O.x+R,O.y+R,O.w,O.h)}}),Dt.useEffect(()=>{I(!1)},[ee]);const j=mp({height:u,width:u},U);let x=null;return ee!=null&&(x=Dt.createElement("img",{src:ee,key:ee,style:{display:"none"},onLoad:()=>{I(!0)},ref:re,crossOrigin:O==null?void 0:O.crossOrigin})),Dt.createElement(Dt.Fragment,null,Dt.createElement("canvas",mp({style:j,height:u,width:u,ref:ue,role:"img"},ne)),x)});IO.displayName="QRCodeCanvas";var GS=Dt.forwardRef(function(e,n){const s=e,{value:o,size:u=PS,level:h=LS,bgColor:g=US,fgColor:m=zS,includeMargin:p=jS,minVersion:_=BS,boostLevel:T,title:S,marginSize:C,imageSettings:k}=s,B=pp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:U,cells:ne,numCells:ee,calculatedImageSettings:V}=FS({value:o,level:h,minVersion:_,boostLevel:T,includeMargin:p,marginSize:C,imageSettings:k,size:u});let re=ne,ue=null;k!=null&&V!=null&&(V.excavation!=null&&(re=HS(ne,V.excavation)),ue=Dt.createElement("image",{href:k.src,height:V.h,width:V.w,x:V.x+U,y:V.y+U,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const de=qS(re,U);return Dt.createElement("svg",mp({height:u,width:u,viewBox:`0 0 ${ee} ${ee}`,ref:n,role:"img"},B),!!S&&Dt.createElement("title",null,S),Dt.createElement("path",{fill:g,d:`M0,0 h${ee}v${ee}H0z`,shapeRendering:"crispEdges"}),Dt.createElement("path",{fill:m,d:de,shapeRendering:"crispEdges"}),ue)});GS.displayName="QRCodeSVG";const NO=()=>{const[r]=bp(),e=r.get("eventCode"),[n,s]=G.useState([]),[o,u]=G.useState(null),[h,g]=G.useState(!0);G.useEffect(()=>{if(!e){g(!1);return}let S=null;return(async()=>{try{const k=la(lr(nn,"events"),Ao("eventCode","==",e),Ao("isActive","==",!0)),B=await Hh(k);if(B.empty)g(!1);else{const U={id:B.docs[0].id,...B.docs[0].data()};u(U);const ne=la(lr(nn,`events/${U.id}/requests`),qh("createdAt","asc"));S=dp(ne,ee=>{s(ee.docs.map(V=>({id:V.id,...V.data()}))),g(!1)})}}catch(k){console.error(k),g(!1)}})(),()=>{S&&S()}},[e]);const m="/KaraokeBS/".replace(/\/$/,""),p=`${window.location.origin}${m}/submit?eventCode=${e}`,_=(()=>{const S=Number(o==null?void 0:o.songMinutes);return!S||Number.isNaN(S)||S<=0?4.5:S})(),T=S=>{const C=n[S];if(!C||C.status===ht.SUL_PALCO)return 0;const k=n.slice(0,S).filter(B=>B.status!==ht.SUL_PALCO).length;return C.status===ht.PROSSIMO?Math.max(1,Math.ceil(_)):Math.max(0,Math.ceil(k*_))};return h?w.jsx("div",{className:"k-bg",children:w.jsx("div",{className:"k-wrap",children:w.jsxs("div",{className:"k-card k-empty",style:{marginTop:90},children:[w.jsx("div",{className:"k-title",style:{fontSize:18},children:"Sintonizzazione Canale..."}),w.jsx("div",{className:"k-sub",style:{marginTop:10},children:"Sto caricando la scaletta"})]})})}):!e||!o?w.jsx("div",{className:"k-bg",children:w.jsx("div",{className:"k-wrap",children:w.jsxs("div",{className:"k-card k-empty",style:{marginTop:90},children:[w.jsx("div",{className:"k-title",children:"Serata non trovata"}),w.jsx("div",{className:"k-sub",style:{marginTop:10},children:"Assicurati che il codice evento sia corretto."}),w.jsx("div",{style:{marginTop:18},children:w.jsx(iu,{to:"/",style:{color:"rgba(255,43,214,.95)",fontWeight:900,letterSpacing:".14em",textTransform:"uppercase"},children:"Torna alla home"})})]})})}):w.jsxs("div",{className:"k-bg",children:[w.jsxs("div",{className:"k-qr-float",children:[w.jsx("div",{className:"k-qrbox",children:w.jsx(GS,{value:p,size:110})}),w.jsx("div",{className:"k-qrlabel",children:"Prenota qui"})]}),w.jsxs("div",{className:"k-wrap",children:[w.jsxs("div",{className:"k-card k-topbar",children:[w.jsxs("div",{children:[w.jsx("div",{className:"k-title karaoke-title",children:o.name}),w.jsxs("div",{className:"k-sub",style:{marginTop:6},children:["Codice serata: ",w.jsx("span",{style:{color:"rgba(255,255,255,.92)",fontWeight:900},children:e})]})]}),w.jsx("div",{className:"k-pill",children:"LIVE UPDATING"})]}),w.jsxs("div",{className:"k-card",children:[w.jsxs("div",{className:"k-sectionTitle",children:[w.jsxs("div",{className:"k-h2",children:[w.jsx(MS,{size:18}),w.jsx("span",{children:"Elenco partecipanti"})]}),w.jsx("div",{className:"k-live",children:"Live"})]}),w.jsx("div",{className:"k-tableWrap",children:w.jsxs("table",{className:"k-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"k-th",style:{width:120},children:"Stato"}),w.jsx("th",{className:"k-th",children:"Nickname"}),w.jsx("th",{className:"k-th",children:"Canzone"}),w.jsx("th",{className:"k-th",style:{width:110,textAlign:"center"},children:"Attesa"}),w.jsx("th",{className:"k-th",style:{width:110,textAlign:"center"},children:"Tonalit"})]})}),w.jsxs("tbody",{children:[n.map((S,C)=>{const k=S.status===ht.SUL_PALCO?"k-dot-now":S.status===ht.PROSSIMO?"k-dot-next":"k-dot-wait",B=S.status===ht.SUL_PALCO?"Sul palco":S.status===ht.PROSSIMO?"Prossimo":"In attesa",U=T(C);return w.jsxs("tr",{className:"k-row",children:[w.jsx("td",{className:"k-td",children:w.jsxs("span",{className:"k-status",children:[w.jsx("span",{className:`k-dot ${k}`}),B]})}),w.jsx("td",{className:"k-td",style:{fontWeight:900},children:S.nickname}),w.jsx("td",{className:"p-4",children:w.jsx("div",{className:"text-xl font-bold text-pink-500 tracking-tight drop-shadow-[0_0_6px_rgba(255,0,150,0.6)]",children:S.songTitle})}),w.jsx("td",{className:"k-td",style:{textAlign:"center"},children:w.jsxs("span",{style:{display:"inline-block",padding:"6px 10px",borderRadius:12,border:"1px solid rgba(255,255,255,.10)",background:"rgba(255,255,255,.05)",color:"rgba(255,255,255,.75)",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontWeight:900,fontSize:14},children:["~",U,"m"]})}),w.jsx("td",{className:"k-td",style:{textAlign:"center",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontWeight:900,color:"rgba(255,43,214,.95)"},children:S.keyShift>0?`+${S.keyShift}`:S.keyShift})]},S.id)}),n.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"k-empty",children:"La scena  vuota sii il primo a rompere il ghiaccio!"})})]})]})})]})]})]})},xO=()=>{const[r]=bp(),e=gu(),n=r.get("eventCode"),[s,o]=G.useState(null),[u,h]=G.useState(!0),[g,m]=G.useState(""),[p,_]=G.useState(""),[T,S]=G.useState(0),[C,k]=G.useState(!1);G.useEffect(()=>{if(!n){h(!1);return}(async()=>{try{const ne=la(lr(nn,"events"),Ao("eventCode","==",n),Ao("isActive","==",!0)),ee=await Hh(ne);ee.empty||o({id:ee.docs[0].id,...ee.docs[0].data()})}catch(ne){console.error(ne)}finally{h(!1)}})()},[n]);const B=async U=>{if(U.preventDefault(),!s||C)return;const ne=g.trim(),ee=p.trim();if(!(!ne||!ee)){k(!0);try{const V=await NS(lr(nn,`events/${s.id}/requests`),{nickname:ne,songTitle:ee,keyShift:T,status:ht.IN_ATTESA,createdAt:AS()});e(`/sent?eventCode=${n}&nickname=${encodeURIComponent(ne)}&songTitle=${encodeURIComponent(ee)}&requestId=${V.id}`)}catch(V){console.error(V),alert("Errore nell'invio della prenotazione. Riprova.")}finally{k(!1)}}};return u?w.jsx("div",{className:"flex items-center justify-center min-h-[50vh] text-neon-pink font-black italic animate-pulse",children:"CARICAMENTO PALCO..."}):!n||!s?w.jsxs("div",{className:"p-8 text-center mt-20",children:[w.jsx("h2",{className:"text-3xl font-black text-pink-500 uppercase italic",children:"Codice Invalido"}),w.jsx("p",{className:"text-gray-400 mt-2 uppercase tracking-widest text-xs",children:"Richiedi all'admin il codice corretto della serata."})]}):w.jsxs("div",{className:"max-w-md mx-auto p-4 sm:p-6 pb-20",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-1 text-gray-500 hover:text-white transition-colors uppercase text-[10px] font-bold tracking-widest mb-6",children:[w.jsx(j4,{className:"w-4 h-4"})," Indietro"]}),w.jsx("h2",{className:"text-4xl font-black italic uppercase text-white tracking-tighter leading-none mb-2",children:"Prenota la tua canzone"}),w.jsxs("p",{className:"text-cyan-400 font-bold text-xs uppercase tracking-widest",children:["Serata: ",s.name]})]}),w.jsx("div",{className:"bg-neon-gradient border border-gray-800 rounded-[2.5rem] p-8 shadow-2xl neon-border-blue",children:w.jsxs("form",{onSubmit:B,className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-[0.2em] ml-1",children:"Il tuo Nome d'arte"}),w.jsxs("div",{className:"relative group",children:[w.jsx(dO,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-600 group-focus-within:text-cyan-400 transition-colors"}),w.jsx("input",{required:!0,type:"text",value:g,onChange:U=>m(U.target.value),placeholder:"Es: Star Lord",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all placeholder:text-gray-800 font-bold"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-[0.2em] ml-1",children:"Titolo Canzone"}),w.jsxs("div",{className:"relative group",children:[w.jsx(OS,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-600 group-focus-within:text-pink-400 transition-colors"}),w.jsx("input",{required:!0,type:"text",value:p,onChange:U=>_(U.target.value),placeholder:"Es: Bohemian Rhapsody",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-all placeholder:text-gray-800 font-bold"})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-3 ml-1",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-[0.2em]",children:"Tonalit (Key Shift)"}),w.jsx("span",{className:"text-pink-400 font-mono font-bold px-2 py-0.5 bg-pink-500/10 rounded border border-pink-500/20",children:T>0?`+${T}`:T})]}),w.jsxs("div",{className:"px-2",children:[w.jsx("input",{type:"range",min:"-3",max:"3",value:T,onChange:U=>S(parseInt(U.target.value)),className:"w-full h-1.5 bg-gray-800 rounded-lg appearance-none cursor-pointer accent-pink-500"}),w.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-gray-600 font-mono uppercase font-black",children:[w.jsx("span",{children:"-3 semitoni"}),w.jsx("span",{children:"Originale"}),w.jsx("span",{children:"+3 semitoni"})]})]})]}),w.jsx("button",{type:"submit",disabled:C,className:`w-full bg-pink-600 hover:bg-pink-500 text-white font-black uppercase italic tracking-[0.15em] py-5 rounded-3xl transition-all shadow-xl shadow-pink-900/40 transform active:scale-95 flex items-center justify-center gap-2 ${C?"opacity-50 cursor-not-allowed":""}`,children:C?"Invio in corso...":w.jsxs(w.Fragment,{children:["Sali in Scaletta ",w.jsx(q4,{className:"w-5 h-5"})]})})]})}),w.jsx("div",{className:"mt-8 text-center",children:w.jsx("p",{className:"text-gray-600 text-[10px] uppercase font-bold tracking-widest leading-relaxed",children:"Assicurati che il titolo sia corretto per permettere alla regia di trovare la base velocemente!"})})]})},DO=()=>w.jsx(xO,{}),OO=()=>{const[r]=bp(),e=r.get("eventCode"),n=r.get("nickname"),s=r.get("songTitle"),o=r.get("requestId"),[u,h]=G.useState(null),[g,m]=G.useState(4.5),[p,_]=G.useState(!0);G.useEffect(()=>{(async()=>{if(!e){_(!1);return}try{const C=la(lr(nn,"events"),Ao("eventCode","==",e),Ao("isActive","==",!0)),B=(await Hh(C)).docs[0];if(!B){h(null);return}const U=Number(B.data().songMinutes);if(m(!U||isNaN(U)||U<=0?4.5:U),!o){h(null);return}const ne=la(lr(nn,`events/${B.id}/requests`),qh("createdAt","asc")),ee=await Hh(ne);let V=o?ee.docs.findIndex(re=>re.id===o):-1;if(V===-1&&n&&s){const re=[];ee.docs.forEach((ue,de)=>{const I=ue.data();I.nickname===n&&I.songTitle===s&&re.push(de)}),re.length&&(V=re[re.length-1])}h(V!==-1?V+1:null)}catch(C){console.error("Error calculating position:",C),h(null)}finally{_(!1)}})()},[e,o]);const T=u&&u>1?Math.ceil((u-1)*g):0;return w.jsxs("div",{className:"max-w-md mx-auto p-4 sm:p-6 text-center pt-12",children:[w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"w-24 h-24 bg-green-500/10 rounded-full flex items-center justify-center border-4 border-green-500/20 shadow-2xl shadow-green-500/30",children:w.jsx(F4,{className:"w-12 h-12 text-green-400 animate-bounce"})})}),w.jsx("h2",{className:"text-4xl font-black italic uppercase text-white tracking-tighter mb-4",children:"Prenotata!"}),w.jsx("p",{className:"text-gray-400 uppercase font-bold text-xs tracking-[0.2em] mb-10",children:"La tua richiesta  in scaletta."}),w.jsxs("div",{className:"bg-neon-gradient border border-gray-800 rounded-[2.5rem] p-8 mb-8 text-left space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest block mb-1",children:"Cantante"}),w.jsx("div",{className:"text-xl font-bold text-white italic",children:n})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest block mb-1",children:"Canzone"}),w.jsx("div",{className:"text-lg font-bold text-pink-400 italic",children:s})]}),w.jsxs("div",{className:"pt-6 border-t border-gray-800 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-2xl",children:w.jsx(VE,{className:"text-cyan-400 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest",children:"Posizione"}),w.jsx("div",{className:"text-2xl font-black italic text-cyan-400",children:p?"...":u?`#${u}`:"?"})]})]}),w.jsxs("div",{className:"flex items-center gap-3 text-right",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest",children:"Attesa Stimata"}),w.jsx("div",{className:"text-2xl font-black italic text-pink-500",children:p?"...":`~${Math.round(T)} min`})]}),w.jsx("div",{className:"p-3 bg-pink-500/10 rounded-2xl",children:w.jsx(MS,{className:"text-pink-500 w-6 h-6"})})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs(iu,{to:`/queue?eventCode=${e}`,className:"w-full bg-zinc-900 border border-gray-800 text-white font-black uppercase italic tracking-widest py-5 rounded-2xl flex items-center justify-center gap-2 hover:bg-gray-800 transition-all active:scale-95",children:["Vedi Coda ",w.jsx(VE,{className:"w-4 h-4"})]}),w.jsxs(iu,{to:`/submit?eventCode=${e}`,className:"w-full bg-pink-600 text-white font-black uppercase italic tracking-widest py-5 rounded-2xl flex items-center justify-center gap-2 hover:bg-pink-500 transition-all active:scale-95 shadow-xl shadow-pink-900/30",children:["Un'altra canzone ",w.jsx(OS,{className:"w-4 h-4"})]})]})]})},MO=({children:r})=>{const[e,n]=G.useState(null),[s,o]=G.useState(!0);return G.useEffect(()=>YC(yg,h=>{n(h),o(!1)}),[]),s?w.jsx("div",{className:"flex items-center justify-center min-h-screen text-white",children:w.jsx("div",{className:"animate-pulse text-cyan-300",children:"Loading session..."})}):e?w.jsx(w.Fragment,{children:r}):w.jsx(Um,{to:"/queue",replace:!0})},VO=()=>w.jsxs("div",{className:"min-h-screen flex flex-col overflow-x-hidden text-white",children:[w.jsx("div",{className:"fixed inset-0 -z-10 bg-[radial-gradient(900px_600px_at_18%_10%,rgba(255,43,214,0.22),transparent_55%),radial-gradient(900px_600px_at_82%_26%,rgba(124,58,237,0.22),transparent_55%),radial-gradient(1100px_700px_at_50%_92%,rgba(255,43,214,0.10),transparent_55%),linear-gradient(180deg,#120017,#0a0010)]"}),w.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-white/10 bg-white/5 backdrop-blur-xl sticky top-0 z-50",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"relative",children:w.jsx(tO,{className:"w-10 h-10 text-pink-500 micPulse"})}),w.jsxs("h1",{className:"text-xl font-black italic uppercase tracking-tighter",children:["Karaoke",w.jsx("span",{className:"text-pink-400",children:"B&S"})]})]}),w.jsx("div",{className:"text-xs font-mono text-white/50 uppercase tracking-widest hidden sm:block",children:"Entra con il QRCode e canta!"})]}),w.jsx("main",{className:"flex-grow pb-20 sm:pb-8",children:w.jsxs(xw,{children:[w.jsx(Xr,{path:"/admin",element:w.jsx(MO,{children:w.jsx(_O,{})})}),w.jsx(Xr,{path:"/login",element:w.jsx(vO,{})}),w.jsx(Xr,{path:"/queue",element:w.jsx(NO,{})}),w.jsx(Xr,{path:"/submit",element:w.jsx(DO,{})}),w.jsx(Xr,{path:"/sent",element:w.jsx(OO,{})}),w.jsx(Xr,{path:"/",element:w.jsx(Um,{to:"/login",replace:!0})}),w.jsx(Xr,{path:"*",element:w.jsx(Um,{to:"/queue",replace:!0})})]})}),w.jsx("footer",{className:"py-6 px-4 text-center border-t border-white/10 bg-transparent",children:w.jsxs("p",{className:"text-white/40 text-[10px] uppercase tracking-[0.3em]",children:[" ",new Date().getFullYear()," Produzione dei BodyAndSoul"]})})]}),QS=document.getElementById("root");if(!QS)throw new Error("Could not find root element to mount to");const kO=Mb.createRoot(QS);kO.render(w.jsx(Dt.StrictMode,{children:w.jsx(tR,{basename:"/KaraokeBS",children:w.jsx(VO,{})})}));

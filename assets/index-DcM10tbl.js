(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function FE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function NA(){if(Gv)return jl;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var Qv;function xA(){return Qv||(Qv=1,vm.exports=NA()),vm.exports}var w=xA(),Em={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function DA(){if(Kv)return we;Kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function x(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,U={};function te(P,Z,ae){this.props=P,this.context=Z,this.refs=U,this.updater=ae||k}te.prototype.isReactComponent={},te.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},te.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function Q(P,Z,ae){this.props=P,this.context=Z,this.refs=U,this.updater=ae||k}var oe=Q.prototype=new ie;oe.constructor=Q,j(oe,te.prototype),oe.isPureReactComponent=!0;var fe=Array.isArray;function ue(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(P,Z,ae){var ce=ae.ref;return{$$typeof:r,type:P,key:Z,ref:ce!==void 0?ce:null,props:ae}}function L(P,Z){return D(P.type,Z,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function I(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return Z[ae]})}var C=/\/+/g;function Ee(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):Z.toString(36)}function ge(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ue,ue):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,Z,ae,ce,Se){var Ne=typeof P;(Ne==="undefined"||Ne==="boolean")&&(P=null);var Be=!1;if(P===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(P.$$typeof){case r:case e:Be=!0;break;case _:return Be=P._init,K(Be(P._payload),Z,ae,ce,Se)}}if(Be)return Se=Se(P),Be=ce===""?"."+Ee(P,0):ce,fe(Se)?(ae="",Be!=null&&(ae=Be.replace(C,"$&/")+"/"),K(Se,Z,ae,"",function(bs){return bs})):Se!=null&&(M(Se)&&(Se=L(Se,ae+(Se.key==null||P&&P.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+Be)),Z.push(Se)),1;Be=0;var Ut=ce===""?".":ce+":";if(fe(P))for(var ot=0;ot<P.length;ot++)ce=P[ot],Ne=Ut+Ee(ce,ot),Be+=K(ce,Z,ae,Ne,Se);else if(ot=x(P),typeof ot=="function")for(P=ot.call(P),ot=0;!(ce=P.next()).done;)ce=ce.value,Ne=Ut+Ee(ce,ot++),Be+=K(ce,Z,ae,Ne,Se);else if(Ne==="object"){if(typeof P.then=="function")return K(ge(P),Z,ae,ce,Se);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function re(P,Z,ae){if(P==null)return P;var ce=[],Se=0;return K(P,ce,"","",function(Ne){return Z.call(ae,Ne,Se++)}),ce}function pe(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var ke=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},He={map:re,forEach:function(P,Z,ae){re(P,function(){Z.apply(this,arguments)},ae)},count:function(P){var Z=0;return re(P,function(){Z++}),Z},toArray:function(P){return re(P,function(Z){return Z})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=T,we.Children=He,we.Component=te,we.Fragment=n,we.Profiler=o,we.PureComponent=Q,we.StrictMode=s,we.Suspense=m,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return N.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,Z,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=j({},P.props),Se=P.key;if(Z!=null)for(Ne in Z.key!==void 0&&(Se=""+Z.key),Z)!R.call(Z,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Z.ref===void 0||(ce[Ne]=Z[Ne]);var Ne=arguments.length-2;if(Ne===1)ce.children=ae;else if(1<Ne){for(var Be=Array(Ne),Ut=0;Ut<Ne;Ut++)Be[Ut]=arguments[Ut+2];ce.children=Be}return D(P.type,Se,ce)},we.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},we.createElement=function(P,Z,ae){var ce,Se={},Ne=null;if(Z!=null)for(ce in Z.key!==void 0&&(Ne=""+Z.key),Z)R.call(Z,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Se[ce]=Z[ce]);var Be=arguments.length-2;if(Be===1)Se.children=ae;else if(1<Be){for(var Ut=Array(Be),ot=0;ot<Be;ot++)Ut[ot]=arguments[ot+2];Se.children=Ut}if(P&&P.defaultProps)for(ce in Be=P.defaultProps,Be)Se[ce]===void 0&&(Se[ce]=Be[ce]);return D(P,Ne,Se)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:g,render:P}},we.isValidElement=M,we.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:pe}},we.memo=function(P,Z){return{$$typeof:p,type:P,compare:Z===void 0?null:Z}},we.startTransition=function(P){var Z=N.T,ae={};N.T=ae;try{var ce=P(),Se=N.S;Se!==null&&Se(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,ke)}catch(Ne){ke(Ne)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),N.T=Z}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(P){return N.H.use(P)},we.useActionState=function(P,Z,ae){return N.H.useActionState(P,Z,ae)},we.useCallback=function(P,Z){return N.H.useCallback(P,Z)},we.useContext=function(P){return N.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,Z){return N.H.useDeferredValue(P,Z)},we.useEffect=function(P,Z){return N.H.useEffect(P,Z)},we.useEffectEvent=function(P){return N.H.useEffectEvent(P)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(P,Z,ae){return N.H.useImperativeHandle(P,Z,ae)},we.useInsertionEffect=function(P,Z){return N.H.useInsertionEffect(P,Z)},we.useLayoutEffect=function(P,Z){return N.H.useLayoutEffect(P,Z)},we.useMemo=function(P,Z){return N.H.useMemo(P,Z)},we.useOptimistic=function(P,Z){return N.H.useOptimistic(P,Z)},we.useReducer=function(P,Z,ae){return N.H.useReducer(P,Z,ae)},we.useRef=function(P){return N.H.useRef(P)},we.useState=function(P){return N.H.useState(P)},we.useSyncExternalStore=function(P,Z,ae){return N.H.useSyncExternalStore(P,Z,ae)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.4",we}var Yv;function bp(){return Yv||(Yv=1,Em.exports=DA()),Em.exports}var B=bp();const kt=FE(B);var Tm={exports:{}},Bl={},bm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function OA(){return $v||($v=1,(function(r){function e(K,re){var pe=K.length;K.push(re);e:for(;0<pe;){var ke=pe-1>>>1,He=K[ke];if(0<o(He,re))K[ke]=re,K[pe]=He,pe=ke;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var re=K[0],pe=K.pop();if(pe!==re){K[0]=pe;e:for(var ke=0,He=K.length,P=He>>>1;ke<P;){var Z=2*(ke+1)-1,ae=K[Z],ce=Z+1,Se=K[ce];if(0>o(ae,pe))ce<He&&0>o(Se,ae)?(K[ke]=Se,K[ce]=pe,ke=ce):(K[ke]=ae,K[Z]=pe,ke=Z);else if(ce<He&&0>o(Se,pe))K[ke]=Se,K[ce]=pe,ke=ce;else break e}}return re}function o(K,re){var pe=K.sortIndex-re.sortIndex;return pe!==0?pe:K.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var m=[],p=[],_=1,T=null,b=3,x=!1,k=!1,j=!1,U=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function oe(K){for(var re=n(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=K)s(p),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(p)}}function fe(K){if(j=!1,oe(K),!k)if(n(m)!==null)k=!0,ue||(ue=!0,I());else{var re=n(p);re!==null&&ge(fe,re.startTime-K)}}var ue=!1,N=-1,R=5,D=-1;function L(){return U?!0:!(r.unstable_now()-D<R)}function M(){if(U=!1,ue){var K=r.unstable_now();D=K;var re=!0;try{e:{k=!1,j&&(j=!1,ie(N),N=-1),x=!0;var pe=b;try{t:{for(oe(K),T=n(m);T!==null&&!(T.expirationTime>K&&L());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,b=T.priorityLevel;var He=ke(T.expirationTime<=K);if(K=r.unstable_now(),typeof He=="function"){T.callback=He,oe(K),re=!0;break t}T===n(m)&&s(m),oe(K)}else s(m);T=n(m)}if(T!==null)re=!0;else{var P=n(p);P!==null&&ge(fe,P.startTime-K),re=!1}}break e}finally{T=null,b=pe,x=!1}re=void 0}}finally{re?I():ue=!1}}}var I;if(typeof Q=="function")I=function(){Q(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ee=C.port2;C.port1.onmessage=M,I=function(){Ee.postMessage(null)}}else I=function(){te(M,0)};function ge(K,re){N=te(function(){K(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(K){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var pe=b;b=re;try{return K()}finally{b=pe}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pe=b;b=K;try{return re()}finally{b=pe}},r.unstable_scheduleCallback=function(K,re,pe){var ke=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ke+pe:ke):pe=ke,K){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=pe+He,K={id:_++,callback:re,priorityLevel:K,startTime:pe,expirationTime:He,sortIndex:-1},pe>ke?(K.sortIndex=pe,e(p,K),n(m)===null&&K===n(p)&&(j?(ie(N),N=-1):j=!0,ge(fe,pe-ke))):(K.sortIndex=He,e(m,K),k||x||(k=!0,ue||(ue=!0,I()))),K},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(K){var re=b;return function(){var pe=b;b=re;try{return K.apply(this,arguments)}finally{b=pe}}}})(Sm)),Sm}var Xv;function MA(){return Xv||(Xv=1,bm.exports=OA()),bm.exports}var Am={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function kA(){if(Jv)return tn;Jv=1;var r=bp();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:p,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,_)},tn.flushSync=function(m){var p=h.T,_=s.p;try{if(h.T=null,s.p=2,m)return m()}finally{h.T=p,s.p=_,s.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,T=g(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=g(_,p.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=g(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},tn.requestFormReset=function(m){s.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,_){return h.H.useFormState(m,p,_)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var Wv;function VA(){if(Wv)return Am.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=kA(),Am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function PA(){if(Zv)return Bl;Zv=1;var r=MA(),e=bp(),n=VA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=d;break}if(S===l){v=!0,l=f,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=f;break}if(S===l){v=!0,l=d,a=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case te:return"Profiler";case U:return"StrictMode";case fe:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case Q:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ee(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ee(t(i))}catch{}}return null}var ge=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ke=[],He=-1;function P(t){return{current:t}}function Z(t){0>He||(t.current=ke[He],ke[He]=null,He--)}function ae(t,i){He++,ke[He]=t.current,t.current=i}var ce=P(null),Se=P(null),Ne=P(null),Be=P(null);function Ut(t,i){switch(ae(Ne,i),ae(Se,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?mv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=mv(i),t=pv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ce),ae(ce,t)}function ot(){Z(ce),Z(Se),Z(Ne)}function bs(t){t.memoizedState!==null&&ae(Be,t);var i=ce.current,a=pv(i,t.type);i!==a&&(ae(Se,t),ae(ce,a))}function ma(t){Se.current===t&&(Z(ce),Z(Se)),Be.current===t&&(Z(Be),Pl._currentValue=pe)}var pa,ga;function hi(t){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+t+ga}var Po=!1;function Ss(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var G=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){G=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){G=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var O=v.split(`
`),F=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var X=`
`+O[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?hi(a):""}function Lo(t,i){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ss(t.type,!1);case 11:return Ss(t.type.render,!1);case 1:return Ss(t.type,!0);case 31:return hi("Activity");default:return""}}function Uo(t){try{var i="",a=null;do i+=Lo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,zt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,Tf=r.unstable_shouldYield,Du=r.unstable_requestPaint,on=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,zo=r.unstable_ImmediatePriority,jo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,bf=r.unstable_LowPriority,Ou=r.unstable_IdlePriority,Mu=r.log,ku=r.unstable_setDisableYieldValue,Qn=null,Qt=null;function Dn(t){if(typeof Mu=="function"&&ku(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Qn,t)}catch{}}var yt=Math.clz32?Math.clz32:Pu,Vu=Math.log,ya=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(Vu(t)/ya|0)|0}var fi=256,ws=262144,wt=4194304;function di(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=di(l):(v&=S,v!==0?f=di(v):a||(a=S&~t,a!==0&&(f=di(a))))):(S=l&~d,S!==0?f=di(S):v!==0?f=di(v):a||(a=l&~t,a!==0&&(f=di(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function pi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Af(t,i,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-yt(a),ee=1<<X;S[X]=0,O[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var $=G[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Cs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Bo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function qo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Uv(t.type))}function Yn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var $n=Math.random().toString(36).slice(2),Rt="__reactFiber$"+$n,qt="__reactProps$"+$n,gi="__reactContainer$"+$n,_a="__reactEvents$"+$n,wf="__reactListeners$"+$n,zu="__reactHandles$"+$n,ju="__reactResources$"+$n,yi="__reactMarker$"+$n;function va(t){delete t[Rt],delete t[qt],delete t[_a],delete t[wf],delete t[zu]}function _i(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[gi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[Rt])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[Rt]||t[gi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vi(t){var i=t[ju];return i||(i=t[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[yi]=!0}var Ho=new Set,Fo={};function Ei(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Fo[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function Bu(t){return At.call(Ko,t)?!0:At.call(Qo,t)?!1:Go.test(t)?Ko[t]=!0:(Qo[t]=!0,!1)}function Ea(t,i,a){if(Bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=Yo(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function cn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(t,i,a,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?$o(t,v,Ht(i)):a!=null?$o(t,v,Ht(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Ht(S):t.removeAttribute("name")}function qu(t,i,a,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function $o(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Hu(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ge(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Fu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Wo=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Si=null;function Ds(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[qt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ta(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[qt]||null;if(!f)throw Error(s(90));Ta(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":Hu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Aa=!1;function Ar(t,i,a){if(Aa)return t(i,a);Aa=!0;try{var l=t(i);return l}finally{if(Aa=!1,(Sr!==null||Si!==null)&&(Uc(),Sr&&(i=Sr,t=Si,Si=Sr=null,Ds(i),t)))for(i=0;i<t.length;i++)Ds(t[i])}}function Jn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(kn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Os=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Os=!1}var Ai=null,Zo=null,Ms=null;function el(){if(Ms)return Ms;var t,i=Zo,a=i.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===f[d-l];l++);return Ms=f.slice(t,1<l?1-l:void 0)}function ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Wn(){return!1}function Kt(t){function i(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:Wn,this.isPropagationStopped=Wn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Kt(Hi),wr=T({},Hi,{view:0,detail:0}),tl=Kt(wr),Rr,wa,Ri,Ra=T({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Rr=t.screenX-Ri.screenX,wa=t.screenY-Ri.screenY):wa=Rr=0,Ri=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),nl=Kt(Ra),Vs=T({},Ra,{dataTransfer:0}),Qu=Kt(Vs),Ku=T({},wr,{relatedTarget:0}),Ps=Kt(Ku),il=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Kt(il),Ca=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$u=Kt(Ca),Xu=T({},Hi,{data:0}),Ci=Kt(Xu),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ec(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zu[t])?!!i[t]:!1}function Cr(){return ec}var ln=T({},wr,{key:function(t){if(t.key){var i=Ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=Kt(ln),nc=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Kt(nc),c=T({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Kt(c),E=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Kt(E),q=T({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Kt(q),se=T({},Hi,{newState:0,oldState:0}),Ce=Kt(se),_t=[9,13,27,32],Qe=kn&&"CompositionEvent"in window,lt=null;kn&&"documentMode"in document&&(lt=document.documentMode);var Vn=kn&&"TextEvent"in window&&!lt,Ii=kn&&(!Qe||lt&&8<lt&&11>=lt),Zn=" ",ei=!1;function Ls(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function Zb(t,i){switch(t){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(ei=!0,Zn);case"textInput":return t=i.data,t===Zn&&ei?null:t;default:return null}}function eS(t,i){if(Na)return t==="compositionend"||!Qe&&Ls(t,i)?(t=el(),Ms=Zo=Ai=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tS[t.type]:i==="textarea"}function Rg(t,i,a,l){Sr?Si?Si.push(l):Si=[l]:Sr=l,i=Gc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rl=null,sl=null;function nS(t){lv(t,0)}function ic(t){var i=En(t);if(Ns(i))return t}function Cg(t,i){if(t==="change")return i}var Ig=!1;if(kn){var Rf;if(kn){var Cf="oninput"in document;if(!Cf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Cf=typeof Ng.oninput=="function"}Rf=Cf}else Rf=!1;Ig=Rf&&(!document.documentMode||9<document.documentMode)}function xg(){rl&&(rl.detachEvent("onpropertychange",Dg),sl=rl=null)}function Dg(t){if(t.propertyName==="value"&&ic(sl)){var i=[];Rg(i,sl,t,Mn(t)),Ar(nS,i)}}function iS(t,i,a){t==="focusin"?(xg(),rl=i,sl=a,rl.attachEvent("onpropertychange",Dg)):t==="focusout"&&xg()}function rS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(sl)}function sS(t,i){if(t==="click")return ic(i)}function aS(t,i){if(t==="input"||t==="change")return ic(i)}function oS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:oS;function al(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!At.call(i,f)||!bn(t[f],i[f]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,i){var a=Og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Og(a)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function If(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lS=kn&&"documentMode"in document&&11>=document.documentMode,xa=null,Nf=null,ol=null,xf=!1;function Pg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||xa==null||xa!==bi(l)||(l=xa,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Gc(Nf,"onSelect"),0<l.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Df={},Lg={};kn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function zs(t){if(Df[t])return Df[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lg)return Df[t]=i[a];return t}var Ug=zs("animationend"),zg=zs("animationiteration"),jg=zs("animationstart"),uS=zs("transitionrun"),cS=zs("transitionstart"),hS=zs("transitioncancel"),Bg=zs("transitionend"),qg=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function ti(t,i){qg.set(t,i),Ei(i,[t])}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Oa=0,Mf=0;function sc(){for(var t=Oa,i=Mf=Oa=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function ac(t,i,a,l){Pn[Oa++]=t,Pn[Oa++]=i,Pn[Oa++]=a,Pn[Oa++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,i,a,l){return ac(t,i,a,l),oc(t)}function js(t,i){return ac(t,null,null,i),oc(t)}function Hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function oc(t){if(50<Nl)throw Nl=0,Hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function fS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,i,a,l){return new fS(t,i,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=Sn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lc(t,i,a,l,f,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=yA(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Sn(31,a,i,f),t.elementType=D,t.lanes=d,t;case j:return Bs(a.children,f,d,i);case U:v=8,f|=24;break;case te:return t=Sn(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case fe:return t=Sn(13,a,i,f),t.elementType=fe,t.lanes=d,t;case ue:return t=Sn(19,a,i,f),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:v=10;break e;case ie:v=9;break e;case oe:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Sn(v,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=Sn(7,t,l,i),t.lanes=a,t}function Pf(t,i,a){return t=Sn(6,t,null,i),t.lanes=a,t}function Gg(t){var i=Sn(18,null,null,0);return i.stateNode=t,i}function Lf(t,i,a){return i=Sn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Qg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=Qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Uo(i)},Qg.set(t,i),i)}return{value:t,source:i,stack:Uo(i)}}var ka=[],Va=0,uc=null,ll=0,Un=[],zn=0,Ir=null,Ni=1,xi="";function Qi(t,i){ka[Va++]=ll,ka[Va++]=uc,uc=t,ll=i}function Kg(t,i,a){Un[zn++]=Ni,Un[zn++]=xi,Un[zn++]=Ir,Ir=t;var l=Ni;t=xi;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ni=1<<32-yt(i)+f|a<<f|l,xi=d+t}else Ni=1<<d|a<<f|l,xi=t}function Uf(t){t.return!==null&&(Qi(t,1),Kg(t,1,0))}function zf(t){for(;t===uc;)uc=ka[--Va],ka[Va]=null,ll=ka[--Va],ka[Va]=null;for(;t===Ir;)Ir=Un[--zn],Un[zn]=null,xi=Un[--zn],Un[zn]=null,Ni=Un[--zn],Un[zn]=null}function Yg(t,i){Un[zn++]=Ni,Un[zn++]=xi,Un[zn++]=Ir,Ni=i.id,xi=i.overflow,Ir=t}var Yt=null,rt=null,je=!1,Nr=null,jn=!1,jf=Error(s(519));function xr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Ln(i,t)),jf}function $g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[qt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Oe(Dl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),qu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||fv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||xr(t,!0)}function Xg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Yt=Yt.return}}function Pa(t){if(t!==Yt)return!1;if(!je)return Xg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rm(t.type,t.memoizedProps)),a=!a),a&&rt&&xr(t),Xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=Tv(t)}else i===27?(i=rt,Fr(t.type)?(t=um,um=null,rt=t):rt=i):rt=Yt?qn(t.stateNode.nextSibling):null;return!0}function qs(){rt=Yt=null,je=!1}function Bf(){var t=Nr;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Nr=null),t}function ul(t){Nr===null?Nr=[t]:Nr.push(t)}var qf=P(null),Hs=null,Ki=null;function Dr(t,i,a){ae(qf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=qf.current,Z(qf)}function Hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var O=0;O<i.length;O++)if(S.context===i[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Hf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Hf(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function La(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;bn(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&Ff(i,t,a,l),i.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){Hs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Jg(Hs,t)}function hc(t,i){return Hs===null&&Fs(t),Jg(t,i)}function Jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var dS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mS=r.unstable_scheduleCallback,pS=r.unstable_NormalPriority,Nt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new dS,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&mS(pS,function(){t.controller.abort()})}var hl=null,Qf=0,Ua=0,za=null;function gS(t,i){if(hl===null){var a=hl=[];Qf=0,Ua=$d(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(Wg,Wg),i}function Wg(){if(--Qf===0&&hl!==null){za!==null&&(za.status="fulfilled");var t=hl;hl=null,Ua=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=K.S;K.S=function(t,i){P_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gS(t,i),Zg!==null&&Zg(t,i)};var Gs=P(null);function Kf(){var t=Gs.current;return t!==null?t:nt.pooledCache}function fc(t,i){i===null?ae(Gs,Gs.current):ae(Gs,i.pool)}function ey(){var t=Kf();return t===null?null:{parent:Nt._currentValue,pool:t}}var ja=Error(s(460)),Yf=Error(s(474)),dc=Error(s(542)),mc={then:function(){}};function ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ny(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw Ks=i,ja}}function Qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,ja):a}}var Ks=null;function iy(){if(Ks===null)throw Error(s(459));var t=Ks;return Ks=null,t}function ry(t){if(t===ja||t===dc)throw Error(s(483))}var Ba=null,fl=0;function pc(t){var i=fl;return fl+=1,Ba===null&&(Ba=[]),ny(Ba,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sy(t){function i(z,V){if(t){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=Gi(z,V),z.index=0,z.sibling=null,z}function d(z,V,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=67108866,V):H):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,V,H,J){return V===null||V.tag!==6?(V=Pf(H,z.mode,J),V.return=z,V):(V=f(V,H),V.return=z,V)}function O(z,V,H,J){var ye=H.type;return ye===j?X(z,V,H.props.children,J,H.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Qs(ye)===V.type)?(V=f(V,H.props),dl(V,H),V.return=z,V):(V=lc(H.type,H.key,H.props,null,z.mode,J),dl(V,H),V.return=z,V)}function F(z,V,H,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Lf(H,z.mode,J),V.return=z,V):(V=f(V,H.children||[]),V.return=z,V)}function X(z,V,H,J,ye){return V===null||V.tag!==7?(V=Bs(H,z.mode,J,ye),V.return=z,V):(V=f(V,H),V.return=z,V)}function ee(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Pf(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return H=lc(V.type,V.key,V.props,null,z.mode,H),dl(H,V),H.return=z,H;case k:return V=Lf(V,z.mode,H),V.return=z,V;case R:return V=Qs(V),ee(z,V,H)}if(ge(V)||I(V))return V=Bs(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return ee(z,pc(V),H);if(V.$$typeof===Q)return ee(z,hc(z,V),H);gc(z,V)}return null}function G(z,V,H,J){var ye=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:S(z,V,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===ye?O(z,V,H,J):null;case k:return H.key===ye?F(z,V,H,J):null;case R:return H=Qs(H),G(z,V,H,J)}if(ge(H)||I(H))return ye!==null?null:X(z,V,H,J,null);if(typeof H.then=="function")return G(z,V,pc(H),J);if(H.$$typeof===Q)return G(z,V,hc(z,H),J);gc(z,H)}return null}function $(z,V,H,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,S(V,z,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return z=z.get(J.key===null?H:J.key)||null,O(V,z,J,ye);case k:return z=z.get(J.key===null?H:J.key)||null,F(V,z,J,ye);case R:return J=Qs(J),$(z,V,H,J,ye)}if(ge(J)||I(J))return z=z.get(H)||null,X(V,z,J,ye,null);if(typeof J.then=="function")return $(z,V,H,pc(J),ye);if(J.$$typeof===Q)return $(z,V,H,hc(V,J),ye);gc(V,J)}return null}function de(z,V,H,J){for(var ye=null,Fe=null,me=V,xe=V=0,Pe=null;me!==null&&xe<H.length;xe++){me.index>xe?(Pe=me,me=null):Pe=me.sibling;var Ge=G(z,me,H[xe],J);if(Ge===null){me===null&&(me=Pe);break}t&&me&&Ge.alternate===null&&i(z,me),V=d(Ge,V,xe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,me=Pe}if(xe===H.length)return a(z,me),je&&Qi(z,xe),ye;if(me===null){for(;xe<H.length;xe++)me=ee(z,H[xe],J),me!==null&&(V=d(me,V,xe),Fe===null?ye=me:Fe.sibling=me,Fe=me);return je&&Qi(z,xe),ye}for(me=l(me);xe<H.length;xe++)Pe=$(me,z,xe,H[xe],J),Pe!==null&&(t&&Pe.alternate!==null&&me.delete(Pe.key===null?xe:Pe.key),V=d(Pe,V,xe),Fe===null?ye=Pe:Fe.sibling=Pe,Fe=Pe);return t&&me.forEach(function($r){return i(z,$r)}),je&&Qi(z,xe),ye}function ve(z,V,H,J){if(H==null)throw Error(s(151));for(var ye=null,Fe=null,me=V,xe=V=0,Pe=null,Ge=H.next();me!==null&&!Ge.done;xe++,Ge=H.next()){me.index>xe?(Pe=me,me=null):Pe=me.sibling;var $r=G(z,me,Ge.value,J);if($r===null){me===null&&(me=Pe);break}t&&me&&$r.alternate===null&&i(z,me),V=d($r,V,xe),Fe===null?ye=$r:Fe.sibling=$r,Fe=$r,me=Pe}if(Ge.done)return a(z,me),je&&Qi(z,xe),ye;if(me===null){for(;!Ge.done;xe++,Ge=H.next())Ge=ee(z,Ge.value,J),Ge!==null&&(V=d(Ge,V,xe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return je&&Qi(z,xe),ye}for(me=l(me);!Ge.done;xe++,Ge=H.next())Ge=$(me,z,xe,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?xe:Ge.key),V=d(Ge,V,xe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(IA){return i(z,IA)}),je&&Qi(z,xe),ye}function tt(z,V,H,J){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var ye=H.key;V!==null;){if(V.key===ye){if(ye=H.type,ye===j){if(V.tag===7){a(z,V.sibling),J=f(V,H.props.children),J.return=z,z=J;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Qs(ye)===V.type){a(z,V.sibling),J=f(V,H.props),dl(J,H),J.return=z,z=J;break e}a(z,V);break}else i(z,V);V=V.sibling}H.type===j?(J=Bs(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=lc(H.type,H.key,H.props,null,z.mode,J),dl(J,H),J.return=z,z=J)}return v(z);case k:e:{for(ye=H.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(z,V.sibling),J=f(V,H.children||[]),J.return=z,z=J;break e}else{a(z,V);break}else i(z,V);V=V.sibling}J=Lf(H,z.mode,J),J.return=z,z=J}return v(z);case R:return H=Qs(H),tt(z,V,H,J)}if(ge(H))return de(z,V,H,J);if(I(H)){if(ye=I(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),ve(z,V,H,J)}if(typeof H.then=="function")return tt(z,V,pc(H),J);if(H.$$typeof===Q)return tt(z,V,hc(z,H),J);gc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(z,V.sibling),J=f(V,H),J.return=z,z=J):(a(z,V),J=Pf(H,z.mode,J),J.return=z,z=J),v(z)):a(z,V)}return function(z,V,H,J){try{fl=0;var ye=tt(z,V,H,J);return Ba=null,ye}catch(me){if(me===ja||me===dc)throw me;var Fe=Sn(29,me,null,z.mode);return Fe.lanes=J,Fe.return=z,Fe}finally{}}}var Ys=sy(!0),ay=sy(!1),Or=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=oc(t),Hg(t,null,a),i}return ac(t,l,i,a),oc(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}function Jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function pl(){if(Wf){var t=za;if(t!==null)throw t}}function gl(t,i,a,l){Wf=!1;var f=t.updateQueue;Or=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,F=O.next;O.next=null,v===null?d=F:v.next=F,v=O;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=F:S.next=F,X.lastBaseUpdate=O))}if(d!==null){var ee=f.baseState;v=0,X=F=O=null,S=d;do{var G=S.lane&-536870913,$=G!==S.lane;if($?(Ve&G)===G:(l&G)===G){G!==0&&G===Ua&&(Wf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,ve=S;G=i;var tt=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){ee=de.call(tt,ee,G);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,G=typeof de=="function"?de.call(tt,ee,G):de,G==null)break e;ee=T({},ee,G);break e;case 2:Or=!0}}G=S.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[G]:$.push(G))}else $={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(F=X=$,O=ee):X=X.next=$,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);X===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),zr|=v,t.lanes=v,t.memoizedState=ee}}function oy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ly(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)oy(a[t],i)}var qa=P(null),yc=P(0);function uy(t,i){t=ir,ae(yc,t),ae(qa,i),ir=t|i.baseLanes}function Zf(){ae(yc,ir),ae(qa,qa.current)}function ed(){ir=yc.current,Z(qa),Z(yc)}var An=P(null),Bn=null;function Vr(t){var i=t.alternate;ae(vt,vt.current&1),ae(An,t),Bn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Bn=t)}function td(t){ae(vt,vt.current),ae(An,t),Bn===null&&(Bn=t)}function cy(t){t.tag===22?(ae(vt,vt.current),ae(An,t),Bn===null&&(Bn=t)):Pr()}function Pr(){ae(vt,vt.current),ae(An,An.current)}function wn(t){Z(An),Bn===t&&(Bn=null),Z(vt)}var vt=P(0);function _c(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||om(a)||lm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ie=null,Ze=null,xt=null,vc=!1,Ha=!1,$s=!1,Ec=0,yl=0,Fa=null,_S=0;function dt(){throw Error(s(321))}function nd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function id(t,i,a,l,f,d){return $i=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Ky:_d,$s=!1,d=a(l,f),$s=!1,Ha&&(d=fy(i,a,l,f)),hy(t),d}function hy(t){K.H=El;var i=Ze!==null&&Ze.next!==null;if($i=0,xt=Ze=Ie=null,vc=!1,yl=0,Fa=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&cc(t)&&(Dt=!0))}function fy(t,i,a,l){Ie=t;var f=0;do{if(Ha&&(Fa=null),yl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,xt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Yy,d=i(a,l)}while(Ha);return d}function vS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?_l(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function rd(){var t=Ec!==0;return Ec=0,t}function sd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ad(t){if(vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}vc=!1}$i=0,xt=Ze=Ie=null,Ha=!1,yl=Ec=0,Fa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ie.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=xt===null?Ie.memoizedState:xt.next;if(i!==null)xt=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?Ie.memoizedState=xt=t:xt=xt.next=t}return xt}function Tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var i=yl;return yl+=1,Fa===null&&(Fa=[]),t=ny(Fa,t,i),i=Ie,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ky:_d),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===Q)return $t(t)}throw Error(s(438,String(t)))}function od(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=Et();return ld(i,Ze,t)}function ld(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=v=null,O=null,F=i,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ve&ee)===ee:($i&ee)===ee){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ua&&(X=!0);else if(($i&G)===G){F=F.next,G===Ua&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(S=O=ee,v=d):O=O.next=ee,Ie.lanes|=G,zr|=G;ee=F.action,$s&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(S=O=G,v=d):O=O.next=G,Ie.lanes|=ee,zr|=ee;F=F.next}while(F!==null&&F!==i);if(O===null?v=d:O.next=S,!bn(d,t.memoizedState)&&(Dt=!0,X&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);bn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(t,i,a){var l=Ie,f=Et(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!bn((Ze||f).memoizedState,a);if(v&&(f.memoizedState=a,Dt=!0),f=f.queue,fd(gy.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},py.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||($i&127)!==0||my(l,i,a)}return a}function my(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Tc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function py(t,i,a,l){i.value=a,i.getSnapshot=l,yy(i)&&_y(t)}function gy(t,i,a){return a(function(){yy(i)&&_y(t)})}function yy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function _y(t){var i=js(t,2);i!==null&&gn(i,t,2)}function cd(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),$s){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function vy(t,i,a,l){return t.baseState=a,ld(t,Ze,typeof l=="function"?l:Xi)}function ES(t,i,a,l,f){if(Rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ey(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var S=a(f,l),O=K.S;O!==null&&O(v,S),Ty(t,i,S)}catch(F){hd(t,i,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),K.T=d}}else try{d=a(f,l),Ty(t,i,d)}catch(F){hd(t,i,F)}}function Ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,i,l)},function(l){return hd(t,i,l)}):by(t,i,a)}function by(t,i,a){i.status="fulfilled",i.value=a,Sy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ey(t,a)))}function hd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sy(i),i=i.next;while(i!==l)}t.action=null}function Sy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ay(t,i){return i}function wy(t,i){if(je){var a=nt.formState;if(a!==null){e:{var l=Ie;if(je){if(rt){t:{for(var f=rt,d=jn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=qn(f.nextSibling),l=f.data==="F!";break e}}xr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},a.queue=l,a=Fy.bind(null,Ie,l),l.dispatch=a,l=cd(!1),d=yd.bind(null,Ie,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=ES.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ry(t){var i=Et();return Cy(i,Ze,t)}function Cy(t,i,a){if(i=ld(t,i,Ay)[0],t=Sc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=_l(i)}catch(v){throw v===ja?dc:v}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ga(9,{destroy:void 0},TS.bind(null,f,a),null)),[l,d,t]}function TS(t,i){t.action=i}function Iy(t){var i=Et(),a=Ze;if(a!==null)return Cy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Tc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ny(){return Et().memoizedState}function Ac(t,i,a,l){var f=un();Ie.flags|=t,f.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(t,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&nd(l,Ze.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Ie.flags|=t,f.memoizedState=Ga(1|i,d,a,l))}function xy(t,i){Ac(8390656,8,t,i)}function fd(t,i){wc(2048,8,t,i)}function bS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Tc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Dy(t){var i=Et().memoizedState;return bS({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Oy(t,i){return wc(4,2,t,i)}function My(t,i){return wc(4,4,t,i)}function ky(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vy(t,i,a){a=a!=null?a.concat([t]):null,wc(4,4,ky.bind(null,i,t),a)}function dd(){}function Py(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ly(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=t(),$s){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function md(t,i,a){return a===void 0||($i&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=U_(),Ie.lanes|=t,zr|=t,a)}function Uy(t,i,a,l){return bn(a,i)?a:qa.current!==null?(t=md(t,a,l),bn(t,i)||(Dt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Ve&261930)===0?(Dt=!0,t.memoizedState=a):(t=U_(),Ie.lanes|=t,zr|=t,i)}function zy(t,i,a,l,f){var d=re.p;re.p=d!==0&&8>d?d:8;var v=K.T,S={};K.T=S,yd(t,!1,i,a);try{var O=f(),F=K.S;if(F!==null&&F(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=yS(O,l);vl(t,i,X,In(t))}else vl(t,i,l,In(t))}catch(ee){vl(t,i,{then:function(){},status:"rejected",reason:ee},In())}finally{re.p=d,v!==null&&S.types!==null&&(v.types=S.types),K.T=v}}function SS(){}function pd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=jy(t).queue;zy(t,f,i,pe,a===null?SS:function(){return By(t),a(l)})}function jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function By(t){var i=jy(t);i.next===null&&(i=t.alternate.memoizedState),vl(t,i.next.queue,{},In())}function gd(){return $t(Pl)}function qy(){return Et().memoizedState}function Hy(){return Et().memoizedState}function AS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Mr(a);var l=kr(i,t,a);l!==null&&(gn(l,i,a),ml(l,i,a)),i={cache:Gf()},t.payload=i;return}i=i.return}}function wS(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?Gy(i,a):(a=kf(t,i,a,l),a!==null&&(gn(a,t,l),Qy(a,i,l)))}function Fy(t,i,a){var l=In();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))Gy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(f.hasEagerState=!0,f.eagerState=S,bn(S,v))return ac(t,i,f,0),nt===null&&sc(),!1}catch{}finally{}if(a=kf(t,i,f,l),a!==null)return gn(a,t,l),Qy(a,i,l),!0}return!1}function yd(t,i,a,l){if(l={lane:2,revertLane:$d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(i)throw Error(s(479))}else i=kf(t,a,l,2),i!==null&&gn(i,t,2)}function Rc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Gy(t,i){Ha=vc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Bo(t,a)}}var El={readContext:$t,use:bc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};El.useEffectEvent=dt;var Ky={readContext:$t,use:bc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,ky.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if($s){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if($s){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=wS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=cd(t);var i=t.queue,a=Fy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(t,i){var a=un();return md(a,t,i)},useTransition:function(){var t=cd(!1);return t=zy.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=un();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||my(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,xy(gy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},py.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=nt.identifierPrefix;if(je){var a=xi,l=Ni;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_S++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gd,useFormState:wy,useActionState:wy,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:od,useCacheRefresh:function(){return un().memoizedState=AS.bind(null,Ie)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},_d={readContext:$t,use:bc,useCallback:Py,useContext:$t,useEffect:fd,useImperativeHandle:Vy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:Sc,useRef:Ny,useState:function(){return Sc(Xi)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Et();return Uy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Sc(Xi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var a=Et();return vy(a,Ze,t,i)},useMemoCache:od,useCacheRefresh:Hy};_d.useEffectEvent=Dy;var Yy={readContext:$t,use:bc,useCallback:Py,useContext:$t,useEffect:fd,useImperativeHandle:Vy,useInsertionEffect:Oy,useLayoutEffect:My,useMemo:Ly,useReducer:ud,useRef:Ny,useState:function(){return ud(Xi)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Et();return Ze===null?md(a,t,i):Uy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ud(Xi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:_l(t),i]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=Et();return Ze!==null?vy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Hy};Yy.useEffectEvent=Dy;function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ed={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),f=Mr(l);f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(gn(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),f=Mr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(gn(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(gn(i,t,a),ml(i,t,a))}};function $y(t,i,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function Xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Ed.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Jy(t){rc(t)}function Wy(t){console.error(t)}function Zy(t){rc(t)}function Cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,i)},a}function t_(t){return t=Mr(t),t.tag=3,t}function n_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){e_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){e_(i,a,l),typeof f!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function RS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&La(i,a,f,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?zc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Qd(t,l,f)),!1;case 22:return a.flags|=65536,l===mc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Qd(t,l,f)),!1}throw Error(s(435,a.tag))}return Qd(t,l,f),zc(),!1}if(je)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==jf&&(t=Error(s(422),{cause:l}),ul(Ln(t,a)))):(l!==jf&&(i=Error(s(423),{cause:l}),ul(Ln(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=Td(t.stateNode,l,f),Jf(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),Il===null?Il=[d]:Il.push(d),mt!==4&&(mt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Td(a.stateNode,l,t),Jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),n_(f,t,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var bd=Error(s(461)),Dt=!1;function Xt(t,i,a,l){i.child=t===null?ay(i,null,a,l):Ys(i,t.child,a,l)}function i_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Fs(i),l=id(t,i,a,v,d,f),S=rd(),t!==null&&!Dt?(sd(t,i,f),Ji(t,i,f)):(je&&S&&Uf(i),i.flags|=1,Xt(t,i,l,f),i.child)}function r_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,s_(t,i,d,l,f)):(t=lc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!xd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===i.ref)return Ji(t,i,f)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function s_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,xd(t,f))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Ji(t,i,f)}return Sd(t,i,a,l,f)}function a_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return o_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,d!==null?d.cachePool:null),d!==null?uy(i,d):Zf(),cy(i);else return l=i.lanes=536870912,o_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(fc(i,d.cachePool),uy(i,d),Pr(),i.memoizedState=null):(t!==null&&fc(i,null),Zf(),Pr());return Xt(t,i,f,a),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function o_(t,i,a,l,f){var d=Kf();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&fc(i,null),Zf(),cy(i),t!==null&&La(t,i,l,!0),i.childLanes=f,null}function Ic(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function l_(t,i,a){return Ys(i,t.child,null,a),t=Ic(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function CS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=Ic(i,l),i.lanes=536870912,Tl(null,t);if(td(i),(t=rt)?(t=Ev(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return Ic(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(td(i),f)if(i.flags&256)i.flags&=-257,i=l_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Dt||La(t,i,a,!1),f=(a&t.childLanes)!==0,Dt||f){if(l=nt,l!==null&&(v=qo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,js(t,v),gn(l,t,v),bd;zc(),i=l_(t,i,a)}else t=d.treeContext,rt=qn(v.nextSibling),Yt=i,je=!0,Nr=null,jn=!1,t!==null&&Yg(i,t),i=Ic(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Nc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sd(t,i,a,l,f){return Fs(i),a=id(t,i,a,l,void 0,f),l=rd(),t!==null&&!Dt?(sd(t,i,f),Ji(t,i,f)):(je&&l&&Uf(i),i.flags|=1,Xt(t,i,a,f),i.child)}function u_(t,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=fy(i,l,a,f),hy(t),l=rd(),t!==null&&!Dt?(sd(t,i,d),Ji(t,i,d)):(je&&l&&Uf(i),i.flags|=1,Xt(t,i,a,d),i.child)}function c_(t,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},$f(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(vd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ed.enqueueReplaceState(d,d.state,null),gl(i,l,d,f),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,O=Xs(a,S);d.props=O;var F=d.context,X=a.contextType;v=Ma,typeof X=="object"&&X!==null&&(v=$t(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==v)&&Xy(i,d,l,v),Or=!1;var G=i.memoizedState;d.state=G,gl(i,l,d,f),pl(),F=i.memoizedState,S||G!==F||Or?(typeof ee=="function"&&(vd(i,a,ee,l),F=i.memoizedState),(O=Or||$y(i,a,O,l,G,F,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Xf(t,i),v=i.memoizedProps,X=Xs(a,v),d.props=X,ee=i.pendingProps,G=d.context,F=a.contextType,O=Ma,typeof F=="object"&&F!==null&&(O=$t(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||G!==O)&&Xy(i,d,l,O),Or=!1,G=i.memoizedState,d.state=G,gl(i,l,d,f),pl();var $=i.memoizedState;v!==ee||G!==$||Or||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof S=="function"&&(vd(i,a,S,l),$=i.memoizedState),(X=Or||$y(i,a,X,l,G,$,O)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,O)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=O,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Nc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,f),i.child=Ys(i,null,a,f)):Xt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ji(t,i,f),t}function h_(t,i,a,l){return qs(),i.flags|=256,Xt(t,i,a,l),i.child}var Ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:ey()}}function Rd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Cn),t}function f_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(f?Vr(i):Pr(),(t=rt)?(t=Ev(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw xr(i);return lm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Pr(),f=i.mode,S=xc({mode:"hidden",children:S},f),l=Bs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,v,a),i.memoizedState=Ad,Tl(null,l)):(Vr(i),Cd(i,S))}var O=t.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=Id(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),S=l.fallback,f=i.mode,l=xc({mode:"visible",children:l.children},f),S=Bs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=Rd(t,v,a),i.memoizedState=Ad,i=Tl(null,l));else if(Vr(i),lm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),i=Id(t,i,a)}else if(Dt||La(t,i,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=nt,v!==null&&(l=qo(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,js(t,l),gn(v,t,l),bd;om(S)||zc(),i=Id(t,i,a)}else om(S)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=qn(S.nextSibling),Yt=i,je=!0,Nr=null,jn=!1,t!==null&&Yg(i,t),i=Cd(i,l.children),i.flags|=4096);return i}return f?(Pr(),S=l.fallback,f=i.mode,O=t.child,F=O.sibling,l=Gi(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?S=Gi(F,S):(S=Bs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Tl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=wd(a):(f=S.cachePool,f!==null?(O=Nt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=ey(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Rd(t,v,a),i.memoizedState=Ad,Tl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Cd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=Sn(22,t,null,i),t.lanes=0,t}function Id(t,i,a){return Ys(i,t.child,null,a),t=Cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function d_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Hf(t.return,i,a)}function Nd(t,i,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function m_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=vt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,ae(vt,v),Xt(t,i,l,a),l=je?ll:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,a,i);else if(t.tag===19)d_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Nd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&_c(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Nd(i,!0,a,null,d,l);break;case"together":Nd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(La(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function IS(t,i,a){switch(i.tag){case 3:Ut(i,i.stateNode.containerInfo),Dr(i,Nt,t.memoizedState.cache),qs();break;case 27:case 5:bs(i);break;case 4:Ut(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,td(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?f_(t,i,a):(Vr(i),t=Ji(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(La(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return m_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(vt,vt.current),l)break;return null;case 22:return i.lanes=0,a_(t,i,a,i.pendingProps);case 24:Dr(i,Nt,t.memoizedState.cache)}return Ji(t,i,a)}function p_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!xd(t,a)&&(i.flags&128)===0)return Dt=!1,IS(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,je&&(i.flags&1048576)!==0&&Kg(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Qs(i.elementType),i.type=t,typeof t=="function")Vf(t)?(l=Xs(t,l),i.tag=1,i=c_(null,i,t,l,a)):(i.tag=0,i=Sd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===oe){i.tag=11,i=i_(null,i,t,l,a);break e}else if(f===N){i.tag=14,i=r_(null,i,t,l,a);break e}}throw i=Ee(t)||t,Error(s(306,i,""))}}return i;case 0:return Sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Xs(l,i.pendingProps),c_(t,i,l,f,a);case 3:e:{if(Ut(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Xf(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Dr(i,Nt,l),l!==d.cache&&Ff(i,[Nt],a,!0),pl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=h_(t,i,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),i),ul(f),i=h_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=qn(t.firstChild),Yt=i,je=!0,Nr=null,jn=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===f){i=Ji(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Nc(t,i),t===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Qc(Ne.current).createElement(a),l[Rt]=i,l[qt]=t,Jt(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=Rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bs(i),t===null&&je&&(l=i.stateNode=Sv(i.type,i.pendingProps,Ne.current),Yt=i,jn=!0,f=rt,Fr(i.type)?(um=f,rt=qn(l.firstChild)):rt=f),Xt(t,i,i.pendingProps.children,a),Nc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((f=l=rt)&&(l=rA(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Yt=i,rt=qn(l.firstChild),jn=!1,f=!0):f=!1),f||xr(i)),bs(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,rm(f,d)?l=null:v!==null&&rm(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=id(t,i,vS,null,null,a),Pl._currentValue=f),Nc(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=rt)&&(a=sA(a,i.pendingProps,jn),a!==null?(i.stateNode=a,Yt=i,rt=null,t=!0):t=!1),t||xr(i)),null;case 13:return f_(t,i,a);case 4:return Ut(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return i_(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=$t(f),l=l(f),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return r_(t,i,i.type,i.pendingProps,a);case 15:return s_(t,i,i.type,i.pendingProps,a);case 19:return m_(t,i,a);case 31:return CS(t,i,a);case 22:return a_(t,i,a,i.pendingProps);case 24:return Fs(i),l=$t(Nt),t===null?(f=Kf(),f===null&&(f=nt,d=Gf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},$f(i),Dr(i,Nt,f)):((t.lanes&a)!==0&&(Xf(t,i),gl(i,null,null,a),pl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Dr(i,Nt,l)):(l=d.cache,Dr(i,Nt,l),l!==f.cache&&Ff(i,[Nt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Dd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(q_())t.flags|=8192;else throw Ks=mc,Yf}else t.flags&=-16777217}function g_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(i))if(q_())t.flags|=8192;else throw Ks=mc,Yf}function Dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lu():536870912,t.lanes|=i,$a|=i)}function bl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function NS(t,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bf())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(st(i),g_(i,d)):(st(i),Dd(i,f,null,l,a))):d?d!==t.memoizedState?(Wi(i),st(i),g_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),st(i),Dd(i,f,t,l,a)),null;case 27:if(ma(i),a=Ne.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,Pa(i)?$g(i):(t=Sv(f,l,a),i.stateNode=t,Wi(i))}return st(i),null;case 5:if(ma(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=ce.current,Pa(i))$g(i);else{var v=Qc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Rt]=i,d[qt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Jt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return st(i),Dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ne.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(t.nodeValue,a)),t||xr(i,!0)}else t=Qc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),st(i),null);case 4:return ot(),t===null&&Zd(i.stateNode.containerInfo),st(i),null;case 10:return Yi(i.type),st(i),null;case 19:if(Z(vt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)bl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=_c(t),d!==null){for(i.flags|=128,bl(l,!1),t=d.updateQueue,i.updateQueue=t,Dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fg(a,t),a=a.sibling;return ae(vt,vt.current&1|2),je&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Pc&&(i.flags|=128,f=!0,bl(l,!1),i.lanes=4194304)}else{if(!f)if(t=_c(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Dc(i,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return st(i),null}else 2*on()-l.renderingStartTime>Pc&&a!==536870912&&(i.flags|=128,f=!0,bl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=vt.current,ae(vt,f?a&1|2:a&1),je&&Qi(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return wn(i),ed(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Nt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function xS(t,i){switch(zf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Nt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(vt),null;case 4:return ot(),null;case 10:return Yi(i.type),null;case 22:case 23:return wn(i),ed(),t!==null&&Z(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Nt),null;case 25:return null;default:return null}}function y_(t,i){switch(zf(i),i.tag){case 3:Yi(Nt),ot();break;case 26:case 27:case 5:ma(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:Z(vt);break;case 10:Yi(i.type);break;case 22:case 23:wn(i),ed(),t!==null&&Z(Gs);break;case 24:Yi(Nt)}}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){Je(i,i.return,S)}}function Lr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var O=a,F=S;try{F()}catch(X){Je(f,O,X)}}}l=l.next}while(l!==d)}}catch(X){Je(i,i.return,X)}}function __(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ly(i,a)}catch(l){Je(t,t.return,l)}}}function v_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Je(t,i,f)}}function Di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function E_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Od(t,i,a){try{var l=t.stateNode;WS(l,t.type,a,i),l[qt]=i}catch(f){Je(t,t.return,f)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(kd(t,i,a),t=t.sibling;t!==null;)kd(t,i,a),t=t.sibling}function Oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Oc(t,i,a),t=t.sibling;t!==null;)Oc(t,i,a),t=t.sibling}function b_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,l,a),i[Rt]=t,i[qt]=a}catch(d){Je(t,t.return,d)}}var Zi=!1,Ot=!1,Vd=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function DS(t,i){if(t=t.containerInfo,nm=Zc,t=Vg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,O=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var $;ee!==a||f!==0&&ee.nodeType!==3||(S=v+f),ee!==d||l!==0&&ee.nodeType!==3||(O=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),($=ee.firstChild)!==null;)G=ee,ee=$;for(;;){if(ee===t)break t;if(G===a&&++F===f&&(S=v),G===d&&++X===l&&(O=v),($=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=$}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:t,selectionRange:a},Zc=!1,Ft=i;Ft!==null;)if(i=Ft,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ft=t;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Xs(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Je(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ft=t;break}Ft=i.return}}function A_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&Sl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var f=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&__(a),l&512&&Al(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ly(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&b_(a);case 26:case 5:tr(t,a),i===null&&l&4&&E_(a),l&512&&Al(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&C_(t,a);break;case 13:tr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jS.bind(null,a),aA(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ot,f=Zi;var d=Ot;Zi=l,(Ot=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Zi=f,Ot=d}break;case 30:break;default:tr(t,a)}}function w_(t){var i=t.alternate;i!==null&&(t.alternate=null,w_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function er(t,i,a){for(a=a.child;a!==null;)R_(t,i,a),a=a.sibling}function R_(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Ot||Di(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Di(a,i);var l=ut,f=fn;Fr(a.type)&&(ut=a.stateNode,fn=!1),er(t,i,a),Ml(a.stateNode),ut=l,fn=f;break;case 5:Ot||Di(a,i);case 6:if(l=ut,f=fn,ut=null,er(t,i,a),ut=l,fn=f,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ut!==null&&(fn?(t=ut,_v(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):_v(ut,a.stateNode));break;case 4:l=ut,f=fn,ut=a.stateNode.containerInfo,fn=!0,er(t,i,a),ut=l,fn=f;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Ot||Lr(4,a,i),er(t,i,a);break;case 1:Ot||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,er(t,i,a),Ot=l;break;default:er(t,i,a)}}function C_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){Je(i,i.return,a)}}}function I_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){Je(i,i.return,a)}}function OS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new S_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new S_),i;default:throw Error(s(435,t.tag))}}function Mc(t,i){var a=OS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=BS.bind(null,t,l);l.then(f,f)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(Fr(S.type)){ut=S.stateNode,fn=!1;break e}break;case 5:ut=S.stateNode,fn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,fn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));R_(d,v,f),ut=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)N_(i,t),i=i.sibling}var ni=null;function N_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(Lr(3,t,t.return),Sl(3,t),Lr(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(Ot||a===null||Di(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(dn(i,t),mn(t),l&512&&(Ot||a===null||Di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var v=Nv("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Nv("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else xv(f,t.type,t.stateNode);else t.stateNode=Iv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?xv(f,t.type,t.stateNode):Iv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Od(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(Ot||a===null||Di(a,a.return)),a!==null&&l&4&&Od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(Ot||a===null||Di(a,a.return)),t.flags&32){f=t.stateNode;try{hn(f,"")}catch(de){Je(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Od(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Vd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Je(t,t.return,de)}}break;case 3:if($c=null,f=ni,ni=Kc(i.containerInfo),dn(i,t),ni=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(de){Je(t,t.return,de)}Vd&&(Vd=!1,x_(t));break;case 4:l=ni,ni=Kc(t.stateNode.containerInfo),dn(i,t),mn(t),ni=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=Zi,X=Ot;if(Zi=F||f,Ot=X||O,dn(i,t),Ot=X,Zi=F,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||Zi||Ot||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){Je(O,O.return,de)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){Je(O,O.return,de)}}}else if(i.tag===18){if(a===null){O=i;try{var $=O.stateNode;f?vv($,!0):vv(O.stateNode,!1)}catch(de){Je(O,O.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mc(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mc(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Md(t);Oc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var S=Md(t);Oc(t,S,v);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Md(t);kd(t,F,O);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;x_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)A_(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Js(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v_(i,i.return,a),Js(i);break;case 27:Ml(i.stateNode);case 26:case 5:Di(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:nr(f,d,a),Sl(4,d);break;case 1:if(nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){Je(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)oy(O[f],S)}catch(F){Je(l,l.return,F)}}a&&v&64&&__(d),Al(d,d.return);break;case 27:b_(d);case 26:case 5:nr(f,d,a),a&&l===null&&v&4&&E_(d),Al(d,d.return);break;case 12:nr(f,d,a);break;case 31:nr(f,d,a),a&&v&4&&C_(f,d);break;case 13:nr(f,d,a),a&&v&4&&I_(f,d);break;case 22:d.memoizedState===null&&nr(f,d,a),Al(d,d.return);break;case 30:break;default:nr(f,d,a)}i=i.sibling}}function Pd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function Ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(t,i,a,l),i=i.sibling}function D_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&Sl(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Je(i,i.return,O)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):wl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Qa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Pd(v,i);break;case 24:ii(t,i,a,l),f&2048&&Ld(i.alternate,i);break;default:ii(t,i,a,l)}}function Qa(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=a,O=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:Qa(d,v,S,O,f),Sl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Qa(d,v,S,O,f):wl(d,v):(X._visibility|=2,Qa(d,v,S,O,f)),f&&F&2048&&Pd(v.alternate,v);break;case 24:Qa(d,v,S,O,f),f&&F&2048&&Ld(v.alternate,v);break;default:Qa(d,v,S,O,f)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Pd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Ld(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Ka(t,i,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)O_(t,i,a),t=t.sibling}function O_(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&Rl&&t.memoizedState!==null&&_A(a,ni,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var l=ni;ni=Kc(t.stateNode.containerInfo),Ka(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,Ka(t,i,a),Rl=l):Ka(t,i,a));break;default:Ka(t,i,a)}}function M_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,V_(l,t)}M_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)k_(t),t=t.sibling}function k_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,kc(t)):Cl(t);break;default:Cl(t)}}function kc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,V_(l,t)}M_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),kc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,kc(i));break;default:kc(i)}t=t.sibling}}function V_(t,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=t;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(w_(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var MS={getCacheForType:function(t){var i=$t(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Nt).controller.signal}},kS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Ve=0,Xe=0,Rn=null,Ur=!1,Ya=!1,Ud=!1,ir=0,mt=0,zr=0,Ws=0,zd=0,Cn=0,$a=0,Il=null,pn=null,jd=!1,Vc=0,P_=0,Pc=1/0,Lc=null,jr=null,jt=0,Br=null,Xa=null,rr=0,Bd=0,qd=null,L_=null,Nl=0,Hd=null;function In(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:K.T!==null?$d():Uu()}function U_(){if(Cn===0)if((Ve&536870912)===0||je){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),Cn=t}else Cn=536870912;return t=An.current,t!==null&&(t.flags|=32),Cn}function gn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),qr(t,Ve,Cn,!1)),Rs(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Ws|=a),mt===4&&qr(t,Ve,Cn,!1)),Oi(t))}function z_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?LS(t,i):Gd(t,i,!0),d=l;do{if(f===0){Ya&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!VS(a)){f=Gd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;f=Il;var O=S.current.memoizedState.isDehydrated;if(O&&(Ja(S,v).flags|=256),v=Gd(S,v,!1),v!==2){if(Ud&&!O){S.errorRecoveryDisabledLanes|=d,Ws|=d,f=4;break e}d=pn,pn=f,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ja(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,Cn,!Ur);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vc+300-on(),10<f)){if(qr(l,i,Cn,!Ur),mi(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=gv(j_.bind(null,l,a,pn,Lc,jd,i,Cn,Ws,$a,Ur,d,"Throttled",-0,0),f);break e}j_(l,a,pn,Lc,jd,i,Cn,Ws,$a,Ur,d,null,-0,0)}}break}while(!0);Oi(t)}function j_(t,i,a,l,f,d,v,S,O,F,X,ee,G,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},O_(i,d,ee);var de=(d&62914560)===d?Vc-on():(d&4194048)===d?P_-on():0;if(de=vA(ee,de),de!==null){rr=d,t.cancelPendingCommit=de(Y_.bind(null,t,i,d,a,l,f,v,S,O,X,ee,null,G,$)),qr(t,d,v,!F);return}}Y_(t,i,d,a,l,f,v,S,O)}function VS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~zd,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Cs(t,a,i)}function Uc(){return(Ke&6)===0?(xl(0),!1):!0}function Fd(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Ki=Hs=null,ad(t),Ba=null,fl=0,t=De;for(;t!==null;)y_(t.alternate,t),t=t.return;De=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Fd(),nt=t,De=a=Gi(t.current,null),Ve=i,Xe=0,Rn=null,Ur=!1,Ya=Kn(t,i),Ud=!1,$a=Cn=zd=Ws=zr=mt=0,pn=Il=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=t[f],l&=~d}return ir=i,sc(),a}function B_(t,i){Ie=null,K.H=El,i===ja||i===dc?(i=iy(),Xe=3):i===Yf?(i=iy(),Xe=4):Xe=i===bd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,De===null&&(mt=1,Cc(t,Ln(i,t.current)))}function q_(){var t=An.current;return t===null?!0:(Ve&4194048)===Ve?Bn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Bn:!1}function H_(){var t=K.H;return K.H=El,t===null?El:t}function F_(){var t=K.A;return K.A=MS,t}function zc(){mt=4,Ur||(Ve&4194048)!==Ve&&An.current!==null||(Ya=!0),(zr&134217727)===0&&(Ws&134217727)===0||nt===null||qr(nt,Ve,Cn,!1)}function Gd(t,i,a){var l=Ke;Ke|=2;var f=H_(),d=F_();(nt!==t||Ve!==i)&&(Lc=null,Ja(t,i)),i=!1;var v=mt;e:do try{if(Xe!==0&&De!==null){var S=De,O=Rn;switch(Xe){case 8:Fd(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var F=Xe;if(Xe=0,Rn=null,Wa(t,S,O,F),a&&Ya){v=0;break e}break;default:F=Xe,Xe=0,Rn=null,Wa(t,S,O,F)}}PS(),v=mt;break}catch(X){B_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ki=Hs=null,Ke=l,K.H=f,K.A=d,De===null&&(nt=null,Ve=0,sc()),v}function PS(){for(;De!==null;)G_(De)}function LS(t,i){var a=Ke;Ke|=2;var l=H_(),f=F_();nt!==t||Ve!==i?(Lc=null,Pc=on()+500,Ja(t,i)):Ya=Kn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,Wa(t,i,d,1);break;case 2:case 9:if(ty(d)){Xe=0,Rn=null,Q_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Oi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ty(d)?(Xe=0,Rn=null,Q_(i)):(Xe=0,Rn=null,Wa(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var S=De;if(v?Dv(v):S.stateNode.complete){Xe=0,Rn=null;var O=S.sibling;if(O!==null)De=O;else{var F=S.return;F!==null?(De=F,jc(F)):De=null}break t}}Xe=0,Rn=null,Wa(t,i,d,5);break;case 6:Xe=0,Rn=null,Wa(t,i,d,6);break;case 8:Fd(),mt=6;break e;default:throw Error(s(462))}}US();break}catch(X){B_(t,X)}while(!0);return Ki=Hs=null,K.H=l,K.A=f,Ke=a,De!==null?0:(nt=null,Ve=0,sc(),mt)}function US(){for(;De!==null&&!Tf();)G_(De)}function G_(t){var i=p_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?jc(t):De=i}function Q_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=u_(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=u_(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:ad(i);default:y_(a,i),i=De=Fg(i,ir),i=p_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?jc(t):De=i}function Wa(t,i,a,l){Ki=Hs=null,ad(i),Ba=null,fl=0;var f=i.return;try{if(RS(t,f,i,a,Ve)){mt=1,Cc(t,Ln(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,Cc(t,Ln(a,t.current)),De=null;return}i.flags&32768?(je||l===1?t=!0:Ya||(Ve&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),K_(i,t)):jc(i)}function jc(t){var i=t;do{if((i.flags&32768)!==0){K_(i,Ur);return}t=i.return;var a=NS(i.alternate,i,ir);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);mt===0&&(mt=5)}function K_(t,i){do{var a=xS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);mt=6,De=null}function Y_(t,i,a,l,f,d,v,S,O){t.cancelPendingCommit=null;do Bc();while(jt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Mf,Af(t,a,d,v,S,O),t===nt&&(De=nt=null,Ve=0),Xa=i,Br=t,rr=a,Bd=d,qd=f,L_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qS(_r,function(){return Z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=re.p,re.p=2,v=Ke,Ke|=4;try{DS(t,i,a)}finally{Ke=v,re.p=f,K.T=l}}jt=1,$_(),X_(),J_()}}function $_(){if(jt===1){jt=0;var t=Br,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var f=Ke;Ke|=4;try{N_(i,t);var d=im,v=Vg(t.containerInfo),S=d.focusedElem,O=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&kg(S.ownerDocument.documentElement,S)){if(O!==null&&If(S)){var F=O.start,X=O.end;if(X===void 0&&(X=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var $=G.getSelection(),de=S.textContent.length,ve=Math.min(O.start,de),tt=O.end===void 0?ve:Math.min(O.end,de);!$.extend&&ve>tt&&(v=tt,tt=ve,ve=v);var z=Mg(S,ve),V=Mg(S,tt);if(z&&V&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),ve>tt?($.addRange(H),$.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),$.addRange(H))}}}}for(ee=[],$=S;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Zc=!!nm,im=nm=null}finally{Ke=f,re.p=l,K.T=a}}t.current=i,jt=2}}function X_(){if(jt===2){jt=0;var t=Br,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=re.p;re.p=2;var f=Ke;Ke|=4;try{A_(t,i.alternate,i)}finally{Ke=f,re.p=l,K.T=a}}jt=3}}function J_(){if(jt===4||jt===3){jt=0,Du();var t=Br,i=Xa,a=rr,l=L_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Xa=Br=null,W_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(jr=null),Bi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=re.p,re.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{K.T=i,re.p=f}}(rr&3)!==0&&Bc(),Oi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Hd?Nl++:(Nl=0,Hd=t):Nl=0,xl(0)}}function W_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function Bc(){return $_(),X_(),J_(),Z_()}function Z_(){if(jt!==5)return!1;var t=Br,i=Bd;Bd=0;var a=Bi(rr),l=K.T,f=re.p;try{re.p=32>a?32:a,K.T=null,a=qd,qd=null;var d=Br,v=rr;if(jt=0,Xa=Br=null,rr=0,(Ke&6)!==0)throw Error(s(331));var S=Ke;if(Ke|=4,k_(d.current),D_(d,d.current,v,a),Ke=S,xl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Qn,d)}catch{}return!0}finally{re.p=f,K.T=l,W_(t,i)}}function ev(t,i,a){i=Ln(a,i),i=Td(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(Rs(t,2),Oi(t))}function Je(t,i,a){if(t.tag===3)ev(t,t,a);else for(;i!==null;){if(i.tag===3){ev(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=Ln(a,t),a=t_(2),l=kr(i,a,2),l!==null&&(n_(a,l,i,t),Rs(l,2),Oi(l));break}}i=i.return}}function Qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Ud=!0,f.add(a),t=zS.bind(null,t,i,a),i.then(t,t))}function zS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>on()-Vc?(Ke&2)===0&&Ja(t,0):zd|=a,$a===Ve&&($a=0)),Oi(t)}function tv(t,i){i===0&&(i=Lu()),t=js(t,i),t!==null&&(Rs(t,i),Oi(t))}function jS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),tv(t,a)}function BS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),tv(t,a)}function qS(t,i){return zt(t,i)}var qc=null,Za=null,Kd=!1,Hc=!1,Yd=!1,Hr=0;function Oi(t){t!==Za&&t.next===null&&(Za===null?qc=Za=t:Za=Za.next=t),Hc=!0,Kd||(Kd=!0,FS())}function xl(t,i){if(!Yd&&Hc){Yd=!0;do for(var a=!1,l=qc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Ve,d=mi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Yd=!1}}function HS(){nv()}function nv(){Hc=Kd=!1;var t=0;Hr!==0&&eA()&&(t=Hr);for(var i=on(),a=null,l=qc;l!==null;){var f=l.next,d=iv(l,i);d===0?(l.next=null,a===null?qc=f:a.next=f,f===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Hc=!0)),l=f}jt!==0&&jt!==5||xl(t),Hr!==0&&(Hr=0)}function iv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-yt(d),S=1<<v,O=f[v];O===-1?((S&a)===0||(S&l)!==0)&&(f[v]=Sf(S,i)):O<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=Ve,a=mi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),Bi(a)){case 2:case 8:a=jo;break;case 32:a=_r;break;case 268435456:a=Ou;break;default:a=_r}return l=rv.bind(null,t),a=zt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function rv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var l=Ve;return l=mi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(z_(t,l,i),iv(t,on()),t.callbackNode!=null&&t.callbackNode===a?rv.bind(null,t):null)}function sv(t,i){if(Bc())return null;z_(t,i,!0)}function FS(){nA(function(){(Ke&6)!==0?zt(zo,HS):nv()})}function $d(){if(Hr===0){var t=Ua;t===0&&(t=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Hr=t}return Hr}function av(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function ov(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function GS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=av((f[qt]||null).action),v=l.submitter;v&&(i=(i=v[qt]||null)?av(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new wi("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var O=v?ov(f,v):new FormData(f);pd(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=v?ov(f,v):new FormData(f),pd(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Xd=0;Xd<Of.length;Xd++){var Jd=Of[Xd],QS=Jd.toLowerCase(),KS=Jd[0].toUpperCase()+Jd.slice(1);ti(QS,"on"+KS)}ti(Ug,"onAnimationEnd"),ti(zg,"onAnimationIteration"),ti(jg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(uS,"onTransitionRun"),ti(cS,"onTransitionStart"),ti(hS,"onTransitionCancel"),ti(Bg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function lv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],O=S.instance,F=S.currentTarget;if(S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch(X){rc(X)}f.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(S=l[v],O=S.instance,F=S.currentTarget,S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=F;try{d(f)}catch(X){rc(X)}f.currentTarget=null,d=O}}}}function Oe(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=t+"__bubble";a.has(l)||(uv(i,t,2,!1),a.add(l))}function Wd(t,i,a){var l=0;i&&(l|=4),uv(a,t,l,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Fc]){t[Fc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(YS.has(a)||Wd(a,!1,t),Wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,Wd("selectionchange",!1,i))}}function uv(t,i,a,l){switch(Uv(i)){case 2:var f=bA;break;case 8:f=SA;break;default:f=mm}a=f.bind(null,i,a,t),f=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function em(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=_i(S),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ar(function(){var F=d,X=Mn(a),ee=[];e:{var G=qg.get(t);if(G!==void 0){var $=wi,de=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":$=tc;break;case"focusin":de="focus",$=Ps;break;case"focusout":de="blur",$=Ps;break;case"beforeblur":case"afterblur":$=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Ug:case zg:case jg:$=Yu;break;case Bg:$=A;break;case"scroll":case"scrollend":$=tl;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fi;break;case"toggle":case"beforetoggle":$=Ce}var ve=(i&4)!==0,tt=!ve&&(t==="scroll"||t==="scrollend"),z=ve?G!==null?G+"Capture":null:G;ve=[];for(var V=F,H;V!==null;){var J=V;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=Jn(V,z),J!=null&&ve.push(Ol(V,J,H))),tt)break;V=V.return}0<ve.length&&(G=new $(G,de,null,a,X),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Wo&&(de=a.relatedTarget||a.fromElement)&&(_i(de)||de[gi]))break e;if(($||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,$?(de=a.relatedTarget||a.toElement,$=F,de=de?_i(de):null,de!==null&&(tt=u(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):($=null,de=F),$!==de)){if(ve=nl,J="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Fi,J="onPointerLeave",z="onPointerEnter",V="pointer"),tt=$==null?G:En($),H=de==null?G:En(de),G=new ve(J,V+"leave",$,a,X),G.target=tt,G.relatedTarget=H,J=null,_i(X)===F&&(ve=new ve(z,V+"enter",de,a,X),ve.target=H,ve.relatedTarget=tt,J=ve),tt=J,$&&de)t:{for(ve=$S,z=$,V=de,H=0,J=z;J;J=ve(J))H++;J=0;for(var ye=V;ye;ye=ve(ye))J++;for(;0<H-J;)z=ve(z),H--;for(;0<J-H;)V=ve(V),J--;for(;H--;){if(z===V||V!==null&&z===V.alternate){ve=z;break t}z=ve(z),V=ve(V)}ve=null}else ve=null;$!==null&&cv(ee,G,$,ve,!1),de!==null&&tt!==null&&cv(ee,tt,de,ve,!0)}}e:{if(G=F?En(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Fe=Cg;else if(wg(G))if(Ig)Fe=aS;else{Fe=rS;var me=iS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ba(F.elementType)&&(Fe=Cg):Fe=sS;if(Fe&&(Fe=Fe(t,F))){Rg(ee,Fe,a,X);break e}me&&me(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&$o(G,"number",G.value)}switch(me=F?En(F):window,t){case"focusin":(wg(me)||me.contentEditable==="true")&&(xa=me,Nf=F,ol=null);break;case"focusout":ol=Nf=xa=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Pg(ee,a,X);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Pg(ee,a,X)}var xe;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Na?Ls(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ii&&a.locale!=="ko"&&(Na||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Na&&(xe=el()):(Ai=X,Zo="value"in Ai?Ai.value:Ai.textContent,Na=!0)),me=Gc(F,Pe),0<me.length&&(Pe=new Ci(Pe,t,null,a,X),ee.push({event:Pe,listeners:me}),xe?Pe.data=xe:(xe=Ia(a),xe!==null&&(Pe.data=xe)))),(xe=Vn?Zb(t,a):eS(t,a))&&(Pe=Gc(F,"onBeforeInput"),0<Pe.length&&(me=new Ci("onBeforeInput","beforeinput",null,a,X),ee.push({event:me,listeners:Pe}),me.data=xe)),GS(ee,t,F,a,X)}lv(ee,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift(Ol(t,f,d)),f=Jn(t,i),f!=null&&l.push(Ol(t,f,d))),t.tag===3)return l;t=t.return}return[]}function $S(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cv(t,i,a,l,f){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,O=S.alternate,F=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||F===null||(O=F,f?(F=Jn(a,d),F!=null&&v.unshift(Ol(a,F,O))):f||(F=Jn(a,d),F!=null&&v.push(Ol(a,F,O)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var XS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(XS,`
`).replace(JS,"")}function fv(t,i){return i=hv(i),hv(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":Jo(t,l,d);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gu.get(a)||a,Ea(t,a,l))}}function tm(t,i,a,l,f,d){switch(a){case"style":Jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[qt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,v,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var S=d=v=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":O=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:et(t,i,l,X,a,null)}}qu(t,d,S,O,F,v,f,!1);return;case"select":Oe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:et(t,i,f,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,v,S,a,null)}Tr(t,l,f,d);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,O,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Oe(Dl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,F,l,a,null)}return;default:if(ba(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&tm(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function WS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,O=null,F=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty($)||et(t,i,$,null,l,ee)}}for(var G in l){var $=l[G];if(ee=a[G],l.hasOwnProperty(G)&&($!=null||ee!=null))switch(G){case"type":d=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":X=$;break;case"value":v=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&et(t,i,G,$,l,ee)}}Ta(t,v,S,O,F,X,d,f);return;case"select":$=v=S=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(d)||et(t,i,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==O&&et(t,i,f,d,l,O)}i=S,a=v,l=$,G!=null?Er(t,!!a,G,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,v,f,l,d)}Hu(t,G,$);return;case"option":for(var de in a)if(G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,i,de,null,l,G)}for(O in l)if(G=l[O],$=a[O],l.hasOwnProperty(O)&&G!==$&&(G!=null||$!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(t,i,O,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&et(t,i,ve,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:et(t,i,F,G,l,$)}return;default:if(ba(i)){for(var tt in a)G=a[tt],a.hasOwnProperty(tt)&&G!==void 0&&!l.hasOwnProperty(tt)&&tm(t,i,tt,void 0,l,G);for(X in l)G=l[X],$=a[X],!l.hasOwnProperty(X)||G===$||G===void 0&&$===void 0||tm(t,i,X,G,l,$);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&et(t,i,z,null,l,G);for(ee in l)G=l[ee],$=a[ee],!l.hasOwnProperty(ee)||G===$||G==null&&$==null||et(t,i,ee,G,l,$)}function dv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&dv(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>S)break;var X=O.transferSize,ee=O.initiatorType;X&&dv(ee)&&(O=O.responseEnd,v+=X*(O<S?1:(S-F)/(O-F)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function Qc(t){return t.nodeType===9?t:t.ownerDocument}function mv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function rm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function eA(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,nA=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(t){return yv.resolve(null).then(t).catch(iA)}:gv;function iA(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function _v(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ml(a);for(var d=a.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[yi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ml(t.ownerDocument.body);a=f}while(a);io(i)}function vv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function sA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$?"||t.data==="$~"}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function aA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var um=null;function Tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Sv(t,i,a){switch(i=Qc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Hn=new Map,Av=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=re.d;re.d={f:oA,r:lA,D:uA,C:cA,L:hA,m:fA,X:mA,S:dA,M:pA};function oA(){var t=sr.f(),i=Uc();return t||i}function lA(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?By(i):sr.r(t)}var eo=typeof document>"u"?null:document;function wv(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Av.has(f)||(Av.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Jt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function uA(t){sr.D(t),wv("dns-prefetch",t,null)}function cA(t,i){sr.C(t,i),wv("preconnect",t,i)}function hA(t,i,a){sr.L(t,i,a);var l=eo;if(l&&t&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(t)+'"]';var d=f;switch(i){case"style":d=to(t);break;case"script":d=no(t)}Hn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Hn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Jt(i,"link",t),Ct(i),l.head.appendChild(i)))}}function fA(t,i){sr.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Hn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Hn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Jt(l,"link",t),Ct(l),a.head.appendChild(l)}}}function dA(t,i,a){sr.S(t,i,a);var l=eo;if(l&&t){var f=vi(l).hoistableStyles,d=to(t);i=i||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(kl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Hn.get(d))&&cm(t,a);var O=v=l.createElement("link");Ct(O),Jt(O,"link",t),O._p=new Promise(function(F,X){O.onload=F,O.onerror=X}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function mA(t,i){sr.X(t,i);var a=eo;if(a&&t){var l=vi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=T({src:t,async:!0},i),(i=Hn.get(f))&&hm(t,i),d=a.createElement("script"),Ct(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pA(t,i){sr.M(t,i);var a=eo;if(a&&t){var l=vi(a).hoistableScripts,f=no(t),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Hn.get(f))&&hm(t,i),d=a.createElement("script"),Ct(d),Jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Rv(t,i,a,l){var f=(f=Ne.current)?Kc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=vi(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(kl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||gA(f,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+cn(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function Cv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function gA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),Ct(i),t.head.appendChild(i))}function no(t){return'[src="'+cn(t)+'"]'}function Vl(t){return"script[async]"+t}function Iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Jt(l,"style",f),Yc(l,a.precedence,t),i.instance=l;case"stylesheet":f=to(a.href);var d=t.querySelector(kl(f));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=Cv(a),(f=Hn.get(f))&&cm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Jt(d,"link",l),i.state.loading|=4,Yc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(f=t.querySelector(Vl(d)))?(i.instance=f,Ct(f),f):(l=a,(f=Hn.get(d))&&(l=T({},a),hm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Jt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Yc(l,a.precedence,t));return i.instance}function Yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $c=null;function Nv(t,i,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function xv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function yA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _A(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=to(l.href),d=i.querySelector(kl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=Cv(l),(f=Hn.get(f))&&cm(l,f),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(S,O){v.onload=S,v.onerror=O}),Jt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var fm=0;function vA(t,i){return t.stylesheets&&t.count===0&&Wc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&fm===0&&(fm=62500*ZS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>fm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Jc=null;function Wc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Jc=new Map,i.forEach(EA,t),Jc=null,Xc.call(t))}function EA(t,i){if(!(i.state.loading&4)){var a=Jc.get(t);if(a)var l=a.get(null);else{a=new Map,Jc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=Xc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function TA(t,i,a,l,f,d,v,S,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ov(t,i,a,l,f,d,v,S,O,F,X,ee){return t=new TA(t,i,a,v,O,F,X,ee,S),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),t.current=d,d.stateNode=t,i=Gf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},$f(d),t}function Mv(t){return t?(t=Ma,t):Ma}function kv(t,i,a,l,f,d){f=Mv(f),l.context===null?l.context=f:l.pendingContext=f,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(gn(a,t,i),ml(a,t,i))}function Vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function dm(t,i){Vv(t,i),(t=t.alternate)&&Vv(t,i)}function Pv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&gn(i,t,67108864),dm(t,67108864)}}function Lv(t){if(t.tag===13||t.tag===31){var i=In();i=Is(i);var a=js(t,i);a!==null&&gn(a,t,i),dm(t,i)}}var Zc=!0;function bA(t,i,a,l){var f=K.T;K.T=null;var d=re.p;try{re.p=2,mm(t,i,a,l)}finally{re.p=d,K.T=f}}function SA(t,i,a,l){var f=K.T;K.T=null;var d=re.p;try{re.p=8,mm(t,i,a,l)}finally{re.p=d,K.T=f}}function mm(t,i,a,l){if(Zc){var f=pm(l);if(f===null)em(t,i,l,eh,a),zv(t,l);else if(wA(f,t,i,a,l))l.stopPropagation();else if(zv(t,l),i&4&&-1<AA.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=di(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var O=1<<31-yt(v);S.entanglements[1]|=O,v&=~O}Oi(d),(Ke&6)===0&&(Pc=on()+500,xl(0))}}break;case 31:case 13:S=js(d,2),S!==null&&gn(S,d,2),Uc(),dm(d,2)}if(d=pm(l),d===null&&em(t,i,l,eh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(t,i,l,null,a)}}function pm(t){return t=Mn(t),gm(t)}var eh=null;function gm(t){if(eh=null,t=_i(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function Uv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case zo:return 2;case jo:return 8;case _r:case bf:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var ym=!1,Gr=null,Qr=null,Kr=null,Ll=new Map,Ul=new Map,Yr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function zl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&Pv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function wA(t,i,a,l,f){switch(i){case"focusin":return Gr=zl(Gr,t,i,a,l,f),!0;case"dragenter":return Qr=zl(Qr,t,i,a,l,f),!0;case"mouseover":return Kr=zl(Kr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,zl(Ll.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,zl(Ul.get(d)||null,t,i,a,l,f)),!0}return!1}function jv(t){var i=_i(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){Lv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Yn(t.priority,function(){Lv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=On(a),i!==null&&Pv(i),t.blockedOn=a,!1;i.shift()}return!0}function Bv(t,i,a){th(t)&&a.delete(i)}function RA(){ym=!1,Gr!==null&&th(Gr)&&(Gr=null),Qr!==null&&th(Qr)&&(Qr=null),Kr!==null&&th(Kr)&&(Kr=null),Ll.forEach(Bv),Ul.forEach(Bv)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RA)))}var ih=null;function qv(t){ih!==t&&(ih=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function io(t){function i(O){return nh(O,t)}Gr!==null&&nh(Gr,t),Qr!==null&&nh(Qr,t),Kr!==null&&nh(Kr,t),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[qt]||null;if(typeof d=="function")v||qv(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[qt]||null)S=v.formAction;else if(gm(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function _m(t){this._internalRoot=t}rh.prototype.render=_m.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();kv(a,l,t,i,null,null)},rh.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;kv(t.current,2,null,t,null,null),Uc(),i[gi]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Uu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&jv(t)}};var Fv=e.version;if(Fv!=="19.2.4")throw Error(s(527,Fv,"19.2.4"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var CA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Qn=sh.inject(CA),Qt=sh}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Jy,d=Wy,v=Zy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Ov(t,1,!1,null,null,a,l,null,f,d,v,Hv),t[gi]=i.current,Zd(t),new _m(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Jy,v=Wy,S=Zy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=Ov(t,1,!0,i,a??null,l,f,O,d,v,S,Hv),i.context=Mv(null),a=i.current,l=In(),l=Is(l),f=Mr(l),f.callback=null,kr(a,f,l),a=l,i.current.lanes=a,Rs(i,a),Oi(i),t[gi]=i.current,Zd(t),new rh(i)},Bl.version="19.2.4",Bl}var e0;function LA(){if(e0)return Tm.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Tm.exports=PA(),Tm.exports}var UA=LA();const zA=FE(UA);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t0="popstate";function jA(r={}){function e(s,o){let{pathname:u,search:h,hash:g}=s.location;return qm("",{pathname:u,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return qA(e,n,null,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BA(){return Math.random().toString(36).substring(2,10)}function n0(r,e){return{usr:r.state,key:r.key,idx:e}}function qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||s||BA()}}function iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ao(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,g="POP",m=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function T(){g="POP";let U=_(),te=U==null?null:U-p;p=U,m&&m({action:g,location:j.location,delta:te})}function b(U,te){g="PUSH";let ie=qm(j.location,U,te);p=_()+1;let Q=n0(ie,p),oe=j.createHref(ie);try{h.pushState(Q,"",oe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(oe)}u&&m&&m({action:g,location:j.location,delta:1})}function x(U,te){g="REPLACE";let ie=qm(j.location,U,te);p=_();let Q=n0(ie,p),oe=j.createHref(ie);h.replaceState(Q,"",oe),u&&m&&m({action:g,location:j.location,delta:0})}function k(U){return HA(U)}let j={get action(){return g},get location(){return r(o,h)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(t0,T),m=U,()=>{o.removeEventListener(t0,T),m=null}},createHref(U){return e(o,U)},createURL:k,encodeLocation(U){let te=k(U);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:b,replace:x,go(U){return h.go(U)}};return j}function HA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function GE(r,e,n="/"){return FA(r,e,n,!1)}function FA(r,e,n,s){let o=typeof e=="string"?Ao(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let h=QE(r);GA(h);let g=null;for(let m=0;g==null&&m<h.length;++m){let p=nw(u);g=ew(h[m],p,s)}return g}function QE(r,e=[],n=[],s="",o=!1){let u=(h,g,m=o,p)=>{let _={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&m)return;ht(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=lr([s,_.relativePath]),b=n.concat(_);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),QE(h.children,e,b,T,m)),!(h.path==null&&!h.index)&&e.push({path:T,score:WA(T,h.index),routesMeta:b})};return r.forEach((h,g)=>{var m;if(h.path===""||!((m=h.path)!=null&&m.includes("?")))u(h,g);else for(let p of KE(h.path))u(h,g,!0,p)}),e}function KE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=KE(s.join("/")),g=[];return g.push(...h.map(m=>m===""?u:[u,m].join("/"))),o&&g.push(...h),g.map(m=>r.startsWith("/")&&m===""?"/":m)}function GA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:ZA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QA=/^:[\w-]+$/,KA=3,YA=2,$A=1,XA=10,JA=-2,i0=r=>r==="*";function WA(r,e){let n=r.split("/"),s=n.length;return n.some(i0)&&(s+=JA),e&&(s+=YA),n.filter(o=>!i0(o)).reduce((o,u)=>o+(QA.test(u)?KA:u===""?$A:XA),s)}function ZA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ew(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let g=0;g<s.length;++g){let m=s[g],p=g===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),b=m.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=wh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:lr([u,T.pathname]),pathnameBase:aw(lr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=lr([u,T.pathnameBase]))}return h}function wh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:T},b)=>{if(_==="*"){let k=g[b]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const x=g[b];return T&&!x?p[_]=void 0:p[_]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:r}}function tw(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function rw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ao(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=r0(n.substring(1),"/"):u=r0(n,e)):u=e,{pathname:u,search:ow(s),hash:lw(o)}}function r0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(r){let e=sw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ap(r,e,n,s=!1){let o;typeof r=="string"?o=Ao(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),wm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),wm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),wm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}g=T>=0?e[T]:"/"}let m=rw(o,g),p=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),aw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,uw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function hw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $E(r,e){let n=r;if(typeof n!="string"||!iw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(YE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=ur(h.pathname,e);h.origin===u.origin&&g!=null?n=g+h.search+h.hash:o=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XE=["POST","PUT","PATCH","DELETE"];new Set(XE);var fw=["GET",...XE];new Set(fw);var wo=B.createContext(null);wo.displayName="DataRouter";var Qh=B.createContext(null);Qh.displayName="DataRouterState";var dw=B.createContext(!1),JE=B.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var mw=B.createContext(new Map);mw.displayName="Fetchers";var pw=B.createContext(null);pw.displayName="Await";var xn=B.createContext(null);xn.displayName="Navigation";var yu=B.createContext(null);yu.displayName="Location";var ji=B.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var wp=B.createContext(null);wp.displayName="RouteError";var WE="REACT_ROUTER_ERROR",gw="REDIRECT",yw="ROUTE_ERROR_RESPONSE";function _w(r){if(r.startsWith(`${WE}:${gw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vw(r){if(r.startsWith(`${WE}:${yw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uw(e.status,e.statusText,e.data)}catch{}}function Ew(r,{relative:e}={}){ht(Ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(xn),{hash:o,pathname:u,search:h}=vu(r,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:lr([n,u])),s.createHref({pathname:g,search:h,hash:o})}function Ro(){return B.useContext(yu)!=null}function mr(){return ht(Ro(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(yu).location}var ZE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eT(r){B.useContext(xn).static||B.useLayoutEffect(r)}function _u(){let{isDataRoute:r}=B.useContext(ji);return r?Mw():Tw()}function Tw(){ht(Ro(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(wo),{basename:e,navigator:n}=B.useContext(xn),{matches:s}=B.useContext(ji),{pathname:o}=mr(),u=JSON.stringify(Sp(s)),h=B.useRef(!1);return eT(()=>{h.current=!0}),B.useCallback((m,p={})=>{if(Gn(h.current,ZE),!h.current)return;if(typeof m=="number"){n.go(m);return}let _=Ap(m,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:lr([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,r])}B.createContext(null);function vu(r,{relative:e}={}){let{matches:n}=B.useContext(ji),{pathname:s}=mr(),o=JSON.stringify(Sp(n));return B.useMemo(()=>Ap(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function bw(r,e){return tT(r,e)}function tT(r,e,n,s,o){var ie;ht(Ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(xn),{matches:h}=B.useContext(ji),g=h[h.length-1],m=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",T=g&&g.route;{let Q=T&&T.path||"";iT(p,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let b=mr(),x;if(e){let Q=typeof e=="string"?Ao(e):e;ht(_==="/"||((ie=Q.pathname)==null?void 0:ie.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),x=Q}else x=b;let k=x.pathname||"/",j=k;if(_!=="/"){let Q=_.replace(/^\//,"").split("/");j="/"+k.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=GE(r,{pathname:j});Gn(T||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Cw(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:lr([_,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?_:lr([_,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,n,s,o);return e&&te?B.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},te):te}function Sw(){let r=Ow(),e=cw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,h)}var Aw=B.createElement(Sw,null),nT=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=vw(r.digest);n&&(r=n)}let e=r!==void 0?B.createElement(ji.Provider,{value:this.props.routeContext},B.createElement(wp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(ww,{error:r},e):e}};nT.contextType=dw;var Rm=new WeakMap;function ww({children:r,error:e}){let{basename:n}=B.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=_w(e.digest);if(s){let o=Rm.get(e);if(o)throw o;let u=$E(s.location,n);if(YE&&!Rm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Rm.set(e,h),h}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Rw({routeContext:r,match:e,children:n}){let s=B.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ji.Provider,{value:r},n)}function Cw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let _=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ht(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,m=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(m=_),T.route.id){let{loaderData:b,errors:x}=n,k=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||k){g=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=n&&s?(_,T)=>{var b,x;s(_,{location:n.location,params:((x=(b=n.matches)==null?void 0:b[0])==null?void 0:x.params)??{},unstable_pattern:hw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,b)=>{let x,k=!1,j=null,U=null;n&&(x=h&&T.route.id?h[T.route.id]:void 0,j=T.route.errorElement||Aw,g&&(m<0&&b===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,U=null):m===b&&(k=!0,U=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,b+1)),ie=()=>{let Q;return x?Q=j:k?Q=U:T.route.Component?Q=B.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=_,B.createElement(Rw,{match:T,routeContext:{outlet:_,matches:te,isDataRoute:n!=null},children:Q})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?B.createElement(nT,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:p}):ie()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iw(r){let e=B.useContext(wo);return ht(e,Rp(r)),e}function Nw(r){let e=B.useContext(Qh);return ht(e,Rp(r)),e}function xw(r){let e=B.useContext(ji);return ht(e,Rp(r)),e}function Cp(r){let e=xw(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Dw(){return Cp("useRouteId")}function Ow(){var s;let r=B.useContext(wp),e=Nw("useRouteError"),n=Cp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Mw(){let{router:r}=Iw("useNavigate"),e=Cp("useNavigate"),n=B.useRef(!1);return eT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Gn(n.current,ZE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var s0={};function iT(r,e,n){!e&&!s0[r]&&(s0[r]=!0,Gn(!1,n))}B.memo(kw);function kw({routes:r,future:e,state:n,onError:s}){return tT(r,void 0,n,s,e)}function Hm({to:r,replace:e,state:n,relative:s}){ht(Ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(xn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ji),{pathname:h}=mr(),g=_u(),m=Ap(r,Sp(u),h,s==="path"),p=JSON.stringify(m);return B.useEffect(()=>{g(JSON.parse(p),{replace:e,state:n,relative:s})},[g,p,s,e,n]),null}function Jr(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!Ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[g,o,u,h]);typeof n=="string"&&(n=Ao(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:x="default"}=n,k=B.useMemo(()=>{let j=ur(p,g);return j==null?null:{location:{pathname:j,search:_,hash:T,state:b,key:x},navigationType:s}},[g,p,_,T,b,x,s]);return Gn(k!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(xn.Provider,{value:m},B.createElement(yu.Provider,{children:e,value:k}))}function Pw({children:r,location:e}){return bw(Fm(r),e)}function Fm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Fm(s.props.children,u));return}ht(s.type===Jr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function Kh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Lw(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function Uw(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function zw(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function jw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Bw(r,e){return r.button===0&&(!e||e==="_self")&&!jw(r)}function Gm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function qw(r,e){let n=Gm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ah=null;function Hw(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var Fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(r){return r!=null&&!Fw.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function Gw(r,e){let n,s,o,u,h;if(Uw(r)){let g=r.getAttribute("action");s=g?ur(g,e):null,n=r.getAttribute("method")||dh,o=Cm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(Lw(r)||zw(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||g.getAttribute("action");if(s=m?ur(m,e):null,n=r.getAttribute("formmethod")||g.getAttribute("method")||dh,o=Cm(r.getAttribute("formenctype"))||Cm(g.getAttribute("enctype"))||mh,u=new FormData(g,r),!Hw()){let{name:p,type:_,value:T}=r;if(_==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,T)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ur(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function Kw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function $w(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Kw(u,n);return h.links?h.links():[]}return[]}));return Zw(s.flat(1).filter(Yw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a0(r,e,n,s,o,u){let h=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,g=(m,p)=>{var _;return n[p].pathname!==m.pathname||((_=n[p].route.path)==null?void 0:_.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>h(m,p)||g(m,p)):u==="data"?e.filter((m,p)=>{var T;let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(h(m,p)||g(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Xw(r,e,{includeHydrateFallback:n}={}){return Jw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Jw(r){return[...new Set(r)]}function Ww(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Zw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Ww(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rT(){let r=B.useContext(wo);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function eR(){let r=B.useContext(Qh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Np=B.createContext(void 0);Np.displayName="FrameworkContext";function sT(){let r=B.useContext(Np);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function tR(r,e){let n=B.useContext(Np),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:g,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let j=te=>{te.forEach(ie=>{h(ie.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[r]),B.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let x=()=>{o(!0)},k=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:ql(g,x),onBlur:ql(m,k),onMouseEnter:ql(p,x),onMouseLeave:ql(_,k),onTouchStart:ql(T,x)}]:[!1,b,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function nR({page:r,...e}){let{router:n}=rT(),s=B.useMemo(()=>GE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(rR,{page:r,matches:s,...e}):null}function iR(r){let{manifest:e,routeModules:n}=sT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return $w(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function rR({page:r,matches:e,...n}){let s=mr(),{future:o,manifest:u,routeModules:h}=sT(),{basename:g}=rT(),{loaderData:m,matches:p}=eR(),_=B.useMemo(()=>a0(r,e,p,u,s,"data"),[r,e,p,u,s]),T=B.useMemo(()=>a0(r,e,p,u,s,"assets"),[r,e,p,u,s]),b=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,U=!1;if(e.forEach(ie=>{var oe;let Q=u.routes[ie.route.id];!Q||!Q.hasLoader||(!_.some(fe=>fe.route.id===ie.route.id)&&ie.route.id in m&&((oe=h[ie.route.id])!=null&&oe.shouldRevalidate)||Q.hasClientLoader?U=!0:j.add(ie.route.id))}),j.size===0)return[];let te=Qw(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return U&&j.size>0&&te.searchParams.set("_routes",e.filter(ie=>j.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[te.pathname+te.search]},[g,o.unstable_trailingSlashAwareDataRequests,m,s,u,_,e,r,h]),x=B.useMemo(()=>Xw(T,u),[T,u]),k=iR(T);return B.createElement(B.Fragment,null,b.map(j=>B.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>B.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),k.map(({key:j,link:U})=>B.createElement("link",{key:j,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function sR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aR&&(window.__reactRouterVersion="7.13.0")}catch{}function oR({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=jA({window:s,v5Compat:!0}));let u=o.current,[h,g]=B.useState({action:u.action,location:u.location}),m=B.useCallback(p=>{n===!1?g(p):B.startTransition(()=>g(p))},[n]);return B.useLayoutEffect(()=>u.listen(m),[u,m]),B.createElement(Vw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var aT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ru=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:g,target:m,to:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...x},k){let{basename:j,unstable_useTransitions:U}=B.useContext(xn),te=typeof p=="string"&&aT.test(p),ie=$E(p,j);p=ie.to;let Q=Ew(p,{relative:o}),[oe,fe,ue]=tR(s,x),N=hR(p,{replace:h,state:g,target:m,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:U});function R(L){e&&e(L),L.defaultPrevented||N(L)}let D=B.createElement("a",{...x,...ue,href:ie.absoluteURL||Q,onClick:ie.isExternal||u?e:R,ref:sR(k,fe),target:m,"data-discover":!te&&n==="render"?"true":void 0});return oe&&!te?B.createElement(B.Fragment,null,D,B.createElement(nR,{page:Q})):D});ru.displayName="Link";var lR=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:g,children:m,...p},_){let T=vu(h,{relative:p.relative}),b=mr(),x=B.useContext(Qh),{navigator:k,basename:j}=B.useContext(xn),U=x!=null&&gR(T)&&g===!0,te=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ie=b.pathname,Q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),Q=Q?Q.toLowerCase():null,te=te.toLowerCase()),Q&&j&&(Q=ur(Q,j)||Q);const oe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let fe=ie===te||!o&&ie.startsWith(te)&&ie.charAt(oe)==="/",ue=Q!=null&&(Q===te||!o&&Q.startsWith(te)&&Q.charAt(te.length)==="/"),N={isActive:fe,isPending:ue,isTransitioning:U},R=fe?e:void 0,D;typeof s=="function"?D=s(N):D=[s,fe?"active":null,ue?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(N):u;return B.createElement(ru,{...p,"aria-current":R,className:D,ref:_,style:L,to:h,viewTransition:g},typeof m=="function"?m(N):m)});lR.displayName="NavLink";var uR=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:g,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...x},k)=>{let{unstable_useTransitions:j}=B.useContext(xn),U=mR(),te=pR(g,{relative:p}),ie=h.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&aT.test(g),oe=fe=>{if(m&&m(fe),fe.defaultPrevented)return;fe.preventDefault();let ue=fe.nativeEvent.submitter,N=(ue==null?void 0:ue.getAttribute("formmethod"))||h,R=()=>U(ue||fe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b});j&&n!==!1?B.startTransition(()=>R()):R()};return B.createElement("form",{ref:k,method:ie,action:te,onSubmit:s?m:oe,...x,"data-discover":!Q&&r==="render"?"true":void 0})});uR.displayName="Form";function cR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(r){let e=B.useContext(wo);return ht(e,cR(r)),e}function hR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g,unstable_useTransitions:m}={}){let p=_u(),_=mr(),T=vu(r,{relative:u});return B.useCallback(b=>{if(Bw(b,e)){b.preventDefault();let x=n!==void 0?n:iu(_)===iu(T),k=()=>p(r,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:g});m?B.startTransition(()=>k()):k()}},[_,p,T,n,s,e,r,o,u,h,g,m])}function xp(r){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(Gm(r)),n=B.useRef(!1),s=mr(),o=B.useMemo(()=>qw(s.search,n.current?null:e.current),[s.search]),u=_u(),h=B.useCallback((g,m)=>{const p=Gm(typeof g=="function"?g(new URLSearchParams(o)):g);n.current=!0,u("?"+p,m)},[u,o]);return[o,h]}var fR=0,dR=()=>`__${String(++fR)}__`;function mR(){let{router:r}=oT("useSubmit"),{basename:e}=B.useContext(xn),n=Dw(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,h={})=>{let{action:g,method:m,encType:p,formData:_,body:T}=Gw(u,e);if(h.navigate===!1){let b=h.fetcherKey||dR();await s(b,n,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||m,formEncType:h.encType||p,flushSync:h.flushSync})}else await o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:_,body:T,formMethod:h.method||m,formEncType:h.encType||p,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function pR(r,{relative:e}={}){let{basename:n}=B.useContext(xn),s=B.useContext(ji);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...vu(r||".",{relative:e})},h=mr();if(r==null){u.search=h.search;let g=new URLSearchParams(u.search),m=g.getAll("index");if(m.some(_=>_==="")){g.delete("index"),m.filter(T=>T).forEach(T=>g.append("index",T));let _=g.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),iu(u)}function gR(r,{relative:e}={}){let n=B.useContext(JE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oT("useViewTransitionState"),o=vu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}const yR=()=>{};var o0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_R=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],g=r[n++],m=((o&7)<<18|(u&63)<<12|(h&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,g=h?r[o+1]:0,m=o+2<r.length,p=m?r[o+2]:0,_=u>>2,T=(u&3)<<4|g>>4;let b=(g&15)<<2|p>>6,x=p&63;m||(x=64,h||(b=64)),s.push(n[_],n[T],n[b],n[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_R(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||p==null||T==null)throw new vR;const b=u<<2|g>>4;if(s.push(b),p!==64){const x=g<<4&240|p>>2;if(s.push(x),T!==64){const k=p<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(r){const e=lT(r);return uT.encodeByteArray(e,!0)},Rh=function(r){return ER(r).replace(/\./g,"")},cT=function(r){try{return uT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>TR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof o0>"u")return;const r=o0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return yR()||bR()||SR()||AR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hT=r=>{var e,n;return(n=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},wR=r=>{const e=hT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fT=()=>{var r;return(r=Yh())==null?void 0:r.config},dT=r=>{var e;return(e=Yh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(h)),""].join(".")}const Xl={};function IR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?r.emulator.push(e):r.prod.push(e);return r}function NR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let l0=!1;function pT(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Xl[r]===e||Xl[r]||l0)return;Xl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=IR().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{l0=!0,h()},b}function _(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=NR(s),x=n("text"),k=document.getElementById(x)||document.createElement("span"),j=n("learnmore"),U=document.getElementById(j)||document.createElement("a"),te=n("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;g(Q),_(U,j);const oe=p();m(ie,te),Q.append(ie,k,U,oe),document.body.appendChild(Q)}u?(k.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function DR(){var e;const r=(e=Yh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?jR(u,s):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new pr(o,g,s)}}function jR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function qR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(u0(u)&&u0(h)){if(!ia(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function HR(r,e){const n=new FR(r,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(r){return r===Zs?void 0:r}function YR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const XR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},JR=Le.INFO,WR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},ZR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=WR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=JR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const e2=(r,e)=>e.some(n=>r instanceof n);let c0,h0;function t2(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Qm=new WeakMap,yT=new WeakMap,Nm=new WeakMap,Op=new WeakMap;function i2(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,r)}).catch(()=>{}),Op.set(e,r),e}function r2(r){if(Qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Qm.set(r,e)}let Km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s2(r){Km=r(Km)}function a2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xm(this),e,...n);return yT.set(s,e.sort?e.sort():[e]),rs(s)}:n2().includes(r)?function(...e){return r.apply(xm(this),e),rs(gT.get(this))}:function(...e){return rs(r.apply(xm(this),e))}}function o2(r){return typeof r=="function"?a2(r):(r instanceof IDBTransaction&&r2(r),e2(r,t2())?new Proxy(r,Km):r)}function rs(r){if(r instanceof IDBRequest)return i2(r);if(Nm.has(r))return Nm.get(r);const e=o2(r);return e!==r&&(Nm.set(r,e),Op.set(e,r)),e}const xm=r=>Op.get(r);function l2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),g=rs(h);return s&&h.addEventListener("upgradeneeded",m=>{s(rs(h.result),m.oldVersion,m.newVersion,rs(h.transaction),m)}),n&&h.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),g.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const u2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],Dm=new Map;function f0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u2.includes(n)))return;const u=async function(h,...g){const m=this.transaction(h,o?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&m.done]))[0]};return Dm.set(e,u),u}s2(r=>({...r,get:(e,n,s)=>f0(e,n)||r.get(e,n,s),has:(e,n)=>!!f0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",d0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Dp("@firebase/app"),d2="@firebase/app-compat",m2="@firebase/analytics-compat",p2="@firebase/analytics",g2="@firebase/app-check-compat",y2="@firebase/app-check",_2="@firebase/auth",v2="@firebase/auth-compat",E2="@firebase/database",T2="@firebase/data-connect",b2="@firebase/database-compat",S2="@firebase/functions",A2="@firebase/functions-compat",w2="@firebase/installations",R2="@firebase/installations-compat",C2="@firebase/messaging",I2="@firebase/messaging-compat",N2="@firebase/performance",x2="@firebase/performance-compat",D2="@firebase/remote-config",O2="@firebase/remote-config-compat",M2="@firebase/storage",k2="@firebase/storage-compat",V2="@firebase/firestore",P2="@firebase/ai",L2="@firebase/firestore-compat",U2="firebase",z2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",j2={[Ym]:"fire-core",[d2]:"fire-core-compat",[p2]:"fire-analytics",[m2]:"fire-analytics-compat",[y2]:"fire-app-check",[g2]:"fire-app-check-compat",[_2]:"fire-auth",[v2]:"fire-auth-compat",[E2]:"fire-rtdb",[T2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[S2]:"fire-fn",[A2]:"fire-fn-compat",[w2]:"fire-iid",[R2]:"fire-iid-compat",[C2]:"fire-fcm",[I2]:"fire-fcm-compat",[N2]:"fire-perf",[x2]:"fire-perf-compat",[D2]:"fire-rc",[O2]:"fire-rc-compat",[M2]:"fire-gcs",[k2]:"fire-gcs-compat",[V2]:"fire-fst",[L2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[U2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,B2=new Map,Xm=new Map;function m0(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function go(r){const e=r.name;if(Xm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const n of Ch.values())m0(n,r);for(const n of B2.values())m0(n,r);return!0}function Mp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ri(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Eu("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=z2;function _T(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=fT()),!n)throw ss.create("no-options");const u=Ch.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const h=new $R(o);for(const m of Xm.values())h.addComponent(m);const g=new H2(n,s,h);return Ch.set(o,g),g}function vT(r=$m){const e=Ch.get(r);if(!e&&r===$m&&fT())return _T();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){let s=j2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(h.join(" "));return}go(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",G2=1,su="firebase-heartbeat-store";let Om=null;function ET(){return Om||(Om=l2(F2,G2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Om}async function Q2(r){try{const n=(await ET()).transaction(su),s=await n.objectStore(su).get(TT(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function p0(r,e){try{const s=(await ET()).transaction(su,"readwrite");await s.objectStore(su).put(e,TT(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function TT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=1024,Y2=30;class $2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=g0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Y2){const h=W2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g0(),{heartbeatsToSend:s,unsentEntries:o}=X2(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return cr.warn(n),""}}}function g0(){return new Date().toISOString().substring(0,10)}function X2(r,e=K2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),y0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),y0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class J2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Q2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return p0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function y0(r){return Rh(JSON.stringify({version:2,heartbeats:r})).length}function W2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){go(new ra("platform-logger",e=>new h2(e),"PRIVATE")),go(new ra("heartbeat",e=>new $2(e),"PRIVATE")),as(Ym,d0,r),as(Ym,d0,"esm2020"),as("fire-js","")}Z2("");function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eC=bT,ST=new Eu("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Dp("@firebase/auth");function tC(r,...e){Ih.logLevel<=Le.WARN&&Ih.warn(`Auth (${Io}): ${r}`,...e)}function ph(r,...e){Ih.logLevel<=Le.ERROR&&Ih.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...e){throw kp(r,...e)}function ki(r,...e){return kp(r,...e)}function AT(r,e,n){const s={...eC(),[e]:n};return new Eu("auth","Firebase",s).create(e,{appName:r.name})}function os(r){return AT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ST.create(r,...e)}function Te(r,e,...n){if(!r)throw kp(e,...n)}function ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ph(e),new Error(e)}function hr(r,e){r||ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function nC(){return _0()==="http:"||_0()==="https:"}function _0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nC()||MR()||"connection"in navigator)?navigator.onLine:!0}function rC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=xR()||kR()}get(){return iC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oC=new bu(3e4,6e4);function ha(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return RT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const g=Tu({key:r.config.apiKey,...h}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:m,...u};return OR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(p.credentials="include"),wT.fetch()(await CT(r,r.config.apiHost,n,g),p)})}async function RT(r,e,n){r._canInitEmulator=!1;const s={...sC,...e};try{const o=new uC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw oh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const g=u.ok?h.errorMessage:h.error.message,[m,p]=g.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw oh(r,"user-disabled",h);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw AT(r,_,p);ui(r,_)}}catch(o){if(o instanceof pr)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function $h(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function CT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Vp(r.config,o):`${r.config.apiScheme}://${o}`;return aC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function lC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),oC.get())})}}function oh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ki(r,e,s);return o.customData._tokenResponse=n,o}function v0(r){return r!==void 0&&r.enterprise!==void 0}class cC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hC(r,e){return vs(r,"GET","/v2/recaptchaConfig",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function Nh(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dC(r,e=!1){const n=St(r),s=await n.getIdToken(e),o=Pp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Mm(o.auth_time)),issuedAtTime:Jl(Mm(o.iat)),expirationTime:Jl(Mm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function Pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function E0(r){const e=Pp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&mC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await au(r,Nh(e,{idToken:n}));Te(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?IT(o.providerUserInfo):[],h=yC(r.providerData,u),g=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),p=g?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,_)}async function gC(r){const e=St(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function IT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(r,e){const n=await RT(r,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await CT(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:g,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(m.credentials="include"),wT.fetch()(h,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vC(r,e){return vs(r,"POST","/v2/accounts:revokeToken",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=E0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await _C(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new co;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new pC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dC(this,e)}reload(){return gC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await au(this,fC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,g=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:x,providerData:k,stsTokenManager:j}=n;Te(T&&j,e,"internal-error");const U=co.fromJSON(this.name,j);Te(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Te(typeof b=="boolean",e,"internal-error"),Te(typeof x=="boolean",e,"internal-error"),Xr(u,e.name),Xr(h,e.name),Xr(g,e.name),Xr(m,e.name),Xr(p,e.name),Xr(_,e.name);const te=new ai({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:x,photoURL:h,phoneNumber:u,tenantId:g,stsTokenManager:U,createdAt:p,lastLoginAt:_});return k&&Array.isArray(k)&&(te.providerData=k.map(ie=>({...ie}))),m&&(te._redirectEventId=m),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?IT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new co;g.updateFromIdToken(s);const m=new ai({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=new Map;function or(r){hr(r instanceof Function,"Expected a class definition");let e=T0.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,T0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NT.type="NONE";const b0=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(or(b0),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||or(b0);const h=gh(s,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(h);if(_){let T;if(typeof _=="string"){const b=await Nh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await ai._fromGetAccountInfoResponse(e,b,_)}else T=ai._fromJSON(e,_);p!==u&&(g=T),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ho(u,e,s):(u=m[0],g&&await u._set(h,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(PT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(kT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xT(r=an()){return/firefox\//i.test(r)}function DT(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(r=an()){return/crios\//i.test(r)}function MT(r=an()){return/iemobile/i.test(r)}function kT(r=an()){return/android/i.test(r)}function VT(r=an()){return/blackberry/i.test(r)}function PT(r=an()){return/webos/i.test(r)}function Lp(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EC(r=an()){var e;return Lp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function TC(){return VR()&&document.documentMode===10}function LT(r=an()){return Lp(r)||kT(r)||PT(r)||VT(r)||/windows phone/i.test(r)||MT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e=[]){let n;switch(r){case"Browser":n=S0(an());break;case"Worker":n=`${S0(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,g)=>{try{const m=e(u);h(m)}catch(m){g(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(r,e={}){return vs(r,"GET","/v2/passwordPolicy",ha(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=6;class wC{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A0(this),this.idTokenSubscription=new A0(this),this.beforeStateQueue=new bC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(ri(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===g)&&(m!=null&&m.user)&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(os(this));const n=e?St(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SC(this),n=new wC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{h=!0,m()}}else{const m=e.addObserver(n);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&tC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function No(r){return St(r)}class A0{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CC(r){Xh=r}function zT(r){return Xh.loadJS(r)}function IC(){return Xh.recaptchaEnterpriseScript}function NC(){return Xh.gapiScript}function xC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DC{constructor(){this.enterprise=new OC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MC="recaptcha-enterprise",jT="NO_RECAPTCHA";class kC{constructor(e){this.type=MC,this.auth=No(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,g)=>{hC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new cC(m);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(m=>{g(m)})})}function o(u,h,g){const m=window.grecaptcha;v0(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(jT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(g=>{if(!n&&v0(window.grecaptcha))o(g,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=IC();m.length!==0&&(m+=g),zT(m).then(()=>{o(g,u,h)}).catch(p=>{h(p)})}}).catch(g=>{h(g)})})}}async function w0(r,e,n,s=!1,o=!1){const u=new kC(r);let h;if(o)h=jT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const m=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const m=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:h}):Object.assign(g,{captchaResponse:h}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function R0(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await w0(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await w0(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r,e){const n=Mp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function PC(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(or);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LC(r,e,n){const s=No(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=BT(e),{host:h,port:g}=UC(e),m=g===null?"":`:${g}`,p={url:`${u}//${h}${m}/`},_=Object.freeze({host:h,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ia(p,s.config.emulator)&&ia(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(mT(`${u}//${h}${m}`),pT("Auth",!0)):zC()}function BT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UC(r){const e=BT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:C0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:C0(h)}}}function C0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function jC(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(r,e){return $h(r,"POST","/v1/accounts:signInWithPassword",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(r,e){return $h(r,"POST","/v1/accounts:signInWithEmailLink",ha(r,e))}async function HC(r,e){return $h(r,"POST","/v1/accounts:signInWithEmailLink",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,n,"signInWithPassword",BC);case"emailLink":return qC(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,s,"signUpPassword",jC);case"emailLink":return HC(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return $h(r,"POST","/v1/accounts:signInWithIdp",ha(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class sa extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QC(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class zp{constructor(e){const n=Fl(Gl(e)),s=n.apiKey??null,o=n.oobCode??null,u=GC(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QC(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=zp.parseLink(n);return Te(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends qT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Su{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Su{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Su{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),h=I0(s);return new yo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new yo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function I0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Dh(e,n,s,o)}}function HT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,u,e,s):u})}async function KC(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return yo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(r,e,n=!1){const{auth:s}=r;if(ri(s.app))return Promise.reject(os(s));const o="reauthenticate";try{const u=await au(r,HT(s,o,e,r),n);Te(u.idToken,s,"internal-error");const h=Pp(u.idToken);Te(h,s,"internal-error");const{sub:g}=h;return Te(r.uid===g,s,"user-mismatch"),yo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(r,e,n=!1){if(ri(r.app))return Promise.reject(os(r));const s="signIn",o=await HT(r,s,e),u=await yo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function $C(r,e){return FT(No(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r){const e=No(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function JC(r,e,n){return ri(r.app)?Promise.reject(os(r)):$C(St(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&XC(r),s})}function WC(r,e,n,s){return St(r).onIdTokenChanged(e,n,s)}function ZC(r,e,n){return St(r).beforeAuthStateChanged(e,n)}function eI(r,e,n,s){return St(r).onAuthStateChanged(e,n,s)}function tI(r){return St(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,iI=10;class QT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,g,m)=>{this.notifyListeners(h,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);TC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const rI=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KT.type="SESSION";const YT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(h).map(async p=>p(n.origin,u)),m=await sI(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((g,m)=>{const p=jp("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(b.data.response);break;default:clearTimeout(_),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function oI(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function lI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function cI(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",hI=1,Mh="firebaseLocalStorage",JT="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,e){return r.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function fI(){const r=indexedDB.deleteDatabase(XT);return new Au(r).toPromise()}function Zm(){const r=indexedDB.open(XT,hI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Mh,{keyPath:JT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await fI(),e(await Zm()))})})}async function N0(r,e,n){const s=Wh(r,!0).put({[JT]:e,value:n});return new Au(s).toPromise()}async function dI(r,e){const n=Wh(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function x0(r,e){const n=Wh(r,!0).delete(e);return new Au(n).toPromise()}const mI=800,pI=3;class WT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await N0(e,Oh,"1"),await x0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>N0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WT.type="LOCAL";const gI=WT;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(r,e){return e?or(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _I(r){return FT(r.auth,new Bp(r),r.bypassAuthState)}function vI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),YC(n,new Bp(r),r.bypassAuthState)}async function EI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),KC(n,new Bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:g}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:ui(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new bu(2e3,1e4);class lo extends ZT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TI.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="pendingRedirect",yh=new Map;class SI extends ZT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(r,e){const n=CI(e),s=RI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wI(r,e){yh.set(r._key(),e)}function RI(r){return or(r._redirectPersistence)}function CI(r){return gh(bI,r.config.apiKey,r.name)}async function II(r,e,n=!1){if(ri(r.app))return Promise.reject(os(r));const s=No(r),o=yI(s,e),h=await new SI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=600*1e3;class xI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!e1(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NI&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function e1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,e={}){return vs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kI=/^https?/;async function VI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OI(r);for(const n of e)try{if(PI(n))return}catch{}ui(r,"unauthorized-domain")}function PI(r){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!kI.test(n))return!1;if(MI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new bu(3e4,6e4);function O0(){const r=Vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UI(r){return new Promise((e,n)=>{var o,u,h;function s(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(ki(r,"network-request-failed"))},timeout:LI.get()})}if((u=(o=Vi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Vi().gapi)!=null&&h.load)s();else{const g=xC("iframefcb");return Vi()[g]=()=>{gapi.load?s():n(ki(r,"network-request-failed"))},zT(`${NC()}?onload=${g}`).catch(m=>n(m))}}).catch(e=>{throw _h=null,e})}let _h=null;function zI(r){return _h=_h||UI(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new bu(5e3,15e3),BI="__/auth/iframe",qI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Vp(e,qI):`https://${r.config.authDomain}/${BI}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=FI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tu(s).slice(1)}`}async function QI(r){const e=await zI(r),n=Vi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:GI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ki(r,"network-request-failed"),g=Vi().setTimeout(()=>{u(h)},jI.get());function m(){Vi().clearTimeout(g),o(s)}s.ping(m).then(m,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YI=500,$I=600,XI="_blank",JI="http://localhost";class M0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WI(r,e,n,s=YI,o=$I){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const m={...KI,width:s.toString(),height:o.toString(),top:u,left:h},p=an().toLowerCase();n&&(g=OT(p)?XI:n),xT(p)&&(e=e||JI,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[x,k])=>`${b}${x}=${k},`,"");if(EC(p)&&g!=="_self")return ZI(e||"",g),new M0(null);const T=window.open(e||"",g,_);Te(T,r,"popup-blocked");try{T.focus()}catch{}return new M0(T)}function ZI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="__/auth/handler",tN="emulator/auth/handler",nN=encodeURIComponent("fac");async function k0(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof qT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",qR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof Su){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const g=h;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const m=await r._getAppCheckToken(),p=m?`#${nN}=${encodeURIComponent(m)}`:"";return`${iN(r)}?${Tu(g).slice(1)}${p}`}function iN({config:r}){return r.emulator?Vp(r,tN):`https://${r.authDomain}/${eN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=II,this._overrideRedirectResult=wI}async _openPopup(e,n,s,o){var h;hr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await k0(e,n,s,Jm(),o);return WI(e,u,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await k0(e,n,s,Jm(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await QI(e),s=new xI(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[km];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LT()||DT()||Lp()}}const sN=rN;var V0="@firebase/auth",P0="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lN(r){go(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:g}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:h,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},p=new RC(s,o,u,m);return PC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new ra("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(s=>new aN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(V0,P0,oN(r)),as(V0,P0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=300,cN=dT("authIdTokenMaxAge")||uN;let L0=null;const hN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cN)return;const o=n==null?void 0:n.token;L0!==o&&(L0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function fN(r=vT()){const e=Mp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=VC(r,{popupRedirectResolver:sN,persistence:[gI,rI,YT]}),s=dT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=hN(u.toString());ZC(n,h,()=>h(n.currentUser)),WC(n,g=>h(g))}}const o=hT("auth");return o&&LC(n,`http://${o}`),n}function dN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}CC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ki("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",dN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lN("Browser");var mN="firebase",pN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(mN,pN,"app");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,t1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function D(){}D.prototype=R.prototype,N.F=R.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(L,M,I){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return R.prototype[M].apply(L,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,D){D||(D=0);const L=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)L[M]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(M=0;M<16;++M)L[M]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=N.g[0],D=N.g[1],M=N.g[2];let I=N.g[3],C;C=R+(I^D&(M^I))+L[0]+3614090360&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(M^R&(D^M))+L[1]+3905402710&4294967295,I=R+(C<<12&4294967295|C>>>20),C=M+(D^I&(R^D))+L[2]+606105819&4294967295,M=I+(C<<17&4294967295|C>>>15),C=D+(R^M&(I^R))+L[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(I^D&(M^I))+L[4]+4118548399&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(M^R&(D^M))+L[5]+1200080426&4294967295,I=R+(C<<12&4294967295|C>>>20),C=M+(D^I&(R^D))+L[6]+2821735955&4294967295,M=I+(C<<17&4294967295|C>>>15),C=D+(R^M&(I^R))+L[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(I^D&(M^I))+L[8]+1770035416&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(M^R&(D^M))+L[9]+2336552879&4294967295,I=R+(C<<12&4294967295|C>>>20),C=M+(D^I&(R^D))+L[10]+4294925233&4294967295,M=I+(C<<17&4294967295|C>>>15),C=D+(R^M&(I^R))+L[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(I^D&(M^I))+L[12]+1804603682&4294967295,R=D+(C<<7&4294967295|C>>>25),C=I+(M^R&(D^M))+L[13]+4254626195&4294967295,I=R+(C<<12&4294967295|C>>>20),C=M+(D^I&(R^D))+L[14]+2792965006&4294967295,M=I+(C<<17&4294967295|C>>>15),C=D+(R^M&(I^R))+L[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=R+(M^I&(D^M))+L[1]+4129170786&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^M&(R^D))+L[6]+3225465664&4294967295,I=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(I^R))+L[11]+643717713&4294967295,M=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(M^I))+L[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^I&(D^M))+L[5]+3593408605&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^M&(R^D))+L[10]+38016083&4294967295,I=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(I^R))+L[15]+3634488961&4294967295,M=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(M^I))+L[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^I&(D^M))+L[9]+568446438&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^M&(R^D))+L[14]+3275163606&4294967295,I=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(I^R))+L[3]+4107603335&4294967295,M=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(M^I))+L[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(M^I&(D^M))+L[13]+2850285829&4294967295,R=D+(C<<5&4294967295|C>>>27),C=I+(D^M&(R^D))+L[2]+4243563512&4294967295,I=R+(C<<9&4294967295|C>>>23),C=M+(R^D&(I^R))+L[7]+1735328473&4294967295,M=I+(C<<14&4294967295|C>>>18),C=D+(I^R&(M^I))+L[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=R+(D^M^I)+L[5]+4294588738&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^M)+L[8]+2272392833&4294967295,I=R+(C<<11&4294967295|C>>>21),C=M+(I^R^D)+L[11]+1839030562&4294967295,M=I+(C<<16&4294967295|C>>>16),C=D+(M^I^R)+L[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^I)+L[1]+2763975236&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^M)+L[4]+1272893353&4294967295,I=R+(C<<11&4294967295|C>>>21),C=M+(I^R^D)+L[7]+4139469664&4294967295,M=I+(C<<16&4294967295|C>>>16),C=D+(M^I^R)+L[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^I)+L[13]+681279174&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^M)+L[0]+3936430074&4294967295,I=R+(C<<11&4294967295|C>>>21),C=M+(I^R^D)+L[3]+3572445317&4294967295,M=I+(C<<16&4294967295|C>>>16),C=D+(M^I^R)+L[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(D^M^I)+L[9]+3654602809&4294967295,R=D+(C<<4&4294967295|C>>>28),C=I+(R^D^M)+L[12]+3873151461&4294967295,I=R+(C<<11&4294967295|C>>>21),C=M+(I^R^D)+L[15]+530742520&4294967295,M=I+(C<<16&4294967295|C>>>16),C=D+(M^I^R)+L[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=R+(M^(D|~I))+L[0]+4096336452&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~M))+L[7]+1126891415&4294967295,I=R+(C<<10&4294967295|C>>>22),C=M+(R^(I|~D))+L[14]+2878612391&4294967295,M=I+(C<<15&4294967295|C>>>17),C=D+(I^(M|~R))+L[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~I))+L[12]+1700485571&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~M))+L[3]+2399980690&4294967295,I=R+(C<<10&4294967295|C>>>22),C=M+(R^(I|~D))+L[10]+4293915773&4294967295,M=I+(C<<15&4294967295|C>>>17),C=D+(I^(M|~R))+L[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~I))+L[8]+1873313359&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~M))+L[15]+4264355552&4294967295,I=R+(C<<10&4294967295|C>>>22),C=M+(R^(I|~D))+L[6]+2734768916&4294967295,M=I+(C<<15&4294967295|C>>>17),C=D+(I^(M|~R))+L[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=R+(M^(D|~I))+L[4]+4149444226&4294967295,R=D+(C<<6&4294967295|C>>>26),C=I+(D^(R|~M))+L[11]+3174756917&4294967295,I=R+(C<<10&4294967295|C>>>22),C=M+(R^(I|~D))+L[2]+718787259&4294967295,M=I+(C<<15&4294967295|C>>>17),C=D+(I^(M|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+I&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const D=R-this.blockSize,L=this.C;let M=this.h,I=0;for(;I<R;){if(M==0)for(;I<=D;)o(this,N,I),I+=this.blockSize;if(typeof N=="string"){for(;I<R;)if(L[M++]=N.charCodeAt(I++),M==this.blockSize){o(this,L),M=0;break}}else for(;I<R;)if(L[M++]=N[I++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)N[R++]=this.g[D]>>>L&255;return N};function u(N,R){var D=g;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=R(N)}function h(N,R){this.h=R;const D=[];let L=!0;for(let M=N.length-1;M>=0;M--){const I=N[M]|0;L&&I==R||(D[M]=I,L=!1)}this.g=D}var g={};function m(N){return-128<=N&&N<128?u(N,function(R){return new h([R|0],R<0?-1:0)}):new h([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return U(p(-N));const R=[];let D=1;for(let L=0;N>=D;L++)R[L]=N/D|0,D*=4294967296;return new h(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return U(_(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(R,8));let L=T;for(let I=0;I<N.length;I+=8){var M=Math.min(8,N.length-I);const C=parseInt(N.substring(I,I+M),R);M<8?(M=p(Math.pow(R,M)),L=L.j(M).add(p(C))):(L=L.j(D),L=L.add(p(C)))}return L}var T=m(0),b=m(1),x=m(16777216);r=h.prototype,r.m=function(){if(j(this))return-U(this).m();let N=0,R=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(j(this))return"-"+U(this).toString(N);const R=p(Math.pow(N,6));var D=this;let L="";for(;;){const M=oe(D,R).g;D=te(D,M.j(R));let I=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=M,k(D))return I+L;for(;I.length<6;)I="0"+I;L=I+L}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function j(N){return N.h==-1}r.l=function(N){return N=te(this,N),j(N)?-1:k(N)?0:1};function U(N){const R=N.g.length,D=[];for(let L=0;L<R;L++)D[L]=~N.g[L];return new h(D,~N.h).add(b)}r.abs=function(){return j(this)?U(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),D=[];let L=0;for(let M=0;M<=R;M++){let I=L+(this.i(M)&65535)+(N.i(M)&65535),C=(I>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);L=C>>>16,I&=65535,C&=65535,D[M]=C<<16|I}return new h(D,D[D.length-1]&-2147483648?-1:0)};function te(N,R){return N.add(U(R))}r.j=function(N){if(k(this)||k(N))return T;if(j(this))return j(N)?U(this).j(U(N)):U(U(this).j(N));if(j(N))return U(this.j(U(N)));if(this.l(x)<0&&N.l(x)<0)return p(this.m()*N.m());const R=this.g.length+N.g.length,D=[];for(var L=0;L<2*R;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<N.g.length;M++){const I=this.i(L)>>>16,C=this.i(L)&65535,Ee=N.i(M)>>>16,ge=N.i(M)&65535;D[2*L+2*M]+=C*ge,ie(D,2*L+2*M),D[2*L+2*M+1]+=I*ge,ie(D,2*L+2*M+1),D[2*L+2*M+1]+=C*Ee,ie(D,2*L+2*M+1),D[2*L+2*M+2]+=I*Ee,ie(D,2*L+2*M+2)}for(N=0;N<R;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=R;N<2*R;N++)D[N]=0;return new h(D,0)};function ie(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Q(N,R){this.g=N,this.h=R}function oe(N,R){if(k(R))throw Error("division by zero");if(k(N))return new Q(T,T);if(j(N))return R=oe(U(N),R),new Q(U(R.g),U(R.h));if(j(R))return R=oe(N,U(R)),new Q(U(R.g),R.h);if(N.g.length>30){if(j(N)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var D=b,L=R;L.l(N)<=0;)D=fe(D),L=fe(L);var M=ue(D,1),I=ue(L,1);for(L=ue(L,2),D=ue(D,2);!k(L);){var C=I.add(L);C.l(N)<=0&&(M=M.add(D),I=C),L=ue(L,1),D=ue(D,1)}return R=te(N,M.j(R)),new Q(M,R)}for(M=T;N.l(R)>=0;){for(D=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),I=p(D),C=I.j(R);j(C)||C.l(N)>0;)D-=L,I=p(D),C=I.j(R);k(I)&&(I=b),M=M.add(I),N=te(N,C)}return new Q(M,N)}r.B=function(N){return oe(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)&N.i(L);return new h(D,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)|N.i(L);return new h(D,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),D=[];for(let L=0;L<R;L++)D[L]=this.i(L)^N.i(L);return new h(D,this.h^N.h)};function fe(N){const R=N.g.length+1,D=[];for(let L=0;L<R;L++)D[L]=N.i(L)<<1|N.i(L-1)>>>31;return new h(D,N.h)}function ue(N,R){const D=R>>5;R%=32;const L=N.g.length-D,M=[];for(let I=0;I<L;I++)M[I]=R>0?N.i(I+D)>>>R|N.i(I+D+1)<<32-R:N.i(I+D);return new h(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,t1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,ls=h}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n1,Ql,i1,vh,ep,r1,s1,a1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in E))break e;E=E[q]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function m(c,y,E){return c.call.apply(c.bind,arguments)}function p(c,y,E){return p=m,p.apply(null,arguments)}function _(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,q,Y){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return y.prototype[q].apply(A,se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function k(c,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Y=q.length||0;c.length=E+Y;for(let se=0;se<Y;se++)c[E+se]=q[se]}else c.push(q)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function te(){var c=N;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const A=Q.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new j(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ue=!1,N=new ie,R=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(D)}};function D(){for(var c;c=te();){try{c.h.call(c.g)}catch(E){U(E)}var y=Q;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ee(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ee,M),Ee.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(c,y,E,A,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++K,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function He(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)c[E]=A[E];for(let Y=0;Y<Z.length;Y++)E=Z[Y],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,E,A,q){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const se=Ne(c,y,A,q);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new re(y,this.src,Y,!!A,q),y.fa=E,c.push(y)),y};function Se(c,y){const E=y.type;if(E in c.g){var A=c.g[E],q=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(A,q,1),Y&&(pe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,y,E,A){for(let q=0;q<c.length;++q){const Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Ut={};function ot(c,y,E,A,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ot(c,y[Y],E,A,q);return null}return E=Uo(E),c&&c[ge]?c.J(y,E,g(A)?!!A.capture:!1,q):bs(c,y,E,!1,A,q)}function bs(c,y,E,A,q,Y){if(!y)throw Error("Invalid event type");const se=g(q)?!!q.capture:!!q;let Ce=Ss(c);if(Ce||(c[Be]=Ce=new ce(c)),E=Ce.add(y,E,A,se,Y),E.proxy)return E;if(A=ma(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)I||(q=se),q===void 0&&(q=!1),c.addEventListener(y.toString(),A,q);else if(c.attachEvent)c.attachEvent(hi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ma(){function c(E){return y.call(c.src,c.listener,E)}const y=Po;return c}function pa(c,y,E,A,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)pa(c,y[Y],E,A,q);else A=g(A)?!!A.capture:!!A,E=Uo(E),c&&c[ge]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],E=Ne(y,E,A,q),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=Ss(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ne(y,E,A,q)),(E=c>-1?y[c]:null)&&ga(E))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Se(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(hi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ss(y))?(Se(E,c),E.h==0&&(E.src=null,y[Be]=null)):pe(c)}}}function hi(c){return c in Ut?Ut[c]:Ut[c]="on"+c}function Po(c,y){if(c.da)c=!0;else{y=new Ee(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&ga(c),c=E.call(A,y)}return c}function Ss(c){return c=c[Be],c instanceof ce?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function At(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}T(At,L),At.prototype[ge]=!0,At.prototype.removeEventListener=function(c,y,E,A){pa(this,c,y,E,A)};function zt(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var q=y;y=new M(A,c),ae(y,q)}q=!0;let Y,se;if(E)for(se=E.length-1;se>=0;se--)Y=y.g=E[se],q=yr(Y,A,!0,y)&&q;if(Y=y.g=c,q=yr(Y,A,!0,y)&&q,q=yr(Y,A,!1,y)&&q,E)for(se=0;se<E.length;se++)Y=y.g=E[se],q=yr(Y,A,!1,y)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)pe(E[A]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},At.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function yr(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const se=y[Y];if(se&&!se.da&&se.capture==E){const Ce=se.listener,_t=se.ha||se.src;se.fa&&Se(c.i,se),q=Ce.call(_t,A)!==!1&&q}}return q&&!A.defaultPrevented}function Tf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Du(c){c.g=Tf(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends L{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){L.call(this),this.h=c,this.g={}}T(As,L);var zo=[];function jo(c){ke(c.g,function(y,E){this.g.hasOwnProperty(E)&&ga(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),jo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,bf=h.JSON.parse,Ou=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Mu(){}function ku(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){M.call(this,"d")}T(Qt,M);function Dn(){M.call(this,"c")}T(Dn,M);var yt={},Vu=null;function ya(){return Vu=Vu||new At}yt.Ia="serverreachability";function Pu(c){M.call(this,yt.Ia,c)}T(Pu,M);function fi(c){const y=ya();zt(y,new Pu(y))}yt.STAT_EVENT="statevent";function ws(c,y){M.call(this,yt.STAT_EVENT,c),this.stat=y}T(ws,M);function wt(c){const y=ya();zt(y,new ws(y,c))}yt.Ja="timingevent";function di(c,y){M.call(this,yt.Ja,c),this.size=y}T(di,M);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Sf(c,y,E,A,q,Y){c.info(function(){if(c.g)if(Y){var se="",Ce=Y.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var _t=Ce[Qe].split("=");if(_t.length>1){const lt=_t[0];_t=_t[1];const Vn=lt.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(lt+"="+_t+"&"):se+(lt+"=redacted&")}}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+se})}function Lu(c,y,E,A,q,Y,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+Y+" "+se})}function pi(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Af(c,E)+(A?" "+A:"")})}function Rs(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Af(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return _r(Y)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Is(){}T(Is,Mu),Is.prototype.g=function(){return new XMLHttpRequest},qo=new Is;function Bi(c){return encodeURIComponent(String(c))}function Uu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Yn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Rt={},qt={};function gi(c,y,E){c.M=1,c.A=Ns(It(y)),c.u=E,c.R=!0,_a(c,null)}function _a(c,y){c.F=Date.now(),yi(c),c.B=It(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ba(E.i,"t",A),c.C=0,E=c.j.L,c.h=new $n,c.g=Zu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new on(p(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(zo[0]=q.toString()),q=zo);for(let Y=0;Y<q.length;Y++){const se=ot(E,q[Y],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),Sf(c.i,c.v,c.B,c.l,c.S,c.u)}Yn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Wn(this.g),_t=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||_t==7||(_t==8||Qe<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var E=wf(this);if(this.o=y==200,Lu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var Y=A;break t}}Y=null}if(c=Y)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,wt(12),En(this),On(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=ju(this,E),lt==qt){Ce==4&&(this.m=4,wt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Rt){this.m=4,wt(15),pi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,lt,null),vi(this,lt);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,E,"[Invalid Chunked Response]"),En(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),il(se),se.P=!0,wt(11))}}else pi(this.i,this.l,E,null),vi(this,E);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?$u(this.j,this):(this.o=!1,yi(this)))}else Hi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),En(this),On(this)}}}catch{}finally{}};function wf(c){if(!zu(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let E="";const A=y.length,q=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),On(c),"";c.h.i=new h.TextDecoder}for(let Y=0;Y<A;Y++)c.h.h=!0,E+=c.h.i.decode(y[Y],{stream:!(q&&Y==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function zu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ju(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?qt:(E=Number(y.substring(E,A)),isNaN(E)?Rt:(A+=1,A+E>y.length?qt:(y=y.slice(A,A+E),c.C=A+E,y)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function yi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(p(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Yn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(fi(),wt(17)),En(this),this.m=2,On(this)):va(this,this.T-c)};function On(c){c.j.I==0||c.K||$u(c.j,c)}function En(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,jo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ti(E.h,c))){if(!c.L&&Ti(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ca(E),Rr(E);else break e;Ps(E),wt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=mi(p(E.Va,E),6e3));Ei(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((c.L||E.g==c)&&Ca(E),!C(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Qe=q[y];const lt=Qe[0];if(!(lt<=E.K))if(E.K=lt,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Vn=Qe[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Ii=Qe[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const Zn=Qe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ei=c.g;if(ei){const Ls=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var Y=A.h;Y.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Go(Y,Y.h),Y.h=null))}if(A.G){const Ia=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(A.wa=Ia,$e(A.J,A.G,Ia))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var se=c;if(A.na=Wu(A,A.L?A.ba:null,A.W),se.L){Qo(A.h,se);var Ce=se,_t=A.O;_t&&(Ce.H=_t),Ce.D&&(_i(Ce),yi(Ce)),A.g=se}else Ku(A);E.i.length>0&&Ri(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Ci(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ci(E,7):tl(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}fi(4)}catch{}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Go(c,y){c.g?c.g.add(y):c.h=y}function Qo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return x(c.i)}var Bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let q,Y=null;A>=0?(q=c[E].substring(0,A),Y=c[E].substring(A+1)):q=c[E],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Tn?(this.l=c.l,Ht(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Yo(this,Gu(c.i)),this.m=c.m):c&&(y=String(c).match(Bu))?(this.l=!1,Ht(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),vr(this,y[4]),this.h=bi(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}Tn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,Ta,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Ta,!0),"@"),c.push(Bi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xs(E,E.charAt(0)=="/"?$o:qu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xs(E,Hu)),c.join("")},Tn.prototype.resolve=function(c){const y=It(this);let E=!!c.j;E?Ht(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)vr(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let se=0;se<q.length;){const Ce=q[se++];Ce=="."?A&&se==q.length&&Y.push(""):Ce==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&se==q.length&&Y.push("")):(Y.push(Ce),A=!0)}A=Y.join("/")}else A=q}return E?y.h=A:E=c.i.toString()!=="",E?Yo(y,Gu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function It(c){return new Tn(c)}function Ht(c,y,E){c.j=E?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,E){y instanceof Tr?(c.i=y,Sa(c.i,c.l)):(E||(y=xs(y,Er)),c.i=new Tr(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function Ns(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,cn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,qu=/[#\?:]/g,$o=/[#\?]/g,Er=/[#\?@]/g,Hu=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Tr.prototype,r.add=function(c,y){hn(this),this.i=null,c=br(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Fu(c,y){hn(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xo(c,y){return hn(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){hn(this),this.g.forEach(function(E,A){E.forEach(function(q){c.call(y,q,A,this)},this)},this)};function Jo(c,y){hn(c);let E=[];if(typeof y=="string")Xo(c,y)&&(E=E.concat(c.g.get(br(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return hn(this),this.i=null,c=br(this,c),Xo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Jo(this,c),c.length>0?String(c[0]):y):y};function ba(c,y,E){Fu(c,y),E.length>0&&(c.i=null,c.g.set(br(c,y),x(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=Bi(E);E=Jo(this,E);for(let Y=0;Y<E.length;Y++){let se=q;E[Y]!==""&&(se+="="+Bi(E[Y])),c.push(se)}}return this.i=c.join("&")};function Gu(c){const y=new Tr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sa(c,y){y&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(Fu(this,A),ba(this,q,E))},c)),c.j=y}function Xn(c,y){const E=new Kn;if(h.Image){const A=new Image;A.onload=_(Mn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Mn,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Mn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Mn,E,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wo(c,y){const E=new Kn,A=new AbortController,q=setTimeout(()=>{A.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(q),Y.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Mn(E,"TestPingServer: error",!1,y)})}function Mn(c,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Sr(){this.g=new Ou}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,Mu),Si.prototype.g=function(){return new Ds(this.i,this.h)};function Ds(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ds,At),r=Ds.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Jn(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Na=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return ke(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Os(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=kn(E),typeof c=="string"?E!=null&&Bi(E):$e(c,y,E))}function We(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,At);var Ai=/^https?$/i,Zo=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ms(this,Y);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of E)this.g.setRequestHeader(Y,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ms(this,Y)}};function Ms(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),qi(c)}function el(c){c.A||(c.A=!0,zt(c,"complete"),zt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,zt(this,"complete"),zt(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(zt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let se=String(c.D).match(Bu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),A=!Ai.test(se?se.toLowerCase():"")}E=A}if(E)zt(c,"complete"),zt(c,"success");else{c.o=6;try{var q=Wn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",el(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||zt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),bf(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var E=Uu(c[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[q]||[];y[q]=Y,Y.push(E)}He(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function wr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){wt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Wu(this,null,this.W),Ri(this)};function tl(c){if(wa(c),c.I==3){var y=c.V++,E=It(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Vs(c,E),y=new Yn(c,c.j,y),y.M=2,y.A=Ns(It(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Ju(c)}function Rr(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function wa(c){Rr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!Fo(c.h)&&!c.m){c.m=!0;var y=c.Ea;fe||R(),ue||(fe(),ue=!0),N.add(y,c),c.D=0}}function Ra(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(p(c.Ea,c,y),Xu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Yn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=P(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Qu(this,q,y),E=It(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Vs(this,E),Y&&(this.R?y="headers="+Bi(kn(Y))+"&"+y:this.u&&Os(E,this.u,Y)),Go(this.h,q),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),q.U=!0,gi(q,E,null)):gi(q,E,y),this.I=2}}else this.I==3&&(c?nl(this,c):this.i.length==0||Fo(this.h)||nl(this))};function nl(c,y){var E;y?E=y.l:E=c.V++;const A=It(c.J);$e(A,"SID",c.M),$e(A,"RID",E),$e(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Os(A,c.u,c.o),E=new Yn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Qu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Go(c.h,E),gi(E,A,y)}function Vs(c,y){c.H&&ke(c.H,function(E,A){$e(y,A,E)}),c.l&&ke({},function(E,A){$e(y,A,E)})}function Qu(c,y,E){E=Math.min(c.i.length,E);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ce=-1;for(;;){const _t=["count="+E];Ce==-1?E>0?(Ce=q[0].g,_t.push("ofs="+Ce)):Ce=0:_t.push("ofs="+Ce);let Qe=!0;for(let lt=0;lt<E;lt++){var Y=q[lt].g;const Vn=q[lt].map;if(Y-=Ce,Y<0)Ce=Math.max(0,q[lt].g-100),Qe=!1;else try{Y="req"+Y+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,Zn]of se){let ei=Zn;g(Zn)&&(ei=_r(Zn)),_t.push(Y+Ii+"="+encodeURIComponent(ei))}}catch(Ii){throw _t.push(Y+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Vn)}}if(Qe){se=_t.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function Ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;fe||R(),ue||(fe(),ue=!0),N.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(p(c.Da,c),Xu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Rr(this),Yu(this))};function il(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=It(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Os(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ns(It(y)),E.u=null,E.R=!0,_a(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Ps(this),wt(19))};function Ca(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $u(c,y){var E=null;if(c.g==y){Ca(c),il(c),c.g=null;var A=2}else if(Ti(c.h,y))E=y.G,Qo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;A=ya(),zt(A,new di(A,E)),Ri(c)}else Ku(c);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&Ra(c,y)||A==2&&Ps(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Xu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var E=p(c.bb,c),A=c.Ua;const q=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ht(A,"https"),Ns(A),q?Xn(A.toString(),E):Wo(A.toString(),E)}else wt(2);c.I=0,c.l&&c.l.pa(y),Ju(c),wa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ju(c){if(c.I=0,c.ja=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ja,y),k(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function Wu(c,y,E){var A=E instanceof Tn?It(E):new Tn(E);if(A.g!="")y&&(A.g=y+"."+A.g),vr(A,A.u);else{var q=h.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new Tn(null);A&&Ht(Y,A),y&&(Y.g=y),q&&vr(Y,q),E&&(Y.h=E),A=Y}return E=c.G,y=c.wa,E&&y&&$e(A,E,y),$e(A,"VER",c.ka),Vs(c,A),A}function Zu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Si({ab:E})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){At.call(this),this.g=new wr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(ln,At),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){tl(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=_r(c),c=E);y.i.push(new Ct(y.Ya++,c)),y.I==3&&Ri(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,ln.Z.N.call(this)};function tc(c){Qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(tc,Qt);function nc(){Dn.call(this),this.status=1}T(nc,Dn);function Fi(c){this.g=c}T(Fi,ec),Fi.prototype.ra=function(){zt(this.g,"a")},Fi.prototype.qa=function(c){zt(this.g,new tc(c))},Fi.prototype.pa=function(c){zt(this.g,new nc)},Fi.prototype.oa=function(){zt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,a1=function(){return new Cr},s1=function(){return ya()},r1=yt,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,vh=Cs,Bo.COMPLETE="complete",i1=Bo,ku.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",At.prototype.listen=At.prototype.J,Ql=ku,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,n1=We}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.9.0";function gN(r){Do=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Dp("@firebase/firestore");function ro(){return aa.logLevel}function he(r,...e){if(aa.logLevel<=Le.DEBUG){const n=e.map(qp);aa.debug(`Firestore (${Do}): ${r}`,...n)}}function fr(r,...e){if(aa.logLevel<=Le.ERROR){const n=e.map(qp);aa.error(`Firestore (${Do}): ${r}`,...n)}}function oa(r,...e){if(aa.logLevel<=Le.WARN){const n=e.map(qp);aa.warn(`Firestore (${Do}): ${r}`,...n)}}function qp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,o1(r,s,n)}function o1(r,e,n){let s=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||o1(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const m=u;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},g=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((m=>g(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?g(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new l1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class EN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class TN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new EN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new z0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=SN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function tp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Vm(o)===Vm(u)?Ue(o,u):Vm(o)?1:-1}return Ue(r.length,e.length)}const AN=55296,wN=57343;function Vm(r){const e=r.charCodeAt(0);return e>=AN&&e<=wN}function _o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class it extends Mi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Mi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return RN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new Zt([j0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(s+=g,o++):(u(),o++)}if(u(),h)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CN(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function B0(r){if(!_e.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(_e.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function c1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r,e){const n={typeString:r};return e&&(n.value=e),n}function wu(r,e){if(!c1(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,F0=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*F0);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F0}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Pt("string",at._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function IN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new fs(o,_e.empty(),e)}function NN(r){return new fs(r.readTime,r.key,lu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Ae.min(),_e.empty(),lu)}static max(){return new fs(Ae.max(),_e.empty(),lu)}}function xN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==DN)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((g=>{++o,g.next((()=>{++u,h&&u===o&&n()}),(m=>s(m)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let g=0;for(let m=0;m<u;m++){const p=m;n(e[p]).next((_=>{h[p]=_,++g,g===u&&s(h)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function MN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function tf(r){return r==null}function kh(r){return r===0&&1/r==-1/0}function kN(r){return typeof r=="number"&&Number.isInteger(r)&&!kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="";function VN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=G0(e)),e=PN(r.get(n),e);return G0(e)}function PN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case h1:n+="";break;default:n+=u}}return n}function G0(r){return r+h1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function f1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Bt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new d1("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const LN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=LN.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="server_timestamp",p1="__type__",g1="__previous_value__",y1="__local_write_time__";function Gp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[p1])==null?void 0:s.stringValue)===m1}function nf(r){const e=r.mapValue.fields[g1];return Gp(e)?nf(e):e}function uu(r){const e=ds(r.mapValue.fields[y1].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,s,o,u,h,g,m,p,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=T}}const Vh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function zN(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="__type__",jN="__max__",ch={mapValue:{}},v1="__vector__",Ph="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gp(r)?4:qN(r)?9007199254740991:BN(r)?10:11:be(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),g=ds(u.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),g=bt(u.doubleValue);return h===g?kh(h)===kh(g):isNaN(h)&&isNaN(g)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Q0(h)!==Q0(g))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(g[m]===void 0||!zi(h[m],g[m])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function hu(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const g=bt(u.integerValue||u.doubleValue),m=bt(h.integerValue||h.doubleValue);return g<m?-1:g>m?1:g===m?0:isNaN(g)?isNaN(m)?0:-1:1})(r,e);case 3:return Y0(r.timestampValue,e.timestampValue);case 4:return Y0(uu(r),uu(e));case 5:return tp(r.stringValue,e.stringValue);case 6:return(function(u,h){const g=ms(u),m=ms(h);return g.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const g=u.split("/"),m=h.split("/");for(let p=0;p<g.length&&p<m.length;p++){const _=Ue(g[p],m[p]);if(_!==0)return _}return Ue(g.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const g=Ue(bt(u.latitude),bt(h.latitude));return g!==0?g:Ue(bt(u.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var b,x,k,j;const g=u.fields||{},m=h.fields||{},p=(b=g[Ph])==null?void 0:b.arrayValue,_=(x=m[Ph])==null?void 0:x.arrayValue,T=Ue(((k=p==null?void 0:p.values)==null?void 0:k.length)||0,((j=_==null?void 0:_.values)==null?void 0:j.length)||0);return T!==0?T:$0(p,_)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ch.mapValue&&h===ch.mapValue)return 0;if(u===ch.mapValue)return 1;if(h===ch.mapValue)return-1;const g=u.fields||{},m=Object.keys(g),p=h.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const b=tp(m[T],_[T]);if(b!==0)return b;const x=vo(g[m[T]],p[_[T]]);if(x!==0)return x}return Ue(m.length,_.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Y0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=ds(r),s=ds(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function $0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function Eo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(n.fields[h])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Eh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function X0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function W0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function BN(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[_1])==null?void 0:s.stringValue)===v1}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return e}return{...r}}function qN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((h,g)=>{if(!n.isImmediateParentOf(g)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=g.popLast()}h?s[g.lastSegment()]=Wl(h):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(Wl(this.value))}}function E1(r){const e=[];return Es(r.fields,((n,s)=>{const o=new Zt([n]);if(Th(s)){const u=E1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,h,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=g}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function Z0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function HN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class Vt extends T1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GN(e,n,s):n==="array-contains"?new YN(e,s):n==="in"?new $N(e,s):n==="not-in"?new XN(e,s):n==="array-contains-any"?new JN(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QN(e,s):new KN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends T1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return b1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b1(r){return r.op==="and"}function S1(r){return FN(r)&&b1(r)}function FN(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function rp(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(S1(r))return r.filters.map((e=>rp(e))).join(",");{const e=r.filters.map((n=>rp(n))).join(",");return`${r.op}(${e})`}}function A1(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,g)=>u&&A1(h,o.filters[g])),!0):!1})(r,e):void be(19439)}function w1(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(w1).join(" ,")+"}"})(r):"Filter"}class GN extends Vt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class QN extends Vt{constructor(e,n){super(e,"in",n),this.keys=R1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KN extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=R1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function R1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class YN extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&hu(n.arrayValue,this.value)}}class $N extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class XN extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class JN extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n=null,s=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.Te=null}}function tE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new WN(r,e,n,s,o,u,h)}function Kp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>rp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function Yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!HN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!A1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!eE(r.startAt,e.startAt)&&eE(r.endAt,e.endAt)}function sp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n=null,s=[],o=[],u=null,h="F",g=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ZN(r,e,n,s,o,u,h,g){return new ko(r,e,n,s,o,u,h,g)}function $p(r){return new ko(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ex(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function C1(r){return r.collectionGroup!==null}function Zl(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new Bt(Zt.comparator);return h.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new fu(Zt.keyField(),s))}return e.Ie}function Pi(r){const e=Re(r);return e.Ee||(e.Ee=tx(e,Zl(r))),e.Ee}function tx(r,e){if(r.limitType==="F")return tE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=r.endAt?new Lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Lh(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ap(r,e){const n=r.filters.concat([e]);return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function nx(r,e){const n=r.explicitOrderBy.concat([e]);return new ko(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Uh(r,e,n){return new ko(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function rf(r,e){return Yp(Pi(r),Pi(e))&&r.limitType===e.limitType}function I1(r){return`${Kp(Pi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>w1(o))).join(", ")}]`),tf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function sf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,g,m){const p=Z0(h,g,m);return h.inclusive?p<=0:p<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(h,g,m){const p=Z0(h,g,m);return h.inclusive?p>=0:p>0})(s.endAt,Zl(s),o))})(r,e)}function ix(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N1(r){return(e,n)=>{let s=!1;for(const o of Zl(r)){const u=rx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rx(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,h,g){const m=h.data.field(u),p=g.data.field(u);return m!==null&&p!==null?vo(m,p):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return f1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new ft(_e.comparator);function dr(){return sx}const x1=new ft(_e.comparator);function Kl(...r){let e=x1;for(const n of r)e=e.insert(n.key,n);return e}function D1(r){let e=x1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return eu()}function O1(){return eu()}function eu(){return new fa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ax=new ft(_e.comparator),ox=new Bt(_e.comparator);function ze(...r){let e=ox;for(const n of r)e=e.add(n);return e}const lx=new Bt(Ue);function ux(){return lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function M1(r){return{integerValue:""+r}}function cx(r,e){return kN(e)?M1(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function hx(r,e,n){return r instanceof du?(function(o,u){const h={fields:{[p1]:{stringValue:m1},[y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=nf(u)),u&&(h.fields[g1]=u),{mapValue:h}})(n,e):r instanceof mu?V1(r,e):r instanceof pu?P1(r,e):(function(o,u){const h=k1(o,u),g=iE(h)+iE(o.Ae);return ip(h)&&ip(o.Ae)?M1(g):Xp(o.serializer,g)})(r,e)}function fx(r,e,n){return r instanceof mu?V1(r,e):r instanceof pu?P1(r,e):n}function k1(r,e){return r instanceof zh?(function(s){return ip(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class du extends af{}class mu extends af{constructor(e){super(),this.elements=e}}function V1(r,e){const n=L1(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends af{constructor(e){super(),this.elements=e}}function P1(r,e){let n=L1(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class zh extends af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iE(r){return bt(r.integerValue||r.doubleValue)}function L1(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.field=e,this.transform=n}}function mx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?_o(s.elements,o.elements,zi):s instanceof zh&&o instanceof zh?zi(s.Ae,o.Ae):s instanceof du&&o instanceof du})(r.transform,e.transform)}class px{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class of{}function U1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new lf(r.key,vn.none()):new Ru(r.key,r.data,vn.none());{const n=r.data,s=_n.empty();let o=new Bt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(r.key,s,new Nn(o.toArray()),vn.none())}}function gx(r,e,n){r instanceof Ru?(function(o,u,h){const g=o.value.clone(),m=sE(o.fieldTransforms,u,h.transformResults);g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):r instanceof Ts?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const g=sE(o.fieldTransforms,u,h.transformResults),m=u.data;m.setAll(z1(o)),m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function tu(r,e,n,s){return r instanceof Ru?(function(u,h,g,m){if(!bh(u.precondition,h))return g;const p=u.value.clone(),_=aE(u.fieldTransforms,m,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ts?(function(u,h,g,m){if(!bh(u.precondition,h))return g;const p=aE(u.fieldTransforms,m,h),_=h.data;return _.setAll(z1(u)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,g){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g})(r,e,n)}function yx(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=k1(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function rE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,h)=>mx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ru extends of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function z1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function sE(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,g=e.data.field(u.field);s.set(u.field,fx(h,g,n[o]))}return s}function aE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,hx(u,h,e))}return s}class lf extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _x extends of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&gx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=O1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let g=this.applyToLocalView(h,u.mutatedFields);g=n.has(o.key)?null:g;const m=U1(h,g);m!==null&&s.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,s)=>rE(n,s)))&&_o(this.baseMutations,e.baseMutations,((n,s)=>rE(n,s)))}}class Jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ax})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Jp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,qe;function bx(r){switch(r){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function j1(r){if(r===void 0)return fr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Mt.OK:return W.OK;case Mt.CANCELLED:return W.CANCELLED;case Mt.UNKNOWN:return W.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return W.INTERNAL;case Mt.UNAVAILABLE:return W.UNAVAILABLE;case Mt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Mt.NOT_FOUND:return W.NOT_FOUND;case Mt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Mt.ABORTED:return W.ABORTED;case Mt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Mt.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Mt||(Mt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new ls([4294967295,4294967295],0);function oE(r){const e=Sx().encode(r),n=new t1;return n.update(e),new Uint8Array(n.digest())}function lE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(Ax)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oE(e),[s,o]=lE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,n);return s.forEach((g=>h.insert(g))),h}insert(e){if(this.ge===0)return;const n=oE(e),[s,o]=lE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(Ae.min(),o,new ft(Ue),dr(),ze())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class B1{constructor(e,n){this.targetId=e,this.Ce=n}}class q1{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class uE{constructor(){this.ve=0,this.Fe=cE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new Cu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=cE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wx{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=hh(),this.Je=hh(),this.Ze=new ft(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(sp(u))if(s===0){const h=new _e(u.path);this.et(n,h,sn.newNoDocument(h,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const g=this.ut(e),m=g?this.ct(g,e,h):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,g;try{h=ms(s).toUint8Array()}catch(m){if(m instanceof d1)return oa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{g=new Wp(h,o,u)}catch(m){return oa(m instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),g=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const g=this.ot(h);if(g){if(u.current&&sp(g.target)){const m=new _e(g.target.path);this.It(m).has(h)||this.Et(h,m)||this.et(h,m,sn.newNoDocument(m,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=ze();this.Je.forEach(((u,h)=>{let g=!0;h.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new uf(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=hh(),this.Je=hh(),this.Ze=new ft(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new uE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new ft(_e.comparator)}function cE(){return new ft(_e.comparator)}const Rx={asc:"ASCENDING",desc:"DESCENDING"},Cx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ix={and:"AND",or:"OR"};class Nx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(r,e){return r.useProto3Json||tf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xx(r,e){return jh(r,e.toTimestamp())}function Li(r){return Ye(!!r,49232),Ae.fromTimestamp((function(n){const s=ds(n);return new at(s.seconds,s.nanos)})(r))}function Zp(r,e){return lp(r,e).canonicalString()}function lp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function F1(r){const e=it.fromString(r);return Ye($1(e),10190,{key:e.toString()}),e}function up(r,e){return Zp(r.databaseId,e.path)}function Pm(r,e){const n=F1(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(Q1(n))}function G1(r,e){return Zp(r.databaseId,e)}function Dx(r){const e=F1(r);return e.length===4?it.emptyPath():Q1(e)}function cp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q1(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hE(r,e,n){return{name:up(r,e),fields:n.value.mapValue.fields}}function Ox(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),en.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),en.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&(function(p){const _=p.code===void 0?W.UNKNOWN:j1(p.code);return new le(_,p.message||"")})(h);n=new q1(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(r,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Ae.min(),g=new _n({mapValue:{fields:s.document.fields}}),m=sn.newFoundDocument(o,u,h,g),p=s.targetIds||[],_=s.removedTargetIds||[];n=new Sh(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(r,s.document),u=s.readTime?Li(s.readTime):Ae.min(),h=sn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Sh([],g,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new Tx(o,u),g=s.targetId;n=new B1(g,h)}}return n}function Mx(r,e){let n;if(e instanceof Ru)n={update:hE(r,e.key,e.value)};else if(e instanceof lf)n={delete:up(r,e.key)};else if(e instanceof Ts)n={update:hE(r,e.key,e.data),updateMask:qx(e.fieldMask)};else{if(!(e instanceof _x))return be(16599,{dt:e.type});n={verify:up(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const g=h.transform;if(g instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zh)return{fieldPath:h.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:xx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function kx(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(Ae.min())&&(h=Li(u)),new px(h,o.transformResults||[])})(n,e)))):[]}function Vx(r,e){return{documents:[G1(r,e.path)]}}function Px(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=G1(r,o);const u=(function(p){if(p.length!==0)return Y1(ci.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((_=>(function(b){return{field:ao(b.field),direction:zx(b.dir)}})(_)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const g=op(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function Lx(r){let e=Dx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const b=K1(T);return b instanceof ci&&S1(b)?b.getFilters():[b]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((b=>(function(k){return new fu(oo(k.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(b)))})(n.orderBy));let g=null;n.limit&&(g=(function(T){let b;return b=typeof T=="object"?T.value:T,tf(b)?null:b})(n.limit));let m=null;n.startAt&&(m=(function(T){const b=!!T.before,x=T.values||[];return new Lh(x,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const b=!T.before,x=T.values||[];return new Lh(x,b)})(n.endAt)),ZN(e,o,h,u,g,"F",m,p)}function Ux(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>K1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function zx(r){return Rx[r]}function jx(r){return Cx[r]}function Bx(r){return Ix[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return Zt.fromServerFormat(r.fieldPath)}function Y1(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(W0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:jx(n.op),value:n.value}}})(r):r instanceof ci?(function(n){const s=n.getFilters().map((o=>Y1(o)));return s.length===1?s[0]:{compositeFilter:{op:Bx(n.op),filters:s}}})(r):be(54877,{filter:r})}function qx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function X1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),g=en.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=m}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.yt=e}}function Fx(r){const e=Lx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.Sn=new Qx}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(fs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Bt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J1=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(J1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new To(0)}static ar(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",Kx=1048576;function mE([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class Yx{constructor(e){this.Pr=e,this.buffer=new Bt(mE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $x{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(dE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?he(dE,"Ignoring IndexedDB error during garbage collection: ",n):await Oo(n)}await this.Ar(3e5)}))}}class Xx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(ef.ce);const s=new Yx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(fE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,g,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,g=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),ro()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${u} targets in `+(m-g)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Jx(r,e){return new Xx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,Nn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Kl();return u.forEach(((g,m)=>{h=h.insert(g,m.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,g)=>{n.set(h,g)}))}))}computeViews(e,n,s,o){let u=dr();const h=eu(),g=(function(){return eu()})();return n.forEach(((m,p)=>{const _=s.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof Ts)?u=u.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),tu(_.mutation,p,_.mutation.getFieldMask(),at.now())):h.set(p.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((m=>(m.forEach(((p,_)=>h.set(p,_))),n.forEach(((p,_)=>g.set(p,new Zx(_,h.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new ft(((h,g)=>h-g)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const g of h)g.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let _=s.get(m)||Nn.empty();_=g.applyToLocalView(p,_),s.set(m,_);const T=(o.get(g.batchId)||ze()).add(m);o=o.insert(g.batchId,T)}))})).next((()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const m=g.getNext(),p=m.key,_=m.value,T=O1();_.forEach((b=>{if(!u.has(b)){const x=U1(n.get(b),s.get(b));x!==null&&T.set(b,x),u=u.add(b)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return ex(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ea());let g=lu,m=u;return h.next((p=>ne.forEach(p,((_,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{m=m.insert(_,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,m,p,ze()))).next((_=>({batchId:g,changes:D1(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(e,u).next((g=>ne.forEach(g,(m=>{const p=(function(T,b){return new ko(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((_=>{_.forEach(((T,b)=>{h=h.insert(T,b)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((m,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,sn.newInvalidDocument(_)))}));let g=Kl();return h.forEach(((m,p)=>{const _=u.get(m);_!==void 0&&tu(_.mutation,p,Nn.empty(),at.now()),sf(n,p)&&(g=g.insert(m,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Fx(o.bundledQuery),readTime:Li(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.overlays=new ft(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,h=new _e(n.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const m=g.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft(((p,_)=>p-_));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let _=u.get(p.largestBatchId);_===null&&(_=ea(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=ea(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=o)););return ne.resolve(g)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Ex(n,s));let u=this.Lr.get(n);u===void 0&&(u=ze(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.kr=new Bt(Gt.Kr),this.qr=new Bt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new it([])),s=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new it([])),s=new Gt(n,e),o=new Gt(n,e+1);let u=ze();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Gt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Gt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vx(u,n,s,o);this.mutationQueue.push(h);for(const g of o)this.Jr=this.Jr.add(new Gt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Fp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const g=this.Zr(h.Hr);u.push(g)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Ue);return n.forEach((o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(g=>{s=s.add(g.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new _e(u),0);let g=new Bt(Ue);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(m.Hr)),!0)}),h),ne.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Gt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.ti=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const h=n.path,g=new _e(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(g);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||xN(NN(_),s)<=0||(o.has(_.key)||sf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new a4(this)}getSize(e){return ne.resolve(this.size)}}class a4 extends Wx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.persistence=e,this.ri=new fa((n=>Kp(n)),Yp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new eg,this.targetCount=0,this.oi=To._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new To(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this._i={},this.overlays={},this.ai=new ef(0),this.ui=!1,this.ui=!0,this.ci=new i4,this.referenceDelegate=e(this),this.li=new o4(this),this.indexManager=new Gx,this.remoteDocumentCache=(function(o){return new s4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Hx(n),this.Pi=new t4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new r4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new l4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class l4 extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Ri=new eg,this.Ai=null}static Vi(e){return new tg(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Bh{constructor(e,n){this.persistence=e,this.fi=new fa((s=>VN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Jx(this,n)}static Vi(e,n){return new Bh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((g=>{g||(s++,u.removeEntry(h,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ng(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return PR()?8:MN(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new u4;return this.ys(e,n,h).next((g=>{if(u.result=g,this.As)return this.ws(e,n,h,g.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ro()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(ro()<=Le.DEBUG&&he("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ro()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):ne.resolve())}gs(e,n){if(nE(n))return ne.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Uh(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=ze(...u);return this.fs.getDocuments(e,h).next((g=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.bs(n,g);return this.Ss(n,p,h,m.readTime)?this.gs(e,Uh(n,null,"F")):this.Ds(e,p,n,m)}))))})))))}ps(e,n,s,o){return nE(n)||o.isEqual(Ae.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ne.resolve(null):(ro()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.Ds(e,h,n,IN(o,lu)).next((g=>g)))}))}bs(e,n){let s=new Bt(N1(e));return n.forEach(((o,u)=>{sf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ro()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",so(n)),this.fs.getDocumentsMatchingQuery(e,n,fs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",h4=3e8;class f4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ft(Ue),this.Fs=new fa((u=>Kp(u)),Yp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function d4(r,e,n,s){return new f4(r,e,n,s)}async function Z1(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],g=[];let m=ze();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ns:p,removedBatchIds:h,addedBatchIds:g})))}))}))}function m4(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,m,p,_){const T=p.batch,b=T.keys();let x=ne.resolve();return b.forEach((k=>{x=x.next((()=>_.getEntry(m,k))).next((j=>{const U=p.docVersions.get(k);Ye(U!==null,48541),j.version.compareTo(U)<0&&(T.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),_.addEntry(j)))}))})),x.next((()=>g.mutationQueue.removeMutationBatch(m,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let m=ze();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(m=m.add(g.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function eb(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function p4(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((_,T)=>{const b=o.get(T);if(!b)return;g.push(n.li.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,T))));let x=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(T,x),(function(j,U,te){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=h4?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(b,x,_)&&g.push(n.li.updateTargetData(u,x))}));let m=dr(),p=ze();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(g4(u,h,e.documentUpdates).next((_=>{m=_.Bs,p=_.Ls}))),!s.isEqual(Ae.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(_)}return ne.waitFor(g).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,m,p))).next((()=>m))})).then((u=>(n.vs=o,u)))}function g4(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=dr();return n.forEach(((g,m)=>{const p=u.get(g);m.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),m.isNoDocument()&&m.version.isEqual(Ae.min())?(e.removeEntry(g,m.readTime),h=h.insert(g,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),h=h.insert(g,m)):he(ig,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",m.version)})),{Bs:h,Ls:o}}))}function y4(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function _4(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function hp(r,e,n){const s=Re(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;he(ig,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function pE(r,e,n){const s=Re(r);let o=Ae.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(m,p,_){const T=Re(m),b=T.Fs.get(_);return b!==void 0?ne.resolve(T.vs.get(b)):T.li.getTargetData(p,_)})(s,h,Pi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,g.targetId).next((m=>{u=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:ze()))).next((g=>(v4(s,ix(e),g),{documents:g,ks:u})))))}function v4(r,e,n){let s=r.Ms.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class gE{constructor(){this.activeTargetIds=ux()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(){this.vo=new gE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class _E{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function fp(){return fh===null?fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",b4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=fp(),g=this.Qo(e,n.toUriEncodedString());he(Lm,`Sending RPC '${e}' ${h}:`,g,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,o,u);const{host:p}=new URL(g),_=Co(p);return this.zo(e,g,m,s,_).then((T=>(he(Lm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw oa(Lm,`RPC '${e}' ${h} failed with error: `,T,"url: ",g,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=b4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection",Hl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class mo extends S4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!mo.c_){const e=s1();Hl(e,r1.STAT_EVENT,(n=>{n.stat===ep.PROXY?he(nn,"STAT_EVENT: detected buffering proxy"):n.stat===ep.NOPROXY&&he(nn,"STAT_EVENT: detected no buffering proxy")})),mo.c_=!0}}zo(e,n,s,o,u){const h=fp();return new Promise(((g,m)=>{const p=new n1;p.setWithCredentials(!0),p.listenOnce(i1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case vh.NO_ERROR:const T=p.getResponseJson();he(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),g(T);break;case vh.TIMEOUT:he(nn,`RPC '${e}' ${h} timed out`),m(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const b=p.getStatus();if(he(nn,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const k=x==null?void 0:x.error;if(k&&k.status&&k.message){const j=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(k.status);m(new le(j,k.message))}else m(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new le(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(nn,`RPC '${e}' ${h} completed.`)}}));const _=JSON.stringify(o);he(nn,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=fp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const p=u.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${p}`,g);const _=h.createWebChannel(p,g);this.I_(_);let T=!1,b=!1;const x=new A4({Ho:k=>{b?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),he(nn,`RPC '${e}' stream ${o} sending:`,k),_.send(k))},Jo:()=>_.close()});return Hl(_,Ql.EventType.OPEN,(()=>{b||(he(nn,`RPC '${e}' stream ${o} transport opened.`),x.i_())})),Hl(_,Ql.EventType.CLOSE,(()=>{b||(b=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),x.o_(),this.E_(_))})),Hl(_,Ql.EventType.ERROR,(k=>{b||(b=!0,oa(nn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),x.o_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Hl(_,Ql.EventType.MESSAGE,(k=>{var j;if(!b){const U=k.data[0];Ye(!!U,16349);const te=U,ie=(te==null?void 0:te.error)||((j=te[0])==null?void 0:j.error);if(ie){he(nn,`RPC '${e}' stream ${o} received error:`,ie);const Q=ie.status;let oe=(function(N){const R=Mt[N];if(R!==void 0)return j1(R)})(Q),fe=ie.message;Q==="NOT_FOUND"&&fe.includes("database")&&fe.includes("does not exist")&&fe.includes(this.databaseId.database)&&oa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),oe===void 0&&(oe=W.INTERNAL,fe="Unknown error status: "+Q+" with message "+ie.message),b=!0,x.o_(new le(oe,fe)),_.close()}else he(nn,`RPC '${e}' stream ${o} received:`,U),x.__(U)}})),mo.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return a1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(r){return new mo(r)}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(r){return new Nx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.c_=!1;class tb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class nb{constructor(e,n,s,o,u,h,g,m){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R4 extends nb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ox(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?Li(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,h){let g;const m=h.target;if(g=sp(m)?{documents:Vx(u,m)}:{query:Px(u,m).ft},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=H1(u,h.resumeToken);const p=op(u,h.expectedCount);p!==null&&(g.expectedCount=p)}else if(h.snapshotVersion.compareTo(Ae.min())>0){g.readTime=jh(u,h.snapshotVersion.toTimestamp());const p=op(u,h.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=Ux(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.K_(n)}}class C4 extends nb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kx(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=cp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Mx(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{}class N4 extends I4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,lp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,g])=>this.connection.jo(e,lp(n,s),o,h,g,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(W.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function x4(r,e,n,s){return new N4(r,e,n,s)}class D4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class O4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{da(this)&&(he(la,"Restarting streams for network reachability change."),await(async function(m){const p=Re(m);p.Ea.add(4),await Iu(p),p.Va.set("Unknown"),p.Ea.delete(4),await hf(p)})(this))}))})),this.Va=new D4(s,o)}}async function hf(r){if(da(r))for(const e of r.Ra)await e(!0)}async function Iu(r){for(const e of r.Ra)await e(!1)}function ib(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),og(n)?ag(n):Vo(n).O_()&&sg(n,e))}function rg(r,e){const n=Re(r),s=Vo(n);n.Ia.delete(e),s.O_()&&rb(n,e),n.Ia.size===0&&(s.O_()?s.L_():da(n)&&n.Va.set("Unknown"))}function sg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(r).Z_(e)}function rb(r,e){r.da.$e(e),Vo(r).X_(e)}function ag(r){r.da=new wx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Va.ua()}function og(r){return da(r)&&!Vo(r).x_()&&r.Ia.size>0}function da(r){return Re(r).Ea.size===0}function sb(r){r.da=void 0}async function M4(r){r.Va.set("Online")}async function k4(r){r.Ia.forEach(((e,n)=>{sg(r,e)}))}async function V4(r,e){sb(r),og(r)?(r.Va.ha(e),ag(r)):r.Va.set("Unknown")}async function P4(r,e,n){if(r.Va.set("Online"),e instanceof q1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.Ia.delete(g),o.da.removeTarget(g))})(r,e)}catch(s){he(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(r,s)}else if(e instanceof Sh?r.da.Xe(e):e instanceof B1?r.da.st(e):r.da.tt(e),!n.isEqual(Ae.min()))try{const s=await eb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const g=u.da.Tt(h);return g.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(m.resumeToken,h))}})),g.targetMismatches.forEach(((m,p)=>{const _=u.Ia.get(m);if(!_)return;u.Ia.set(m,_.withResumeToken(en.EMPTY_BYTE_STRING,_.snapshotVersion)),rb(u,m);const T=new is(_.target,m,p,_.sequenceNumber);sg(u,T)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){he(la,"Failed to raise snapshot:",s),await qh(r,s)}}async function qh(r,e,n){if(!Mo(e))throw e;r.Ea.add(1),await Iu(r),r.Va.set("Offline"),n||(n=()=>eb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(la,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await hf(r)}))}function ab(r,e){return e().catch((n=>qh(r,n,e)))}async function ff(r){const e=Re(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fp;for(;L4(e);)try{const o=await y4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,U4(e,o)}catch(o){await qh(e,o)}ob(e)&&lb(e)}function L4(r){return da(r)&&r.Ta.length<10}function U4(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function ob(r){return da(r)&&!gs(r).x_()&&r.Ta.length>0}function lb(r){gs(r).start()}async function z4(r){gs(r).ra()}async function j4(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function B4(r,e,n){const s=r.Ta.shift(),o=Jp.from(s,e,n);await ab(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ff(r)}async function q4(r,e){e&&gs(r).Y_&&await(async function(s,o){if((function(h){return bx(h)&&h!==W.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await ab(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ff(s)}})(r,e),ob(r)&&lb(r)}async function EE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),he(la,"RemoteStore received new credentials");const s=da(n);n.Ea.add(3),await Iu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function H4(r,e){const n=Re(r);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Iu(n),n.Va.set("Unknown"))}function Vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new R4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:M4.bind(null,r),Yo:k4.bind(null,r),t_:V4.bind(null,r),J_:P4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),og(r)?ag(r):r.Va.set("Unknown")):(await r.ma.stop(),sb(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new C4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:z4.bind(null,r),t_:q4.bind(null,r),ta:j4.bind(null,r),na:B4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await ff(r)):(await r.fa.stop(),r.Ta.length>0&&(he(la,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,g=new lg(e,n,h,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Mo(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,u,h,g,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((g=>{h.push({type:0,doc:g})})),new bo(e,n,po.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class G4{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=bE(),u.forEach(((h,g)=>{for(const m of g.ba)m.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function bE(){return new fa((r=>I1(r)),rf)}async function ub(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new F4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const g=ug(h,`Initialization of query '${so(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&cg(n)}async function cb(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q4(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const g of h.ba)g.Fa(o)&&(s=!0);h.wa=o}}s&&cg(n)}function K4(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function cg(r){r.Ca.forEach((e=>{e.next()}))}var dp,SE;(SE=dp||(dp={})).Ma="default",SE.Cache="cache";class hb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.key=e}}class db{constructor(e){this.key=e}}class Y4{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=N1(e),this.tu=new po(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new TE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,g=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const b=o.get(_),x=sf(this.query,T)?T:null,k=!!b&&this.mutatedKeys.has(b.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;b&&x?b.data.isEqual(x.data)?k!==j&&(s.track({type:3,doc:x}),U=!0):this.su(b,x)||(s.track({type:2,doc:x}),U=!0,(m&&this.eu(x,m)>0||p&&this.eu(x,p)<0)&&(g=!0)):!b&&x?(s.track({type:0,doc:x}),U=!0):b&&!x&&(s.track({type:1,doc:b}),U=!0,(m||p)&&(g=!0)),U&&(x?(h=h.add(x),u=j?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((_,T)=>(function(x,k){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:U})}};return j(x)-j(k)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],m=this.Ya.size===0&&this.current&&!o?1:0,p=m!==this.Xa;return this.Xa=m,h.length!==0||p?{snapshot:new bo(this.query,e.tu,u,h,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new db(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new fb(s))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hg="SyncEngine";class $4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class X4{constructor(e){this.key=e,this.hu=!1}}class J4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fa((g=>I1(g)),rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(_e.comparator),this.Au=new Map,this.Vu=new eg,this.du={},this.mu=new Map,this.fu=To.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W4(r,e,n=!0){const s=vb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await mb(s,e,n,!0),o}async function Z4(r,e){const n=vb(r);await mb(n,e,!0,!1)}async function mb(r,e,n,s){const o=await _4(r.localStore,Pi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await eD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&ib(r.remoteStore,o),g}async function eD(r,e,n,s,o){r.pu=(T,b,x)=>(async function(j,U,te,ie){let Q=U.view.ru(te);Q.Ss&&(Q=await pE(j.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,Q))));const oe=ie&&ie.targetChanges.get(U.targetId),fe=ie&&ie.targetMismatches.get(U.targetId)!=null,ue=U.view.applyChanges(Q,j.isPrimaryClient,oe,fe);return wE(j,U.targetId,ue.au),ue.snapshot})(r,T,b,x);const u=await pE(r.localStore,e,!0),h=new Y4(e,u.ks),g=h.ru(u.documents),m=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=h.applyChanges(g,r.isPrimaryClient,m);wE(r,n,p.au);const _=new $4(e,n,h);return r.Tu.set(e,_),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function tD(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!rf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),mp(s,o.targetId)})).catch(Oo)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function nD(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function iD(r,e,n){const s=cD(r);try{const o=await(function(h,g){const m=Re(h),p=at.now(),_=g.reduce(((x,k)=>x.add(k.key)),ze());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let k=dr(),j=ze();return m.xs.getEntries(x,_).next((U=>{k=U,k.forEach(((te,ie)=>{ie.isValidDocument()||(j=j.add(te))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,k))).next((U=>{T=U;const te=[];for(const ie of g){const Q=yx(ie,T.get(ie.key).overlayedDocument);Q!=null&&te.push(new Ts(ie.key,Q,E1(Q.value.mapValue),vn.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,te,g)})).next((U=>{b=U;const te=U.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(x,U.batchId,te)}))})).then((()=>({batchId:b.batchId,changes:D1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,g,m){let p=h.du[h.currentUser.toKey()];p||(p=new ft(Ue)),p=p.insert(g,m),h.du[h.currentUser.toKey()]=p})(s,o.batchId,n),await Nu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");n.reject(u)}}async function pb(r,e){const n=Re(r);try{const s=await p4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Nu(n,s,e)}catch(s){await Oo(s)}}function AE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const g=h.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(h,g){const m=Re(h);m.onlineState=g;let p=!1;m.queries.forEach(((_,T)=>{for(const b of T.ba)b.va(g)&&(p=!0)})),p&&cg(m)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rD(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(_e.comparator);h=h.insert(u,sn.newNoDocument(u,Ae.min()));const g=ze().add(u),m=new uf(Ae.min(),new Map,new ft(Ue),h,g);await pb(s,m),s.Ru=s.Ru.remove(u),s.Au.delete(e),fg(s)}else await hp(s.localStore,e,!1).then((()=>mp(s,e,n))).catch(Oo)}async function sD(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await m4(n.localStore,e);yb(n,s,null),gb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Oo(o)}}async function aD(r,e,n){const s=Re(r);try{const o=await(function(h,g){const m=Re(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return m.mutationQueue.lookupMutationBatch(p,g).next((T=>(Ye(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(p,T)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>m.localDocuments.getDocuments(p,_)))}))})(s.localStore,e);yb(s,e,n),gb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Oo(o)}}function gb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function yb(r,e,n){const s=Re(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||_b(r,s)}))}function _b(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(rg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),fg(r))}function wE(r,e,n){for(const s of n)s instanceof fb?(r.Vu.addReference(s.key,e),oD(r,s)):s instanceof db?(he(hg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||_b(r,s.key)):be(19791,{wu:s})}function oD(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(hg,"New document in limbo: "+n),r.Eu.add(s),fg(r))}function fg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(it.fromString(e)),s=r.fu.next();r.Au.set(s,new X4(n)),r.Ru=r.Ru.insert(n,s),ib(r.remoteStore,new is(Pi($p(n.path)),s,"TargetPurposeLimboResolution",ef.ce))}}async function Nu(r,e,n){const s=Re(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,m)=>{h.push(s.pu(m,e,n).then((p=>{var _;if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(m.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){o.push(p);const T=ng.Es(m.targetId,p);u.push(T)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(m,p){const _=Re(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(p,(b=>ne.forEach(b.Ts,(x=>_.persistence.referenceDelegate.addReference(T,b.targetId,x))).next((()=>ne.forEach(b.Is,(x=>_.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))))))}catch(T){if(!Mo(T))throw T;he(ig,"Failed to update sequence numbers: "+T)}for(const T of p){const b=T.targetId;if(!T.fromCache){const x=_.vs.get(b),k=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(k);_.vs=_.vs.insert(b,j)}}})(s.localStore,u))}async function lD(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){he(hg,"User change. New user:",e.toKey());const s=await Z1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((g=>{g.forEach((m=>{m.reject(new le(W.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ns)}}function uD(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const g=n.Tu.get(h);o=o.unionWith(g.view.nu)}return o}}function vb(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rD.bind(null,e),e.Pu.J_=Q4.bind(null,e.eventManager),e.Pu.yu=K4.bind(null,e.eventManager),e}function cD(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aD.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return d4(this.persistence,new c4,e.initialUser,this.serializer)}Cu(e){return new W1(tg.Vi,this.serializer)}Du(e){return new E4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class hD extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $x(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new W1((s=>Bh.Vi(s,n)),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lD.bind(null,this.syncEngine),await H4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G4})()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=w4(e.databaseInfo);return x4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,g){return new O4(s,o,u,h,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>AE(this.syncEngine,n,0)),(function(){return _E.v()?new _E:new T4})())}createSyncEngine(e,n){return(function(o,u,h,g,m,p,_){const T=new J4(o,u,h,g,m,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Re(o);he(la,"RemoteStore shutting down."),u.Ea.add(5),await Iu(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class fD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ug(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Z1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function RE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await dD(r);he(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>EE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>EE(e.remoteStore,o))),r._onlineComponents=e}async function dD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ys,"Using user provided OfflineComponentProvider");try{await zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await zm(r,new Hh)}}else he(ys,"Using default OfflineComponentProvider"),await zm(r,new hD(void 0));return r._offlineComponents}async function Tb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ys,"Using user provided OnlineComponentProvider"),await RE(r,r._uninitializedComponentsProvider._online)):(he(ys,"Using default OnlineComponentProvider"),await RE(r,new pp))),r._onlineComponents}function mD(r){return Tb(r).then((e=>e.syncEngine))}async function gp(r){const e=await Tb(r),n=e.eventManager;return n.onListen=W4.bind(null,e.syncEngine),n.onUnlisten=tD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nD.bind(null,e.syncEngine),n}function pD(r,e,n,s){const o=new Eb(s),u=new hb(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>ub(await gp(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>cb(await gp(r),u)))}}function gD(r,e,n={}){const s=new us;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,g,m,p){const _=new Eb({next:b=>{_.Nu(),h.enqueueAndForget((()=>cb(u,T))),b.fromCache&&m.source==="server"?p.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),T=new hb(g,_,{includeMetadataChanges:!0,Ka:!0});return ub(u,T)})(await gp(r),r.asyncQueue,e,n,s))),s.promise}function yD(r,e){const n=new us;return r.asyncQueue.enqueueAndForget((async()=>iD(await mD(r),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="ComponentProvider",CE=new Map;function vD(r,e,n,s,o){return new UN(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,bb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",IE=!0;class NE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=IE}else this.host=e.host,this.ssl=e.ssl??IE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kx)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new yN;switch(s.type){case"firstParty":return new TN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(he(_D,"Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function ED(r,e,n,s={}){var p;r=oi(r,df);const o=Co(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;o&&(mT(`https://${g}`),pT("Firestore",!0)),u.host!==Sb&&u.host!==g&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...u,host:g,ssl:o,emulatorOptions:s};if(!ia(m,h)&&(r._setSettings(m),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=rn.MOCK_USER;else{_=CR(s.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(b)}r._authCredentials=new _N(new l1(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gr(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Lt._jsonSchema))return new Lt(e,s||null,new _e(it.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Pt("string",Lt._jsonSchemaVersion),referencePath:Pt("string")};class cs extends gr{constructor(e,n,s){super(e,n,$p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new _e(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function si(r,e,...n){if(r=St(r),u1("collection","path",e),r instanceof df){const s=it.fromString(e,...n);return q0(s),new cs(r,null,s)}{if(!(r instanceof Lt||r instanceof cs))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return q0(s),new cs(r.firestore,null,s)}}function Wr(r,e,...n){if(r=St(r),arguments.length===1&&(e=Hp.newId()),u1("doc","path",e),r instanceof df){const s=it.fromString(e,...n);return B0(s),new Lt(r,null,new _e(s))}{if(!(r instanceof Lt||r instanceof cs))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return B0(s),new Lt(r.firestore,r instanceof cs?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tb(this,"async_queue_retry"),this._c=()=>{const s=Um();s&&he(xE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;he(xE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",OE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=lg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _s extends df{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new DE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function TD(r,e){const n=typeof r=="object"?r:vT(),s=typeof r=="string"?r:Vh,o=Mp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wR("firestore");u&&ED(o,...u)}return o}function mf(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bD(r),r._firestoreClient}function bD(r){var s,o,u,h;const e=r._freezeSettings(),n=vD(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(en.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Pt("string",Fn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Pt("string",Ui._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Pt("string",li._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^__.*__$/;class AD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class Ab{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class dg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(wb(this.dataSource)&&SD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}createContext(e,n,s,o=!1){return new dg({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(r){const e=r._freezeSettings(),n=cf(r._databaseId);return new wD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Rb(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);pg("Data must be an object, but it was:",h,s);const g=Nb(s,h);let m,p;if(u.merge)m=new Nn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=ua(e,T,n);if(!h.contains(b))throw new le(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Ob(_,b)||_.push(b)}m=new Nn(_),p=h.fieldTransforms.filter((T=>m.covers(T.field)))}else m=null,p=h.fieldTransforms;return new AD(new _n(g),m,p)}class _f extends gf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class mg extends gf{_toFieldTransform(e){return new dx(e.path,new du)}isEqual(e){return e instanceof mg}}function Cb(r,e,n,s){const o=r.createContext(1,e,n);pg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();Es(s,((m,p)=>{const _=Db(e,m,n);p=St(p);const T=o.childContextForFieldPath(_);if(p instanceof _f)u.push(_);else{const b=xu(p,T);b!=null&&(u.push(_),h.set(_,b))}}));const g=new Nn(u);return new Ab(h,g,o.fieldTransforms)}function Ib(r,e,n,s,o,u){const h=r.createContext(1,e,n),g=[ua(e,s,n)],m=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)g.push(ua(e,u[b])),m.push(u[b+1]);const p=[],_=_n.empty();for(let b=g.length-1;b>=0;--b)if(!Ob(p,g[b])){const x=g[b];let k=m[b];k=St(k);const j=h.childContextForFieldPath(x);if(k instanceof _f)p.push(x);else{const U=xu(k,j);U!=null&&(p.push(x),_.set(x,U))}}const T=new Nn(p);return new Ab(_,T,h.fieldTransforms)}function RD(r,e,n,s=!1){return xu(n,r.createContext(s?4:3,e))}function xu(r,e){if(xb(r=St(r)))return pg("Unsupported field value:",e,r),Nb(r,e);if(r instanceof gf)return(function(s,o){if(!wb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const g of s){let m=xu(g,o.childContextForArray(h));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:H1(o.serializer,s._byteString)};if(s instanceof Lt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return(function(h,g){const m=h instanceof li?h.toArray():h;return{mapValue:{fields:{[_1]:{stringValue:v1},[Ph]:{arrayValue:{values:m.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return Xp(g.serializer,_)}))}}}}}})(s,o);if(X1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Zh(s)}`)})(r,e)}function Nb(r,e){const n={};return f1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,o)=>{const u=xu(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function xb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Ui||r instanceof Fn||r instanceof Lt||r instanceof gf||r instanceof li||X1(r))}function pg(r,e,n){if(!xb(n)||!c1(n)){const s=Zh(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ua(r,e,n){if((e=St(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Db(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const CD=new RegExp("[~\\*/\\[\\]]");function Db(r,e,n){if(e.search(CD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let m="";return(u||h)&&(m+=" (found",u&&(m+=` in field ${s}`),h&&(m+=` in document ${o}`),m+=")"),new le(W.INVALID_ARGUMENT,g+r+m)}function Ob(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Ph].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>bt(h.doubleValue)));return new li(n)}convertGeoPoint(e){return new Ui(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ye($1(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends ID{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function yp(){return new mg("serverTimestamp")}const ME="@firebase/firestore",kE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ua("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ND extends Mb{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class _g extends yg{}function hs(r,e,...n){let s=[];e instanceof yg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((m=>m instanceof vg)).length,g=u.filter((m=>m instanceof vf)).length;if(h>1||h>0&&g>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class vf extends _g{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return Vb(e._query,n),new gr(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=yf(e.firestore);return(function(u,h,g,m,p,_,T){let b;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){LE(T,_);const k=[];for(const j of T)k.push(PE(m,u,j));b={arrayValue:{values:k}}}else b=PE(m,u,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||LE(T,_),b=RD(g,h,T,_==="in"||_==="not-in");return Vt.create(p,_,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function So(r,e,n){const s=e,o=ua("where",r);return vf._create(o,s,n)}class vg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const g=u.getFlattenedFilters();for(const m of g)Vb(h,m),h=ap(h,m)})(e._query,n),new gr(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends _g{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)})(e._query,this._field,this._direction);return new gr(e.firestore,e.converter,nx(e._query,n))}}function nu(r,e="asc"){const n=e,s=ua("orderBy",r);return Eg._create(s,n)}class Tg extends _g{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Tg(e,n,s)}_apply(e){return new gr(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function xD(r){return Tg._create("limit",r,"F")}function PE(r,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!_e.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return X0(r,new _e(s))}if(n instanceof Lt)return X0(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function LE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(r,e){const n=(function(o,u){for(const h of o)for(const g of h.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Pb(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends Mb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ua("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Pt("string",ta._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ah extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((g=>{const m=new Ah(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const m=new Ah(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return g.type!==0&&(p=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),_=h.indexOf(g.doc.key)),{type:DD(g.type),doc:m,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Pt("string",na._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yf(e)}set(e,n,s){this._verifyNotCommitted();const o=jm(e,this._firestore),u=Pb(o.converter,n,s),h=Rb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,vn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=jm(e,this._firestore);let h;return h=typeof(n=St(n))=="string"||n instanceof pf?Ib(this._dataReader,"WriteBatch.update",u._key,n,s,o):Cb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=jm(e,this._firestore);return this._mutations=this._mutations.concat(new lf(n._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function jm(r,e){if((r=St(r)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function gu(r){r=oi(r,gr);const e=oi(r.firestore,_s),n=mf(e),s=new gg(e);return kb(r._query),gD(n,r._query).then((o=>new na(e,s,r,o)))}function MD(r,e,n,...s){r=oi(r,Lt);const o=oi(r.firestore,_s),u=yf(o);let h;return h=typeof(e=St(e))=="string"||e instanceof pf?Ib(u,"updateDoc",r._key,e,n,s):Cb(u,"updateDoc",r._key,e),Ef(o,[h.toMutation(r._key,vn.exists(!0))])}function UE(r){return Ef(oi(r.firestore,_s),[new lf(r._key,vn.none())])}function _p(r,e){const n=oi(r.firestore,_s),s=Wr(r),o=Pb(r.converter,e),u=yf(r.firestore);return Ef(n,[Rb(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,vn.exists(!1))]).then((()=>s))}function vp(r,...e){var p,_,T;r=St(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(VE(e[s])){const b=e[s];e[s]=(p=b.next)==null?void 0:p.bind(b),e[s+1]=(_=b.error)==null?void 0:_.bind(b),e[s+2]=(T=b.complete)==null?void 0:T.bind(b)}let u,h,g;if(r instanceof Lt)h=oi(r.firestore,_s),g=$p(r._key.path),u={next:b=>{e[s]&&e[s](kD(h,r,b))},error:e[s+1],complete:e[s+2]};else{const b=oi(r,gr);h=oi(b.firestore,_s),g=b._query;const x=new gg(h);u={next:k=>{e[s]&&e[s](new na(h,x,b,k))},error:e[s+1],complete:e[s+2]},kb(r._query)}const m=mf(h);return pD(m,g,o,u)}function Ef(r,e){const n=mf(r);return yD(n,e)}function kD(r,e,n){const s=n.docs.get(e._key),o=new gg(r);return new ta(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function Bm(r){return r=oi(r,_s),mf(r),new OD(r,(e=>Ef(r,e)))}(function(e,n=!0){gN(Io),go(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),g=new _s(new vN(s.getProvider("auth-internal")),new bN(h,s.getProvider("app-check-internal")),zN(h,o),h);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),as(ME,kE,e),as(ME,kE,"esm2020")})();const VD={apiKey:"AIzaSyAlTFWgVxCbbXvByqHGJCHPhVWGoL4cirA",authDomain:"karaokebes-a4b12.firebaseapp.com",projectId:"karaokebes-a4b12",storageBucket:"karaokebes-a4b12.firebasestorage.app",messagingSenderId:"939577720572",appId:"1:939577720572:web:24bd3bb605a2c8ed966179"},Lb=_T(VD),bg=fN(Lb),Tt=TD(Lb);var ct=(r=>(r.IN_ATTESA="IN_ATTESA",r.PROSSIMO="PROSSIMO",r.SUL_PALCO="SUL_PALCO",r))(ct||{});/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=r=>{const e=LD(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...g},m)=>B.createElement("svg",{ref:m,...UD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Ub("lucide",o),...!u&&!zD(g)&&{"aria-hidden":"true"},...g},[...h.map(([p,_])=>B.createElement(p,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(jD,{ref:u,iconNode:e,className:Ub(`lucide-${PD(zE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=zE(r),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qD=gt("arrow-right",BD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jE=gt("calendar",HD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GD=gt("chevron-left",FD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KD=gt("circle-check-big",QD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$D=gt("circle-check",YD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],BE=gt("list",XD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],WD=gt("lock-open",JD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sg=gt("lock",ZD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tO=gt("log-in",eO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iO=gt("log-out",nO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sO=gt("mail",rO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],oO=gt("mic",aO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ag=gt("music",lO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],cO=gt("play",uO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fO=gt("plus",hO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mO=gt("settings",dO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gO=gt("share-2",pO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],zb=gt("timer",yO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qE=gt("trash-2",_O);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EO=gt("user",vO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bO=gt("users",TO);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AO=gt("x",SO),wO=()=>{const[r,e]=B.useState([]),[n,s]=B.useState(null),[o,u]=B.useState([]),[h,g]=B.useState(!1),[m,p]=B.useState({name:"",songMinutes:4.5}),[_,T]=B.useState(new Set),[b,x]=B.useState(!1),[k,j]=B.useState({nickname:"REGIA",songTitle:"",keyShift:0});B.useEffect(()=>{const I=hs(si(Tt,"events"),nu("createdAt","desc"));return vp(I,Ee=>{const ge=Ee.docs.map(K=>({id:K.id,...K.data()}));e(ge),ge.length>0&&!n&&s(ge[0].id)})},[n]),B.useEffect(()=>{if(!n)return;const I=hs(si(Tt,`events/${n}/requests`),nu("createdAt","asc"));return vp(I,Ee=>{u(Ee.docs.map(ge=>({id:ge.id,...ge.data()})))})},[n]);const U=async I=>{I.preventDefault();try{const C=Math.random().toString(36).substring(2,8).toUpperCase(),Ee=await _p(si(Tt,"events"),{...m,eventCode:C,isActive:!0,acceptingRequests:!0,createdAt:yp()});g(!1),p({name:"",songMinutes:4.5}),s(Ee.id)}catch(C){console.error("ERROR creating event:",C),alert(`Errore creazione serata: ${(C==null?void 0:C.message)||C}`)}},te=async(I,C)=>{if(!n)return;const Ee=Bm(Tt);if(C===ct.SUL_PALCO){const ge=o.find(K=>K.status===ct.SUL_PALCO);ge&&ge.id!==I&&Ee.update(Wr(Tt,`events/${n}/requests`,ge.id),{status:ct.IN_ATTESA})}if(C===ct.PROSSIMO){const ge=o.find(K=>K.status===ct.PROSSIMO);ge&&ge.id!==I&&Ee.update(Wr(Tt,`events/${n}/requests`,ge.id),{status:ct.IN_ATTESA})}Ee.update(Wr(Tt,`events/${n}/requests`,I),{status:C}),await Ee.commit()},ie=async I=>{n&&confirm("Sei sicuro di voler eliminare questa richiesta?")&&await UE(Wr(Tt,`events/${n}/requests`,I))},Q=async()=>{if(!(!n||_.size===0)&&confirm(`Vuoi eliminare ${_.size} richieste selezionate?`)){const I=Bm(Tt);_.forEach(C=>I.delete(Wr(Tt,`events/${n}/requests`,C))),await I.commit(),T(new Set)}},oe=I=>{const C=new Set(_);C.has(I)?C.delete(I):C.add(I),T(C)},fe=()=>tI(bg),ue=r.find(I=>I.id===n),N=B.useMemo(()=>o.length,[o]),R=B.useMemo(()=>(ue==null?void 0:ue.acceptingRequests)!==!1,[ue]),D=async()=>{if(n)try{await MD(Wr(Tt,"events",n),{acceptingRequests:!R})}catch(I){console.error(I),alert(`Errore aggiornamento flag prenotazioni: ${(I==null?void 0:I.message)||I}`)}},L=async(I,C)=>{if(confirm(` Cancellazione definitiva

Vuoi eliminare la serata "${C}" e TUTTE le prenotazioni associate?

Questa azione non  reversibile.`))try{for(;;){const ge=hs(si(Tt,`events/${I}/requests`),nu("createdAt","asc"),xD(400)),K=await gu(ge);if(K.empty)break;const re=Bm(Tt);K.docs.forEach(pe=>re.delete(pe.ref)),await re.commit()}await UE(Wr(Tt,"events",I)),n===I&&(s(null),u([]),T(new Set))}catch(ge){console.error(ge),alert(`Errore eliminazione serata: ${(ge==null?void 0:ge.message)||ge}`)}},M=async I=>{if(I.preventDefault(),!n)return;const C=k.songTitle.trim(),Ee=k.nickname.trim()||"REGIA",ge=Number(k.keyShift)||0;if(!C){alert("Inserisci il titolo della canzone.");return}try{await _p(si(Tt,`events/${n}/requests`),{nickname:Ee,songTitle:C,keyShift:ge,status:ct.IN_ATTESA,createdAt:yp(),createdBy:"admin"}),x(!1),j({nickname:"REGIA",songTitle:"",keyShift:0})}catch(K){console.error(K),alert(`Errore inserimento canzone: ${(K==null?void 0:K.message)||K}`)}};return w.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-4xl font-black italic text-neon-pink uppercase",children:"Pannello Regia"}),w.jsx("p",{className:"text-gray-500 text-sm mt-1 uppercase tracking-widest font-bold",children:"Gestione Serata & Cantanti"})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:()=>g(!0),className:"flex-1 sm:flex-none bg-pink-600 hover:bg-pink-500 text-white font-bold px-6 py-3 rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-pink-900/20 transition-all active:scale-95",children:[w.jsx(fO,{className:"w-5 h-5"})," Nuova Serata"]}),w.jsx("button",{onClick:fe,className:"p-3 border border-gray-800 rounded-xl text-gray-400 hover:text-white hover:bg-gray-900 transition-colors",children:w.jsx(iO,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[w.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-gray-500 font-bold uppercase text-xs mb-2",children:[w.jsx(jE,{className:"w-3 h-3"})," Storico Serate"]}),w.jsx("div",{className:"space-y-2 overflow-y-auto max-h-[60vh] pr-2",children:r.map(I=>{var C,Ee,ge,K;return w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>s(I.id),className:`w-full text-left p-4 pr-12 rounded-2xl border transition-all ${n===I.id?"bg-neon-gradient border-pink-500/50 neon-border-pink shadow-xl":"bg-zinc-900/50 border-gray-800 hover:border-gray-700"}`,children:[w.jsx("div",{className:"font-bold truncate",children:I.name}),w.jsxs("div",{className:"flex items-center justify-between mt-2",children:[w.jsx("span",{className:"text-[10px] text-gray-500 uppercase tracking-tighter",children:((K=(Ee=(C=I.createdAt)==null?void 0:C.toDate)==null?void 0:(ge=Ee.call(C)).toLocaleDateString)==null?void 0:K.call(ge))??""}),w.jsxs("span",{className:"px-2 py-0.5 bg-gray-800 rounded text-[10px] text-pink-400 font-mono",children:["#",I.eventCode]})]})]}),w.jsx("button",{onClick:re=>{re.stopPropagation(),L(I.id,I.name)},className:"absolute top-3 right-3 p-2 rounded-xl text-red-400 hover:text-white hover:bg-red-600/20 border border-transparent hover:border-red-500/30 transition-colors",title:"Elimina serata",children:w.jsx(qE,{className:"w-4 h-4"})})]},I.id)})})]}),w.jsx("div",{className:"lg:col-span-3",children:ue?w.jsxs("div",{className:"bg-zinc-900/30 border border-gray-800 rounded-3xl overflow-hidden backdrop-blur-sm",children:[w.jsx("div",{className:"p-6 border-b border-gray-800 flex flex-col gap-4",children:w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-pink-500/10 rounded-2xl",children:w.jsx(bO,{className:"text-pink-500 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-bold",children:ue.name}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 uppercase font-mono",children:["CODE: ",w.jsx("span",{className:"text-pink-400 font-bold",children:ue.eventCode})]})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 justify-end",children:[w.jsxs("div",{className:"px-4 py-2 rounded-xl border border-gray-800 bg-black/30 text-xs font-black uppercase tracking-widest text-gray-300",children:["Prenotazioni: ",w.jsx("span",{className:"text-pink-400",children:N})]}),w.jsx("button",{onClick:D,className:`px-4 py-2 rounded-xl border text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2 ${R?"border-green-500/30 bg-green-500/10 text-green-300 hover:bg-green-500/20":"border-red-500/30 bg-red-500/10 text-red-300 hover:bg-red-500/20"}`,title:"Accetta / blocca nuove prenotazioni",children:R?w.jsxs(w.Fragment,{children:[w.jsx(WD,{className:"w-4 h-4"})," Prenotazioni ON"]}):w.jsxs(w.Fragment,{children:[w.jsx(Sg,{className:"w-4 h-4"})," Prenotazioni OFF"]})}),w.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 rounded-xl border border-cyan-500/30 bg-cyan-500/10 text-cyan-200 hover:bg-cyan-500/20 text-xs font-black uppercase tracking-widest transition-colors flex items-center gap-2",title:"Inserisci una nuova canzone come regia",children:[w.jsx(Ag,{className:"w-4 h-4"})," Inserisci canzone"]}),_.size>0&&w.jsxs("button",{onClick:Q,className:"flex items-center gap-2 bg-red-600/20 hover:bg-red-600 text-red-500 hover:text-white px-4 py-2 rounded-xl transition-all border border-red-500/30 text-xs font-black uppercase tracking-widest",children:[w.jsx(qE,{className:"w-4 h-4"})," Elimina (",_.size,")"]})]})]})}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"text-[10px] uppercase tracking-widest text-gray-500 border-b border-gray-800",children:[w.jsx("th",{className:"p-4 w-12 text-center",children:w.jsx("input",{type:"checkbox",onChange:I=>{I.target.checked?T(new Set(o.map(C=>C.id))):T(new Set)},className:"w-4 h-4 rounded border-gray-700 bg-black accent-pink-500"})}),w.jsx("th",{className:"p-4",children:"Cantante"}),w.jsx("th",{className:"p-4",children:"Canzone"}),w.jsx("th",{className:"p-4",children:"Stato"}),w.jsx("th",{className:"p-4 text-right",children:"Azioni"})]})}),w.jsxs("tbody",{className:"divide-y divide-gray-800/50",children:[o.map((I,C)=>w.jsxs("tr",{className:C%2===0?"row-odd":"row-even",children:[w.jsx("td",{className:"p-4 text-center",children:w.jsx("input",{type:"checkbox",checked:_.has(I.id),onChange:()=>oe(I.id),className:"w-4 h-4 rounded border-gray-700 bg-black accent-pink-500"})}),w.jsxs("td",{className:"p-4",children:[w.jsx("div",{className:"font-bold text-gray-100",children:I.nickname}),w.jsxs("div",{className:"text-[10px] text-pink-400 font-mono",children:["Tonalit: ",I.keyShift>0?`+${I.keyShift}`:I.keyShift]})]}),w.jsx("td",{className:"p-4 text-gray-300 font-medium",children:I.songTitle}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tighter ${I.status===ct.SUL_PALCO?"bg-green-500/20 text-green-400 border border-green-500/50":I.status===ct.PROSSIMO?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-gray-800 text-gray-400"}`,children:I.status.replace("_"," ")})}),w.jsx("td",{className:"p-4 text-right",children:w.jsxs("div",{className:"flex items-center justify-end gap-1",children:[I.status===ct.IN_ATTESA&&w.jsx("button",{onClick:()=>te(I.id,ct.PROSSIMO),className:"p-2 hover:bg-cyan-500/10 text-cyan-400 rounded-lg transition-colors",title:"Metti come PROSSIMO",children:w.jsx(qD,{className:"w-4 h-4"})}),I.status===ct.PROSSIMO&&w.jsx("button",{onClick:()=>te(I.id,ct.SUL_PALCO),className:"p-2 hover:bg-green-500/10 text-green-400 rounded-lg transition-colors",title:"Porta sul PALCO",children:w.jsx(cO,{className:"w-4 h-4"})}),I.status===ct.SUL_PALCO&&w.jsx("button",{onClick:()=>te(I.id,ct.IN_ATTESA),className:"p-2 hover:bg-yellow-500/10 text-yellow-400 rounded-lg transition-colors",title:"Torna in ATTESA",children:w.jsx(mO,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>ie(I.id),className:"p-2 hover:bg-red-500/10 text-red-500 rounded-lg transition-colors ml-2",title:"Elimina",children:w.jsx(AO,{className:"w-4 h-4"})})]})})]},I.id)),o.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-600 font-bold uppercase tracking-[0.2em] italic",children:"Nessuna richiesta ancora"})})]})]})})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-gray-800 rounded-3xl",children:[w.jsx(jE,{className:"w-12 h-12 text-gray-700 mb-4"}),w.jsx("p",{className:"text-gray-600 uppercase font-black italic tracking-wider",children:"Seleziona o crea una serata"})]})})]}),h&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:w.jsxs("div",{className:"w-full max-w-md bg-zinc-900 rounded-3xl p-8 border border-pink-500/50 shadow-2xl shadow-pink-500/10 animate-in fade-in zoom-in duration-300",children:[w.jsx("h3",{className:"text-2xl font-black italic uppercase text-pink-500 mb-6 tracking-tight",children:"Crea Nuova Serata"}),w.jsxs("form",{onSubmit:U,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Nome Serata"}),w.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Es: Karaoke Night al Bar",value:m.name,onChange:I=>p({...m,name:I.target.value}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-pink-500 outline-none transition-colors"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Minuti per canzone"}),w.jsx("input",{required:!0,type:"number",step:"0.1",value:m.songMinutes,onChange:I=>p({...m,songMinutes:parseFloat(I.target.value)}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-pink-500 outline-none transition-colors"})]}),w.jsxs("div",{className:"flex gap-3 pt-4",children:[w.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-4 py-3 text-gray-400 font-bold uppercase text-sm",children:"Annulla"}),w.jsx("button",{type:"submit",className:"flex-1 bg-pink-600 hover:bg-pink-500 text-white font-bold py-3 rounded-xl uppercase tracking-widest",children:"Conferma"})]})]})]})}),b&&w.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md",children:w.jsxs("div",{className:"w-full max-w-md bg-zinc-900 rounded-3xl p-8 border border-cyan-500/50 shadow-2xl shadow-cyan-500/10 animate-in fade-in zoom-in duration-300",children:[w.jsx("h3",{className:"text-2xl font-black italic uppercase text-cyan-300 mb-6 tracking-tight",children:"Inserisci nuova canzone"}),w.jsxs("form",{onSubmit:M,className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Nickname (facoltativo)"}),w.jsx("input",{type:"text",value:k.nickname,onChange:I=>j({...k,nickname:I.target.value}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-cyan-400 outline-none transition-colors"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Titolo canzone"}),w.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Es: Ti Sento",value:k.songTitle,onChange:I=>j({...k,songTitle:I.target.value}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-cyan-400 outline-none transition-colors"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2 tracking-widest",children:"Tonalit (keyShift)"}),w.jsx("input",{required:!0,type:"number",step:"1",value:k.keyShift,onChange:I=>j({...k,keyShift:parseInt(I.target.value||"0",10)}),className:"w-full bg-black border border-gray-800 rounded-xl px-4 py-3 focus:border-cyan-400 outline-none transition-colors"})]}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-3 text-gray-400 font-bold uppercase text-sm",children:"Annulla"}),w.jsx("button",{type:"submit",className:"flex-1 bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 rounded-xl uppercase tracking-widest",children:"Inserisci"})]})]})]})})]})},RO=()=>{const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(""),[h,g]=B.useState(!1),m=_u(),p=async _=>{_.preventDefault(),g(!0),u("");try{await JC(bg,r,n),m("/admin")}catch{u("Credenziali non valide. Riprova.")}finally{g(!1)}};return w.jsx("div",{className:"flex items-center justify-center p-6 mt-12",children:w.jsxs("div",{className:"w-full max-w-md bg-neon-gradient p-8 rounded-3xl border border-gray-800 neon-border-blue",children:[w.jsx("h2",{className:"text-3xl font-black text-center mb-8 uppercase italic tracking-tight neon-text-blue",children:"Admin Portal"}),w.jsxs("form",{onSubmit:p,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2 tracking-widest",children:"Email"}),w.jsxs("div",{className:"relative",children:[w.jsx(sO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),w.jsx("input",{type:"email",value:r,onChange:_=>e(_.target.value),className:"w-full bg-black border border-gray-700 rounded-xl py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"admin@karaokebes.it",required:!0})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold uppercase text-gray-400 mb-2 tracking-widest",children:"Password"}),w.jsxs("div",{className:"relative",children:[w.jsx(Sg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),w.jsx("input",{type:"password",value:n,onChange:_=>s(_.target.value),className:"w-full bg-black border border-gray-700 rounded-xl py-3 pl-10 pr-4 text-white focus:outline-none focus:border-cyan-500 transition-colors",placeholder:"",required:!0})]})]}),o&&w.jsx("div",{className:"text-red-500 text-sm font-bold text-center",children:o}),w.jsx("button",{type:"submit",disabled:h,className:"w-full bg-cyan-500 hover:bg-cyan-400 text-black font-black uppercase tracking-widest py-4 rounded-xl transition-all flex items-center justify-center gap-2 group",children:h?"Entrata...":w.jsxs(w.Fragment,{children:["Accedi ",w.jsx(tO,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})})]})]})})};var CO=Object.defineProperty,Gh=Object.getOwnPropertySymbols,jb=Object.prototype.hasOwnProperty,Bb=Object.prototype.propertyIsEnumerable,HE=(r,e,n)=>e in r?CO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Ep=(r,e)=>{for(var n in e||(e={}))jb.call(e,n)&&HE(r,n,e[n]);if(Gh)for(var n of Gh(e))Bb.call(e,n)&&HE(r,n,e[n]);return r},Tp=(r,e)=>{var n={};for(var s in r)jb.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&Gh)for(var s of Gh(r))e.indexOf(s)<0&&Bb.call(r,s)&&(n[s]=r[s]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ca;(r=>{const e=class Me{constructor(m,p,_,T){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<Me.MIN_VERSION||m>Me.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let b=[];for(let k=0;k<this.size;k++)b.push(!1);for(let k=0;k<this.size;k++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const x=this.addEccAndInterleave(_);if(this.drawCodewords(x),T==-1){let k=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const U=this.getPenaltyScore();U<k&&(T=j,k=U),this.applyMask(j)}}o(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(m,p){const _=r.QrSegment.makeSegments(m);return Me.encodeSegments(_,p)}static encodeBinary(m,p){const _=r.QrSegment.makeBytes(m);return Me.encodeSegments([_],p)}static encodeSegments(m,p,_=1,T=40,b=-1,x=!0){if(!(Me.MIN_VERSION<=_&&_<=T&&T<=Me.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let k,j;for(k=_;;k++){const Q=Me.getNumDataCodewords(k,p)*8,oe=h.getTotalBits(m,k);if(oe<=Q){j=oe;break}if(k>=T)throw new RangeError("Data too long")}for(const Q of[Me.Ecc.MEDIUM,Me.Ecc.QUARTILE,Me.Ecc.HIGH])x&&j<=Me.getNumDataCodewords(k,Q)*8&&(p=Q);let U=[];for(const Q of m){n(Q.mode.modeBits,4,U),n(Q.numChars,Q.mode.numCharCountBits(k),U);for(const oe of Q.getData())U.push(oe)}o(U.length==j);const te=Me.getNumDataCodewords(k,p)*8;o(U.length<=te),n(0,Math.min(4,te-U.length),U),n(0,(8-U.length%8)%8,U),o(U.length%8==0);for(let Q=236;U.length<te;Q^=253)n(Q,8,U);let ie=[];for(;ie.length*8<U.length;)ie.push(0);return U.forEach((Q,oe)=>ie[oe>>>3]|=Q<<7-(oe&7)),new Me(k,p,ie,b)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let _=0;_<this.size;_++)this.setFunctionModule(6,_,_%2==0),this.setFunctionModule(_,6,_%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let _=0;_<p;_++)for(let T=0;T<p;T++)_==0&&T==0||_==0&&T==p-1||_==p-1&&T==0||this.drawAlignmentPattern(m[_],m[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let _=p;for(let b=0;b<10;b++)_=_<<1^(_>>>9)*1335;const T=(p<<10|_)^21522;o(T>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,s(T,b));this.setFunctionModule(8,7,s(T,6)),this.setFunctionModule(8,8,s(T,7)),this.setFunctionModule(7,8,s(T,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,s(T,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,s(T,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,s(T,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let _=0;_<12;_++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;o(p>>>18==0);for(let _=0;_<18;_++){const T=s(p,_),b=this.size-11+_%3,x=Math.floor(_/3);this.setFunctionModule(b,x,T),this.setFunctionModule(x,b,T)}}drawFinderPattern(m,p){for(let _=-4;_<=4;_++)for(let T=-4;T<=4;T++){const b=Math.max(Math.abs(T),Math.abs(_)),x=m+T,k=p+_;0<=x&&x<this.size&&0<=k&&k<this.size&&this.setFunctionModule(x,k,b!=2&&b!=4)}}drawAlignmentPattern(m,p){for(let _=-2;_<=2;_++)for(let T=-2;T<=2;T++)this.setFunctionModule(m+T,p+_,Math.max(Math.abs(T),Math.abs(_))!=1)}setFunctionModule(m,p,_){this.modules[p][m]=_,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,_=this.errorCorrectionLevel;if(m.length!=Me.getNumDataCodewords(p,_))throw new RangeError("Invalid argument");const T=Me.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][p],b=Me.ECC_CODEWORDS_PER_BLOCK[_.ordinal][p],x=Math.floor(Me.getNumRawDataModules(p)/8),k=T-x%T,j=Math.floor(x/T);let U=[];const te=Me.reedSolomonComputeDivisor(b);for(let Q=0,oe=0;Q<T;Q++){let fe=m.slice(oe,oe+j-b+(Q<k?0:1));oe+=fe.length;const ue=Me.reedSolomonComputeRemainder(fe,te);Q<k&&fe.push(0),U.push(fe.concat(ue))}let ie=[];for(let Q=0;Q<U[0].length;Q++)U.forEach((oe,fe)=>{(Q!=j-b||fe>=k)&&ie.push(oe[Q])});return o(ie.length==x),ie}drawCodewords(m){if(m.length!=Math.floor(Me.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let _=this.size-1;_>=1;_-=2){_==6&&(_=5);for(let T=0;T<this.size;T++)for(let b=0;b<2;b++){const x=_-b,j=(_+1&2)==0?this.size-1-T:T;!this.isFunction[j][x]&&p<m.length*8&&(this.modules[j][x]=s(m[p>>>3],7-(p&7)),p++)}}o(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let _=0;_<this.size;_++){let T;switch(m){case 0:T=(_+p)%2==0;break;case 1:T=p%2==0;break;case 2:T=_%3==0;break;case 3:T=(_+p)%3==0;break;case 4:T=(Math.floor(_/3)+Math.floor(p/2))%2==0;break;case 5:T=_*p%2+_*p%3==0;break;case 6:T=(_*p%2+_*p%3)%2==0;break;case 7:T=((_+p)%2+_*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][_]&&T&&(this.modules[p][_]=!this.modules[p][_])}}getPenaltyScore(){let m=0;for(let b=0;b<this.size;b++){let x=!1,k=0,j=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[b][U]==x?(k++,k==5?m+=Me.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,j),x||(m+=this.finderPenaltyCountPatterns(j)*Me.PENALTY_N3),x=this.modules[b][U],k=1);m+=this.finderPenaltyTerminateAndCount(x,k,j)*Me.PENALTY_N3}for(let b=0;b<this.size;b++){let x=!1,k=0,j=[0,0,0,0,0,0,0];for(let U=0;U<this.size;U++)this.modules[U][b]==x?(k++,k==5?m+=Me.PENALTY_N1:k>5&&m++):(this.finderPenaltyAddHistory(k,j),x||(m+=this.finderPenaltyCountPatterns(j)*Me.PENALTY_N3),x=this.modules[U][b],k=1);m+=this.finderPenaltyTerminateAndCount(x,k,j)*Me.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let x=0;x<this.size-1;x++){const k=this.modules[b][x];k==this.modules[b][x+1]&&k==this.modules[b+1][x]&&k==this.modules[b+1][x+1]&&(m+=Me.PENALTY_N2)}let p=0;for(const b of this.modules)p=b.reduce((x,k)=>x+(k?1:0),p);const _=this.size*this.size,T=Math.ceil(Math.abs(p*20-_*10)/_)-1;return o(0<=T&&T<=9),m+=T*Me.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let _=[6];for(let T=this.size-7;_.length<m;T-=p)_.splice(1,0,T);return _}}static getNumRawDataModules(m){if(m<Me.MIN_VERSION||m>Me.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const _=Math.floor(m/7)+2;p-=(25*_-10)*_-55,m>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(Me.getNumRawDataModules(m)/8)-Me.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*Me.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let T=0;T<m-1;T++)p.push(0);p.push(1);let _=1;for(let T=0;T<m;T++){for(let b=0;b<p.length;b++)p[b]=Me.reedSolomonMultiply(p[b],_),b+1<p.length&&(p[b]^=p[b+1]);_=Me.reedSolomonMultiply(_,2)}return p}static reedSolomonComputeRemainder(m,p){let _=p.map(T=>0);for(const T of m){const b=T^_.shift();_.push(0),p.forEach((x,k)=>_[k]^=Me.reedSolomonMultiply(x,b))}return _}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let _=0;for(let T=7;T>=0;T--)_=_<<1^(_>>>7)*285,_^=(p>>>T&1)*m;return o(_>>>8==0),_}finderPenaltyCountPatterns(m){const p=m[1];o(p<=this.size*3);const _=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(_&&m[0]>=p*4&&m[6]>=p?1:0)+(_&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,_){return m&&(this.finderPenaltyAddHistory(p,_),p=0),p+=this.size,this.finderPenaltyAddHistory(p,_),this.finderPenaltyCountPatterns(_)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=e;function n(g,m,p){if(m<0||m>31||g>>>m)throw new RangeError("Value out of range");for(let _=m-1;_>=0;_--)p.push(g>>>_&1)}function s(g,m){return(g>>>m&1)!=0}function o(g){if(!g)throw new Error("Assertion error")}const u=class pt{constructor(m,p,_){if(this.mode=m,this.numChars=p,this.bitData=_,p<0)throw new RangeError("Invalid argument");this.bitData=_.slice()}static makeBytes(m){let p=[];for(const _ of m)n(_,8,p);return new pt(pt.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!pt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let _=0;_<m.length;){const T=Math.min(m.length-_,3);n(parseInt(m.substring(_,_+T),10),T*3+1,p),_+=T}return new pt(pt.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!pt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],_;for(_=0;_+2<=m.length;_+=2){let T=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_))*45;T+=pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_+1)),n(T,11,p)}return _<m.length&&n(pt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(_)),6,p),new pt(pt.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:pt.isNumeric(m)?[pt.makeNumeric(m)]:pt.isAlphanumeric(m)?[pt.makeAlphanumeric(m)]:[pt.makeBytes(pt.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)n(m,8,p);else if(m<16384)n(2,2,p),n(m,14,p);else if(m<1e6)n(6,3,p),n(m,21,p);else throw new RangeError("ECI assignment value out of range");return new pt(pt.Mode.ECI,0,p)}static isNumeric(m){return pt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return pt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let _=0;for(const T of m){const b=T.mode.numCharCountBits(p);if(T.numChars>=1<<b)return 1/0;_+=4+b+T.bitData.length}return _}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let _=0;_<m.length;_++)m.charAt(_)!="%"?p.push(m.charCodeAt(_)):(p.push(parseInt(m.substring(_+1,_+3),16)),_+=2);return p}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;r.QrSegment=u})(ca||(ca={}));(r=>{(e=>{const n=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(r.QrCode||(r.QrCode={}))})(ca||(ca={}));(r=>{(e=>{const n=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(r.QrSegment||(r.QrSegment={}))})(ca||(ca={}));var uo=ca;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var IO={L:uo.QrCode.Ecc.LOW,M:uo.QrCode.Ecc.MEDIUM,Q:uo.QrCode.Ecc.QUARTILE,H:uo.QrCode.Ecc.HIGH},qb=128,Hb="L",Fb="#FFFFFF",Gb="#000000",Qb=!1,Kb=1,NO=4,xO=0,DO=.1;function Yb(r,e=0){const n=[];return r.forEach(function(s,o){let u=null;s.forEach(function(h,g){if(!h&&u!==null){n.push(`M${u+e} ${o+e}h${g-u}v1H${u+e}z`),u=null;return}if(g===s.length-1){if(!h)return;u===null?n.push(`M${g+e},${o+e} h1v1H${g+e}z`):n.push(`M${u+e},${o+e} h${g+1-u}v1H${u+e}z`);return}h&&u===null&&(u=g)})}),n.join("")}function $b(r,e){return r.slice().map((n,s)=>s<e.y||s>=e.y+e.h?n:n.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function OO(r,e,n,s){if(s==null)return null;const o=r.length+n*2,u=Math.floor(e*DO),h=o/e,g=(s.width||u)*h,m=(s.height||u)*h,p=s.x==null?r.length/2-g/2:s.x*h,_=s.y==null?r.length/2-m/2:s.y*h,T=s.opacity==null?1:s.opacity;let b=null;if(s.excavate){let k=Math.floor(p),j=Math.floor(_),U=Math.ceil(g+p-k),te=Math.ceil(m+_-j);b={x:k,y:j,w:U,h:te}}const x=s.crossOrigin;return{x:p,y:_,h:m,w:g,excavation:b,opacity:T,crossOrigin:x}}function MO(r,e){return e!=null?Math.max(Math.floor(e),0):r?NO:xO}function Xb({value:r,level:e,minVersion:n,includeMargin:s,marginSize:o,imageSettings:u,size:h,boostLevel:g}){let m=kt.useMemo(()=>{const k=(Array.isArray(r)?r:[r]).reduce((j,U)=>(j.push(...uo.QrSegment.makeSegments(U)),j),[]);return uo.QrCode.encodeSegments(k,IO[e],n,void 0,void 0,g)},[r,e,n,g]);const{cells:p,margin:_,numCells:T,calculatedImageSettings:b}=kt.useMemo(()=>{let x=m.getModules();const k=MO(s,o),j=x.length+k*2,U=OO(x,h,k,u);return{cells:x,margin:k,numCells:j,calculatedImageSettings:U}},[m,h,u,s,o]);return{qrcode:m,margin:_,cells:p,numCells:T,calculatedImageSettings:b}}var kO=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),VO=kt.forwardRef(function(e,n){const s=e,{value:o,size:u=qb,level:h=Hb,bgColor:g=Fb,fgColor:m=Gb,includeMargin:p=Qb,minVersion:_=Kb,boostLevel:T,marginSize:b,imageSettings:x}=s,j=Tp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:U}=j,te=Tp(j,["style"]),ie=x==null?void 0:x.src,Q=kt.useRef(null),oe=kt.useRef(null),fe=kt.useCallback(Ee=>{Q.current=Ee,typeof n=="function"?n(Ee):n&&(n.current=Ee)},[n]),[ue,N]=kt.useState(!1),{margin:R,cells:D,numCells:L,calculatedImageSettings:M}=Xb({value:o,level:h,minVersion:_,boostLevel:T,includeMargin:p,marginSize:b,imageSettings:x,size:u});kt.useEffect(()=>{if(Q.current!=null){const Ee=Q.current,ge=Ee.getContext("2d");if(!ge)return;let K=D;const re=oe.current,pe=M!=null&&re!==null&&re.complete&&re.naturalHeight!==0&&re.naturalWidth!==0;pe&&M.excavation!=null&&(K=$b(D,M.excavation));const ke=window.devicePixelRatio||1;Ee.height=Ee.width=u*ke;const He=u/L*ke;ge.scale(He,He),ge.fillStyle=g,ge.fillRect(0,0,L,L),ge.fillStyle=m,kO?ge.fill(new Path2D(Yb(K,R))):D.forEach(function(P,Z){P.forEach(function(ae,ce){ae&&ge.fillRect(ce+R,Z+R,1,1)})}),M&&(ge.globalAlpha=M.opacity),pe&&ge.drawImage(re,M.x+R,M.y+R,M.w,M.h)}}),kt.useEffect(()=>{N(!1)},[ie]);const I=Ep({height:u,width:u},U);let C=null;return ie!=null&&(C=kt.createElement("img",{src:ie,key:ie,style:{display:"none"},onLoad:()=>{N(!0)},ref:oe,crossOrigin:M==null?void 0:M.crossOrigin})),kt.createElement(kt.Fragment,null,kt.createElement("canvas",Ep({style:I,height:u,width:u,ref:fe,role:"img"},te)),C)});VO.displayName="QRCodeCanvas";var Jb=kt.forwardRef(function(e,n){const s=e,{value:o,size:u=qb,level:h=Hb,bgColor:g=Fb,fgColor:m=Gb,includeMargin:p=Qb,minVersion:_=Kb,boostLevel:T,title:b,marginSize:x,imageSettings:k}=s,j=Tp(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:U,cells:te,numCells:ie,calculatedImageSettings:Q}=Xb({value:o,level:h,minVersion:_,boostLevel:T,includeMargin:p,marginSize:x,imageSettings:k,size:u});let oe=te,fe=null;k!=null&&Q!=null&&(Q.excavation!=null&&(oe=$b(te,Q.excavation)),fe=kt.createElement("image",{href:k.src,height:Q.h,width:Q.w,x:Q.x+U,y:Q.y+U,preserveAspectRatio:"none",opacity:Q.opacity,crossOrigin:Q.crossOrigin}));const ue=Yb(oe,U);return kt.createElement("svg",Ep({height:u,width:u,viewBox:`0 0 ${ie} ${ie}`,ref:n,role:"img"},j),!!b&&kt.createElement("title",null,b),kt.createElement("path",{fill:g,d:`M0,0 h${ie}v${ie}H0z`,shapeRendering:"crispEdges"}),kt.createElement("path",{fill:m,d:ue,shapeRendering:"crispEdges"}),fe)});Jb.displayName="QRCodeSVG";const PO=()=>{const[r]=xp(),e=r.get("eventCode"),[n,s]=B.useState([]),[o,u]=B.useState(null),[h,g]=B.useState(!0);B.useEffect(()=>{if(!e){g(!1);return}let b=null;return(async()=>{try{const k=hs(si(Tt,"events"),So("eventCode","==",e),So("isActive","==",!0)),j=await gu(k);if(j.empty)g(!1);else{const U={id:j.docs[0].id,...j.docs[0].data()};u(U);const te=hs(si(Tt,`events/${U.id}/requests`),nu("createdAt","asc"));b=vp(te,ie=>{s(ie.docs.map(Q=>({id:Q.id,...Q.data()}))),g(!1)})}}catch(k){console.error(k),g(!1)}})(),()=>{b&&b()}},[e]);const m="/KaraokeBS/".replace(/\/$/,""),p=`${window.location.origin}${m}/submit?eventCode=${e}`,_=(()=>{const b=Number(o==null?void 0:o.songMinutes);return!b||Number.isNaN(b)||b<=0?4.5:b})(),T=b=>{const x=n[b];if(!x||x.status===ct.SUL_PALCO)return 0;const k=n.slice(0,b).filter(j=>j.status!==ct.SUL_PALCO).length;return x.status===ct.PROSSIMO?Math.max(1,Math.ceil(_)):Math.max(0,Math.ceil(k*_))};return h?w.jsx("div",{className:"k-bg",children:w.jsx("div",{className:"k-wrap",children:w.jsxs("div",{className:"k-card k-empty",style:{marginTop:90},children:[w.jsx("div",{className:"k-title",style:{fontSize:18},children:"Sintonizzazione Canale..."}),w.jsx("div",{className:"k-sub",style:{marginTop:10},children:"Sto caricando la scaletta"})]})})}):!e||!o?w.jsx("div",{className:"k-bg",children:w.jsx("div",{className:"k-wrap",children:w.jsxs("div",{className:"k-card k-empty",style:{marginTop:90},children:[w.jsx("div",{className:"k-title",children:"Serata non trovata"}),w.jsx("div",{className:"k-sub",style:{marginTop:10},children:"Assicurati che il codice evento sia corretto."}),w.jsx("div",{style:{marginTop:18},children:w.jsx(ru,{to:"/",style:{color:"rgba(255,43,214,.95)",fontWeight:900,letterSpacing:".14em",textTransform:"uppercase"},children:"Torna alla home"})})]})})}):w.jsxs("div",{className:"k-bg",children:[w.jsxs("div",{className:"k-qr-float",children:[w.jsx("div",{className:"k-qrbox",children:w.jsx(Jb,{value:p,size:110})}),w.jsx("div",{className:"k-qrlabel",children:"Prenota qui"})]}),w.jsxs("div",{className:"k-wrap",children:[w.jsxs("div",{className:"k-card k-topbar",children:[w.jsxs("div",{children:[w.jsx("div",{className:"k-title karaoke-title",children:o.name}),w.jsxs("div",{className:"k-sub",style:{marginTop:6},children:["Codice serata: ",w.jsx("span",{style:{color:"rgba(255,255,255,.92)",fontWeight:900},children:e})]})]}),w.jsx("div",{className:"k-pill",children:"LIVE UPDATING"})]}),w.jsxs("div",{className:"k-card",children:[w.jsxs("div",{className:"k-sectionTitle",children:[w.jsxs("div",{className:"k-h2",children:[w.jsx(zb,{size:18}),w.jsx("span",{children:"Elenco partecipanti"})]}),w.jsx("div",{className:"k-live",children:"Live"})]}),w.jsx("div",{className:"k-tableWrap",children:w.jsxs("table",{className:"k-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"k-th",style:{width:120},children:"Stato"}),w.jsx("th",{className:"k-th",children:"Nickname"}),w.jsx("th",{className:"k-th",children:"Canzone"}),w.jsx("th",{className:"k-th",style:{width:110,textAlign:"center"},children:"Attesa"}),w.jsx("th",{className:"k-th",style:{width:110,textAlign:"center"},children:"Tonalit"})]})}),w.jsxs("tbody",{children:[n.map((b,x)=>{const k=b.status===ct.SUL_PALCO?"k-dot-now":b.status===ct.PROSSIMO?"k-dot-next":"k-dot-wait",j=b.status===ct.SUL_PALCO?"Sul palco":b.status===ct.PROSSIMO?"Prossimo":"In attesa",U=T(x);return w.jsxs("tr",{className:"k-row",children:[w.jsx("td",{className:"k-td",children:w.jsxs("span",{className:"k-status",children:[w.jsx("span",{className:`k-dot ${k}`}),j]})}),w.jsx("td",{className:"k-td",style:{fontWeight:900},children:b.nickname}),w.jsx("td",{className:"p-4",children:w.jsx("div",{className:"text-xl font-bold text-pink-500 tracking-tight drop-shadow-[0_0_6px_rgba(255,0,150,0.6)]",children:b.songTitle})}),w.jsx("td",{className:"k-td",style:{textAlign:"center"},children:w.jsxs("span",{style:{display:"inline-block",padding:"6px 10px",borderRadius:12,border:"1px solid rgba(255,255,255,.10)",background:"rgba(255,255,255,.05)",color:"rgba(255,255,255,.75)",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontWeight:900,fontSize:14},children:["~",U,"m"]})}),w.jsx("td",{className:"k-td",style:{textAlign:"center",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontWeight:900,color:"rgba(255,43,214,.95)"},children:b.keyShift>0?`+${b.keyShift}`:b.keyShift})]},b.id)}),n.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:5,className:"k-empty",children:"La scena  vuota sii il primo a rompere il ghiaccio!"})})]})]})})]})]})]})},LO=()=>{const[r]=xp(),e=_u(),n=r.get("eventCode"),[s,o]=B.useState(null),[u,h]=B.useState(!0),[g,m]=B.useState(""),[p,_]=B.useState(""),[T,b]=B.useState(0),[x,k]=B.useState(!1),[j,U]=B.useState(!1);B.useEffect(()=>{if(!n){h(!1);return}(async()=>{try{const N=hs(si(Tt,"events"),So("eventCode","==",n),So("isActive","==",!0)),R=await gu(N);R.empty||o({id:R.docs[0].id,...R.docs[0].data()})}catch(N){console.error(N)}finally{h(!1)}})()},[n]);const te=B.useMemo(()=>(s==null?void 0:s.acceptingRequests)!==!1,[s]),ie=B.useMemo(()=>{const ue="/KaraokeBS/".replace(/\/$/,""),N=encodeURIComponent(n||"");return`${window.location.origin}${ue}/submit?eventCode=${N}`},[n]),Q=async()=>{var N;if(!n)return;U(!0);const ue=`Vieni a prenotare la tua canzone 
Serata: ${(s==null?void 0:s.name)||""}

${ie}`;try{if(navigator.share){await navigator.share({title:"KaraokeBS",text:ue,url:ie});return}(N=navigator.clipboard)!=null&&N.writeText&&await navigator.clipboard.writeText(ie);const R=`https://wa.me/?text=${encodeURIComponent(ue)}`;window.open(R,"_blank","noopener,noreferrer"),alert("Link copiato! Si apre WhatsApp per condividerlo.")}catch(R){console.error(R),window.prompt("Copia e invia questo link:",ie)}finally{U(!1)}},oe=async ue=>{if(ue.preventDefault(),!s||x)return;if(!te){alert("Prenotazioni chiuse: chiedi alla regia di riaprirle.");return}const N=g.trim(),R=p.trim();if(!(!N||!R)){k(!0);try{const D=await _p(si(Tt,`events/${s.id}/requests`),{nickname:N,songTitle:R,keyShift:T,status:ct.IN_ATTESA,createdAt:yp()});e(`/sent?eventCode=${n}&nickname=${encodeURIComponent(N)}&songTitle=${encodeURIComponent(R)}&requestId=${D.id}`)}catch(D){console.error(D),alert("Errore nell'invio della prenotazione. Riprova.")}finally{k(!1)}}};if(u)return w.jsx("div",{className:"flex items-center justify-center min-h-[50vh] text-neon-pink font-black italic animate-pulse",children:"CARICAMENTO PALCO..."});if(!n||!s)return w.jsxs("div",{className:"p-8 text-center mt-20",children:[w.jsx("h2",{className:"text-3xl font-black text-pink-500 uppercase italic",children:"Codice Invalido"}),w.jsx("p",{className:"text-gray-400 mt-2 uppercase tracking-widest text-xs",children:"Richiedi all'admin il codice corretto della serata."})]});const fe=x||!te;return w.jsxs("div",{className:"max-w-md mx-auto p-4 sm:p-6 pb-20",children:[w.jsxs("div",{className:"mb-8",children:[w.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-1 text-gray-500 hover:text-white transition-colors uppercase text-[10px] font-bold tracking-widest mb-6",children:[w.jsx(GD,{className:"w-4 h-4"})," Indietro"]}),w.jsx("h2",{className:"text-4xl font-black italic uppercase text-white tracking-tighter leading-none mb-2",children:"Prenota la tua canzone"}),w.jsxs("p",{className:"text-cyan-400 font-bold text-xs uppercase tracking-widest",children:["Serata: ",s.name]}),!te&&w.jsxs("div",{className:"mt-5 p-4 rounded-2xl border border-red-500/30 bg-red-500/10 text-red-200",children:[w.jsxs("div",{className:"flex items-center gap-2 font-black uppercase tracking-widest text-xs",children:[w.jsx(Sg,{className:"w-4 h-4"}),"Prenotazioni chiuse"]}),w.jsx("div",{className:"text-[11px] text-red-200/80 mt-2",children:"La regia ha bloccato l'invio di nuove richieste."})]}),w.jsx("div",{className:"bg-neon-gradient border border-gray-800 rounded-[2.5rem] p-8 shadow-2xl neon-border-blue",children:w.jsxs("form",{onSubmit:oe,className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-[0.2em] ml-1",children:"Il tuo Nome d'arte"}),w.jsxs("div",{className:"relative group",children:[w.jsx(EO,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-600 group-focus-within:text-cyan-400 transition-colors"}),w.jsx("input",{required:!0,type:"text",disabled:fe,value:g,onChange:ue=>m(ue.target.value),placeholder:"Es: Star Lord",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition-all placeholder:text-gray-800 font-bold disabled:opacity-40 disabled:cursor-not-allowed"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-3 tracking-[0.2em] ml-1",children:"Titolo Canzone"}),w.jsxs("div",{className:"relative group",children:[w.jsx(Ag,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-600 group-focus-within:text-pink-400 transition-colors"}),w.jsx("input",{required:!0,type:"text",disabled:fe,value:p,onChange:ue=>_(ue.target.value),placeholder:"Es: Bohemian Rhapsody",className:"w-full bg-black border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white focus:outline-none focus:border-pink-500 focus:ring-1 focus:ring-pink-500 transition-all placeholder:text-gray-800 font-bold disabled:opacity-40 disabled:cursor-not-allowed"})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-3 ml-1",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-[0.2em]",children:"Tonalit (Key Shift)"}),w.jsx("span",{className:"text-pink-400 font-mono font-bold px-2 py-0.5 bg-pink-500/10 rounded border border-pink-500/20",children:T>0?`+${T}`:T})]}),w.jsxs("div",{className:"px-2",children:[w.jsx("input",{type:"range",min:"-3",max:"3",disabled:fe,value:T,onChange:ue=>b(parseInt(ue.target.value)),className:"w-full h-1.5 bg-gray-800 rounded-lg appearance-none cursor-pointer accent-pink-500 disabled:opacity-40 disabled:cursor-not-allowed"}),w.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-gray-600 font-mono uppercase font-black",children:[w.jsx("span",{children:"-3 semitoni"}),w.jsx("span",{children:"Originale"}),w.jsx("span",{children:"+3 semitoni"})]})]})]}),w.jsx("button",{type:"submit",disabled:fe,className:`w-full bg-pink-600 hover:bg-pink-500 text-white font-black uppercase italic tracking-[0.15em] py-5 rounded-3xl transition-all shadow-xl shadow-pink-900/40 transform active:scale-95 flex items-center justify-center gap-2 ${fe?"opacity-50 cursor-not-allowed hover:bg-pink-600":""}`,children:x?"Invio in corso...":te?w.jsxs(w.Fragment,{children:["Invia la canzone ",w.jsx(KD,{className:"w-5 h-5"})]}):"Prenotazioni chiuse"})]})}),w.jsxs("button",{type:"button",onClick:Q,disabled:j,className:`mt-5 w-full border border-cyan-500/30 bg-cyan-500/10 hover:bg-cyan-500/20 text-cyan-200 font-black uppercase tracking-widest py-3 rounded-2xl transition-all flex items-center justify-center gap-2 ${j?"opacity-60 cursor-not-allowed":""}`,title:"Condividi il link della serata",children:[w.jsx(gO,{className:"w-5 h-5"}),j?"Preparazione...":"Invita gli amici"]})]}),w.jsx("div",{className:"mt-8 text-center",children:w.jsx("p",{className:"text-gray-600 text-[10px] uppercase font-bold tracking-widest leading-relaxed",children:"Assicurati che il titolo sia corretto per permettere alla regia di trovare la base velocemente!"})})]})},UO=()=>w.jsx(LO,{}),zO=()=>{const[r]=xp(),e=r.get("eventCode"),n=r.get("nickname"),s=r.get("songTitle"),o=r.get("requestId"),[u,h]=B.useState(null),[g,m]=B.useState(4.5),[p,_]=B.useState(!0);B.useEffect(()=>{(async()=>{if(!e){_(!1);return}try{const x=hs(si(Tt,"events"),So("eventCode","==",e),So("isActive","==",!0)),j=(await gu(x)).docs[0];if(!j){h(null);return}const U=Number(j.data().songMinutes);if(m(!U||isNaN(U)||U<=0?4.5:U),!o){h(null);return}const te=hs(si(Tt,`events/${j.id}/requests`),nu("createdAt","asc")),ie=await gu(te);let Q=o?ie.docs.findIndex(oe=>oe.id===o):-1;if(Q===-1&&n&&s){const oe=[];ie.docs.forEach((fe,ue)=>{const N=fe.data();N.nickname===n&&N.songTitle===s&&oe.push(ue)}),oe.length&&(Q=oe[oe.length-1])}h(Q!==-1?Q+1:null)}catch(x){console.error("Error calculating position:",x),h(null)}finally{_(!1)}})()},[e,o]);const T=u&&u>1?Math.ceil((u-1)*g):0;return w.jsxs("div",{className:"max-w-md mx-auto p-4 sm:p-6 text-center pt-12",children:[w.jsx("div",{className:"flex justify-center mb-8",children:w.jsx("div",{className:"w-24 h-24 bg-green-500/10 rounded-full flex items-center justify-center border-4 border-green-500/20 shadow-2xl shadow-green-500/30",children:w.jsx($D,{className:"w-12 h-12 text-green-400 animate-bounce"})})}),w.jsx("h2",{className:"text-4xl font-black italic uppercase text-white tracking-tighter mb-4",children:"Prenotata!"}),w.jsx("p",{className:"text-gray-400 uppercase font-bold text-xs tracking-[0.2em] mb-10",children:"La tua richiesta  in scaletta."}),w.jsxs("div",{className:"bg-neon-gradient border border-gray-800 rounded-[2.5rem] p-8 mb-8 text-left space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest block mb-1",children:"Cantante"}),w.jsx("div",{className:"text-xl font-bold text-white italic",children:n})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest block mb-1",children:"Canzone"}),w.jsx("div",{className:"text-lg font-bold text-pink-400 italic",children:s})]}),w.jsxs("div",{className:"pt-6 border-t border-gray-800 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-3 bg-cyan-500/10 rounded-2xl",children:w.jsx(BE,{className:"text-cyan-400 w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("div",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest",children:"Posizione"}),w.jsx("div",{className:"text-2xl font-black italic text-cyan-400",children:p?"...":u?`#${u}`:"?"})]})]}),w.jsxs("div",{className:"flex items-center gap-3 text-right",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-[10px] font-black uppercase text-gray-600 tracking-widest",children:"Attesa Stimata"}),w.jsx("div",{className:"text-2xl font-black italic text-pink-500",children:p?"...":`~${Math.round(T)} min`})]}),w.jsx("div",{className:"p-3 bg-pink-500/10 rounded-2xl",children:w.jsx(zb,{className:"text-pink-500 w-6 h-6"})})]})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs(ru,{to:`/queue?eventCode=${e}`,className:"w-full bg-zinc-900 border border-gray-800 text-white font-black uppercase italic tracking-widest py-5 rounded-2xl flex items-center justify-center gap-2 hover:bg-gray-800 transition-all active:scale-95",children:["Vedi Coda ",w.jsx(BE,{className:"w-4 h-4"})]}),w.jsxs(ru,{to:`/submit?eventCode=${e}`,className:"w-full bg-pink-600 text-white font-black uppercase italic tracking-widest py-5 rounded-2xl flex items-center justify-center gap-2 hover:bg-pink-500 transition-all active:scale-95 shadow-xl shadow-pink-900/30",children:["Un'altra canzone ",w.jsx(Ag,{className:"w-4 h-4"})]})]})]})},jO=({children:r})=>{const[e,n]=B.useState(null),[s,o]=B.useState(!0);return B.useEffect(()=>eI(bg,h=>{n(h),o(!1)}),[]),s?w.jsx("div",{className:"flex items-center justify-center min-h-screen text-white",children:w.jsx("div",{className:"animate-pulse text-cyan-300",children:"Loading session..."})}):e?w.jsx(w.Fragment,{children:r}):w.jsx(Hm,{to:"/queue",replace:!0})},BO=()=>w.jsxs("div",{className:"min-h-screen flex flex-col overflow-x-hidden text-white",children:[w.jsx("div",{className:"fixed inset-0 -z-10 bg-[radial-gradient(900px_600px_at_18%_10%,rgba(255,43,214,0.22),transparent_55%),radial-gradient(900px_600px_at_82%_26%,rgba(124,58,237,0.22),transparent_55%),radial-gradient(1100px_700px_at_50%_92%,rgba(255,43,214,0.10),transparent_55%),linear-gradient(180deg,#120017,#0a0010)]"}),w.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-white/10 bg-white/5 backdrop-blur-xl sticky top-0 z-50",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"relative",children:w.jsx(oO,{className:"w-10 h-10 text-pink-500 micPulse"})}),w.jsxs("h1",{className:"text-xl font-black italic uppercase tracking-tighter",children:["Karaoke",w.jsx("span",{className:"text-pink-400",children:"B&S"})]})]}),w.jsx("div",{className:"text-xs font-mono text-white/50 uppercase tracking-widest hidden sm:block",children:"Entra con il QRCode e canta!"})]}),w.jsx("main",{className:"flex-grow pb-20 sm:pb-8",children:w.jsxs(Pw,{children:[w.jsx(Jr,{path:"/admin",element:w.jsx(jO,{children:w.jsx(wO,{})})}),w.jsx(Jr,{path:"/login",element:w.jsx(RO,{})}),w.jsx(Jr,{path:"/queue",element:w.jsx(PO,{})}),w.jsx(Jr,{path:"/submit",element:w.jsx(UO,{})}),w.jsx(Jr,{path:"/sent",element:w.jsx(zO,{})}),w.jsx(Jr,{path:"/",element:w.jsx(Hm,{to:"/login",replace:!0})}),w.jsx(Jr,{path:"*",element:w.jsx(Hm,{to:"/queue",replace:!0})})]})}),w.jsx("footer",{className:"py-6 px-4 text-center border-t border-white/10 bg-transparent",children:w.jsxs("p",{className:"text-white/40 text-[10px] uppercase tracking-[0.3em]",children:[" ",new Date().getFullYear()," Produzione dei BodyAndSoul"]})})]}),Wb=document.getElementById("root");if(!Wb)throw new Error("Could not find root element to mount to");const qO=zA.createRoot(Wb);qO.render(w.jsx(kt.StrictMode,{children:w.jsx(oR,{basename:"/KaraokeBS",children:w.jsx(BO,{})})}));
